/*! For license information please see main.ab01ae37.js.LICENSE.txt */
(()=>{var e={178:(e,t,n)=>{"use strict";var i=n(557),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(e){return i.isMemo(e)?a:o[e.$$typeof]||r}o[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[i.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,i){if("string"!==typeof n){if(f){var r=p(n);r&&r!==f&&e(t,r,i)}var a=u(n);d&&(a=a.concat(d(n)));for(var o=l(t),g=l(n),m=0;m<a.length;++m){var v=a[m];if(!s[v]&&(!i||!i[v])&&(!g||!g[v])&&(!o||!o[v])){var b=h(n,v);try{c(t,v,b)}catch(y){}}}}return t}},392:(e,t,n)=>{"use strict";var i=n(780);function r(){}function s(){}s.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,s,a){if(a!==i){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:r};return n.PropTypes=n,n}},188:(e,t,n)=>{e.exports=n(392)()},780:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},470:(e,t,n)=>{"use strict";var i=n(390),r=n(124);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function g(e,t,n,i,r,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,i){var r=m.hasOwnProperty(t)?m[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var F,O=Object.assign;function j(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),s=i.stack.split("\n"),a=r.length-1,o=s.length-1;1<=a&&0<=o&&r[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||r[a]!==s[o]){var l="\n"+r[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function U(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case S:return"Portal";case E:return"Profiler";case A:return"StrictMode";case R:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function $(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=W(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function J(e,t){Q(e,t);var n=$(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function se(e,t){var n=$(t.value),i=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=ge(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,xe=null,Ae=null;function Ee(e){if(e=yr(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=_r(t),Se(e.stateNode,e.type,t))}}function ke(e){xe?Ae?Ae.push(e):Ae=[e]:xe=e}function Ce(){if(xe){var e=xe,t=Ae;if(Ae=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function Re(){}var Me=!1;function Pe(e,t,n){if(Me)return e(t,n);Me=!0;try{return Te(e,t,n)}finally{Me=!1,(null!==xe||null!==Ae)&&(Re(),Ce())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var i=_r(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ie=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Ie=!1}function Ne(e,t,n,i,r,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Fe=!1,Oe=null,je=!1,ze=null,Be={onError:function(e){Fe=!0,Oe=e}};function Ue(e,t,n,i,r,s,a,o,l){Fe=!1,Oe=null,Ne.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Ve(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return $e(r),e;if(a===i)return $e(r),t;a=a.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=a;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,i=a;break}if(l===i){o=!0,i=r,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,i=r;break}if(l===i){o=!0,i=a,n=r;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var qe=r.unstable_scheduleCallback,Ke=r.unstable_cancelCallback,Xe=r.unstable_shouldYield,Ye=r.unstable_requestPaint,Qe=r.unstable_now,Je=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~r;0!==o?i=dt(o):0!==(s&=a)&&(i=dt(s))}else 0!==(a=n&~r)?i=dt(a):0!==s&&(i=dt(s));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(s=t&-t)||16===r&&0!==(4194240&s)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-at(t)),i|=e[n],t&=~r;return i}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-at(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var yt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,St,xt,At,Et,kt=!1,Ct=[],Tt=null,Rt=null,Mt=null,Pt=new Map,Lt=new Map,It=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Ft(e,t,n,i,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=yr(t))&&St(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Ot(e){var t=br(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yr(n))&&St(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);we=i,n.target.dispatchEvent(i),we=null,t.shift()}return!0}function zt(e,t,n){jt(e)&&n.delete(t)}function Bt(){kt=!1,null!==Tt&&jt(Tt)&&(Tt=null),null!==Rt&&jt(Rt)&&(Rt=null),null!==Mt&&jt(Mt)&&(Mt=null),Pt.forEach(zt),Lt.forEach(zt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return Ut(t,e)}if(0<Ct.length){Ut(Ct[0],e);for(var n=1;n<Ct.length;n++){var i=Ct[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Tt&&Ut(Tt,e),null!==Rt&&Ut(Rt,e),null!==Mt&&Ut(Mt,e),Pt.forEach(t),Lt.forEach(t),n=0;n<It.length;n++)(i=It[n]).blockedOn===e&&(i.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Ot(n),null===n.blockedOn&&It.shift()}var Ht=w.ReactCurrentBatchConfig,$t=!0;function Wt(e,t,n,i){var r=yt,s=Ht.transition;Ht.transition=null;try{yt=1,qt(e,t,n,i)}finally{yt=r,Ht.transition=s}}function Gt(e,t,n,i){var r=yt,s=Ht.transition;Ht.transition=null;try{yt=4,qt(e,t,n,i)}finally{yt=r,Ht.transition=s}}function qt(e,t,n,i){if($t){var r=Xt(e,t,n,i);if(null===r)$i(e,t,i,Kt,n),Nt(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Tt=Ft(Tt,e,t,n,i,r),!0;case"dragenter":return Rt=Ft(Rt,e,t,n,i,r),!0;case"mouseover":return Mt=Ft(Mt,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Pt.set(s,Ft(Pt.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Lt.set(s,Ft(Lt.get(s)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Nt(e,i),4&t&&-1<Dt.indexOf(e)){for(;null!==r;){var s=yr(r);if(null!==s&&_t(s),null===(s=Xt(e,t,n,i))&&$i(e,t,i,Kt,n),s===r)break;r=s}null!==r&&i.stopPropagation()}else $i(e,t,i,null,n)}}var Kt=null;function Xt(e,t,n,i){if(Kt=null,null!==(e=br(e=_e(i))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,i=n.length,r="value"in Qt?Qt.value:Qt.textContent,s=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[s-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,i,r,s){for(var a in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=O({},cn,{view:0,detail:0}),hn=sn(dn),pn=O({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),fn=sn(pn),gn=sn(O({},pn,{dataTransfer:0})),mn=sn(O({},dn,{relatedTarget:0})),vn=sn(O({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=O({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=sn(bn),wn=sn(O({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return An}var kn=O({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(kn),Tn=sn(O({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=sn(O({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Mn=sn(O({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=O({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Pn),In=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Nn=null;u&&"documentMode"in document&&(Nn=document.documentMode);var Fn=u&&"TextEvent"in window&&!Nn,On=u&&(!Dn||Nn&&8<Nn&&11>=Nn),jn=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,i){ke(i),0<(t=Gi(t,"onChange")).length&&(n=new un("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Gn=null,qn=null;function Kn(e){ji(e,0)}function Xn(e){if(q(wr(e)))return e}function Yn(e,t){if("change"===e)return t}var Qn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Zn="function"===typeof ei.oninput}Jn=Zn}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function ti(){Gn&&(Gn.detachEvent("onpropertychange",ni),qn=Gn=null)}function ni(e){if("value"===e.propertyName&&Xn(qn)){var t=[];Wn(t,qn,e,_e(e)),Pe(Kn,t)}}function ii(e,t,n){"focusin"===e?(ti(),qn=n,(Gn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(qn)}function si(e,t){if("click"===e)return Xn(t)}function ai(e,t){if("input"===e||"change"===e)return Xn(t)}var oi="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(oi(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!d.call(t,r)||!oi(e[r],t[r]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ui(e,t){var n,i=ci(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ci(i)}}function di(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?di(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hi(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fi(e){var t=hi(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&di(n.ownerDocument.documentElement,n)){if(null!==i&&pi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=void 0===i.end?s:Math.min(i.end,r),!e.extend&&s>i&&(r=i,i=s,s=r),r=ui(n,s);var a=ui(n,i);r&&a&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gi=u&&"documentMode"in document&&11>=document.documentMode,mi=null,vi=null,bi=null,yi=!1;function wi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yi||null==mi||mi!==K(i)||("selectionStart"in(i=mi)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},bi&&li(bi,i)||(bi=i,0<(i=Gi(vi,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=mi)))}function _i(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Si={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionend:_i("Transition","TransitionEnd")},xi={},Ai={};function Ei(e){if(xi[e])return xi[e];if(!Si[e])return e;var t,n=Si[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ai)return xi[e]=n[t];return e}u&&(Ai=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);var ki=Ei("animationend"),Ci=Ei("animationiteration"),Ti=Ei("animationstart"),Ri=Ei("transitionend"),Mi=new Map,Pi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(e,t){Mi.set(e,t),l(t,[e])}for(var Ii=0;Ii<Pi.length;Ii++){var Di=Pi[Ii];Li(Di.toLowerCase(),"on"+(Di[0].toUpperCase()+Di.slice(1)))}Li(ki,"onAnimationEnd"),Li(Ci,"onAnimationIteration"),Li(Ti,"onAnimationStart"),Li("dblclick","onDoubleClick"),Li("focusin","onFocus"),Li("focusout","onBlur"),Li(Ri,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ni));function Oi(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,a,o,l,c){if(Ue.apply(this,arguments),Fe){if(!Fe)throw Error(s(198));var u=Oe;Fe=!1,Oe=null,je||(je=!0,ze=u)}}(i,t,void 0,e),e.currentTarget=null}function ji(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;Oi(r,o,c),s=l}else for(a=0;a<i.length;a++){if(l=(o=i[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;Oi(r,o,c),s=l}}}if(je)throw e=ze,je=!1,ze=null,e}function zi(e,t){var n=t[gr];void 0===n&&(n=t[gr]=new Set);var i=e+"__bubble";n.has(i)||(Hi(t,e,2,!1),n.add(i))}function Bi(e,t,n){var i=0;t&&(i|=4),Hi(n,e,i,t)}var Ui="_reactListening"+Math.random().toString(36).slice(2);function Vi(e){if(!e[Ui]){e[Ui]=!0,a.forEach((function(t){"selectionchange"!==t&&(Fi.has(t)||Bi(t,!1,e),Bi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ui]||(t[Ui]=!0,Bi("selectionchange",!1,t))}}function Hi(e,t,n,i){switch(Yt(t)){case 1:var r=Wt;break;case 4:r=Gt;break;default:r=qt}n=r.bind(null,t,n,e),r=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function $i(e,t,n,i,r){var s=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var o=i.stateNode.containerInfo;if(o===r||8===o.nodeType&&o.parentNode===r)break;if(4===a)for(a=i.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;a=a.return}for(;null!==o;){if(null===(a=br(o)))return;if(5===(l=a.tag)||6===l){i=s=a;continue e}o=o.parentNode}}i=i.return}Pe((function(){var i=s,r=_e(n),a=[];e:{var o=Mi.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case ki:case Ci:case Ti:l=vn;break;case Ri:l=Mn;break;case"scroll":l=hn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var p,f=i;null!==f;){var g=(p=f).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==h&&(null!=(g=Le(f,h))&&u.push(Wi(f,g,p)))),d)break;f=f.return}0<u.length&&(o=new l(o,c,null,n,r),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!br(c)&&!c[fr])&&(l||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?br(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=fn,g="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,g="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?o:wr(l),p=null==c?o:wr(c),(o=new u(g,f+"leave",l,n,r)).target=d,o.relatedTarget=p,g=null,br(r)===i&&((u=new u(h,f+"enter",c,n,r)).target=p,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,f=0,p=u=l;p;p=qi(p))f++;for(p=0,g=h;g;g=qi(g))p++;for(;0<f-p;)u=qi(u),f--;for(;0<p-f;)h=qi(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=qi(u),h=qi(h)}u=null}else u=null;null!==l&&Ki(a,o,l,u,!1),null!==c&&null!==d&&Ki(a,d,c,u,!0)}if("select"===(l=(o=i?wr(i):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var m=Yn;else if($n(o))if(Qn)m=ai;else{m=ri;var v=ii}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(m=si);switch(m&&(m=m(e,i))?Wn(a,m,n,r):(v&&v(e,o,i),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=i?wr(i):window,e){case"focusin":($n(v)||"true"===v.contentEditable)&&(mi=v,vi=i,bi=null);break;case"focusout":bi=vi=mi=null;break;case"mousedown":yi=!0;break;case"contextmenu":case"mouseup":case"dragend":yi=!1,wi(a,n,r);break;case"selectionchange":if(gi)break;case"keydown":case"keyup":wi(a,n,r)}var b;if(Dn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Vn?Bn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(On&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Vn&&(b=en()):(Jt="value"in(Qt=r)?Qt.value:Qt.textContent,Vn=!0)),0<(v=Gi(i,y)).length&&(y=new wn(y,e,null,n,r),a.push({event:y,listeners:v}),b?y.data=b:null!==(b=Un(n))&&(y.data=b))),(b=Fn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(zn=!0,jn);case"textInput":return(e=t.data)===jn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Dn&&Bn(e,t)?(e=en(),Zt=Jt=Qt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return On&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Gi(i,"onBeforeInput")).length&&(r=new wn("onBeforeInput","beforeinput",null,n,r),a.push({event:r,listeners:i}),r.data=b))}ji(a,t)}))}function Wi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Le(e,n))&&i.unshift(Wi(e,s,r)),null!=(s=Le(e,t))&&i.push(Wi(e,s,r))),e=e.return}return i}function qi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ki(e,t,n,i,r){for(var s=t._reactName,a=[];null!==n&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===i)break;5===o.tag&&null!==c&&(o=c,r?null!=(l=Le(n,s))&&a.unshift(Wi(n,l,o)):r||null!=(l=Le(n,s))&&a.push(Wi(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xi=/\r\n?/g,Yi=/\u0000|\uFFFD/g;function Qi(e){return("string"===typeof e?e:""+e).replace(Xi,"\n").replace(Yi,"")}function Ji(e,t,n){if(t=Qi(t),Qi(e)!==t&&n)throw Error(s(425))}function Zi(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,ar="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(e){return sr.resolve(null).then(e).catch(or)}:ir;function or(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Vt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Vt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),hr="__reactFiber$"+dr,pr="__reactProps$"+dr,fr="__reactContainer$"+dr,gr="__reactEvents$"+dr,mr="__reactListeners$"+dr,vr="__reactHandles$"+dr;function br(e){var t=e[hr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fr]||n[hr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ur(e);null!==e;){if(n=e[hr])return n;e=ur(e)}return t}n=(e=n).parentNode}return null}function yr(e){return!(e=e[hr]||e[fr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _r(e){return e[pr]||null}var Sr=[],xr=-1;function Ar(e){return{current:e}}function Er(e){0>xr||(e.current=Sr[xr],Sr[xr]=null,xr--)}function kr(e,t){xr++,Sr[xr]=e.current,e.current=t}var Cr={},Tr=Ar(Cr),Rr=Ar(!1),Mr=Cr;function Pr(e,t){var n=e.type.contextTypes;if(!n)return Cr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Lr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ir(){Er(Rr),Er(Tr)}function Dr(e,t,n){if(Tr.current!==Cr)throw Error(s(168));kr(Tr,t),kr(Rr,n)}function Nr(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(s(108,H(e)||"Unknown",r));return O({},n,i)}function Fr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cr,Mr=Tr.current,kr(Tr,e),kr(Rr,Rr.current),!0}function Or(e,t,n){var i=e.stateNode;if(!i)throw Error(s(169));n?(e=Nr(e,t,Mr),i.__reactInternalMemoizedMergedChildContext=e,Er(Rr),Er(Tr),kr(Tr,e)):Er(Rr),kr(Rr,n)}var jr=null,zr=!1,Br=!1;function Ur(e){null===jr?jr=[e]:jr.push(e)}function Vr(){if(!Br&&null!==jr){Br=!0;var e=0,t=yt;try{var n=jr;for(yt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}jr=null,zr=!1}catch(r){throw null!==jr&&(jr=jr.slice(e+1)),qe(Ze,Vr),r}finally{yt=t,Br=!1}}return null}var Hr=[],$r=0,Wr=null,Gr=0,qr=[],Kr=0,Xr=null,Yr=1,Qr="";function Jr(e,t){Hr[$r++]=Gr,Hr[$r++]=Wr,Wr=e,Gr=t}function Zr(e,t,n){qr[Kr++]=Yr,qr[Kr++]=Qr,qr[Kr++]=Xr,Xr=e;var i=Yr;e=Qr;var r=32-at(i)-1;i&=~(1<<r),n+=1;var s=32-at(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Yr=1<<32-at(t)+r|n<<r|i,Qr=s+e}else Yr=1<<s|n<<r|i,Qr=e}function es(e){null!==e.return&&(Jr(e,1),Zr(e,1,0))}function ts(e){for(;e===Wr;)Wr=Hr[--$r],Hr[$r]=null,Gr=Hr[--$r],Hr[$r]=null;for(;e===Xr;)Xr=qr[--Kr],qr[Kr]=null,Qr=qr[--Kr],qr[Kr]=null,Yr=qr[--Kr],qr[Kr]=null}var ns=null,is=null,rs=!1,ss=null;function as(e,t){var n=Lc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,is=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,is=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xr?{id:Yr,overflow:Qr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Lc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,is=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(rs){var t=is;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=cr(n.nextSibling);var i=ns;t&&os(e,t)?as(i,n):(e.flags=-4097&e.flags|2,rs=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,rs=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!rs)return us(e),rs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=is)){if(ls(e))throw hs(),Error(s(418));for(;t;)as(e,t),t=cr(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){is=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}is=null}}else is=ns?cr(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=is;e;)e=cr(e.nextSibling)}function ps(){is=ns=null,rs=!1}function fs(e){null===ss?ss=[e]:ss.push(e)}var gs=w.ReactCurrentBatchConfig;function ms(e,t){if(e&&e.defaultProps){for(var n in t=O({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=Ar(null),bs=null,ys=null,ws=null;function _s(){ws=ys=bs=null}function Ss(e){var t=vs.current;Er(vs),e._currentValue=t}function xs(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function As(e,t){bs=e,ws=ys=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wo=!0),e.firstContext=null)}function Es(e){var t=e._currentValue;if(ws!==e)if(e={context:e,memoizedValue:t,next:null},null===ys){if(null===bs)throw Error(s(308));ys=e,bs.dependencies={lanes:0,firstContext:e}}else ys=ys.next=e;return t}var ks=null;function Cs(e){null===ks?ks=[e]:ks.push(e)}function Ts(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,Cs(t)):(n.next=r.next,r.next=n),t.interleaved=n,Rs(e,i)}function Rs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ms=!1;function Ps(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Is(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ds(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Rl)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Rs(e,n)}return null===(r=i.interleaved)?(t.next=t,Cs(i)):(t.next=r.next,r.next=t),i.interleaved=t,Rs(e,n)}function Ns(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Fs(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Os(e,t,n,i){var r=e.updateQueue;Ms=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=r.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,p=o.eventTime;if((i&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,g=o;switch(h=t,p=n,g.tag){case 1:if("function"===typeof(f=g.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=g.payload)?f.call(p,d,h):f)||void 0===h)break e;d=O({},d,h);break e;case 2:Ms=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=r.effects)?r.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=h;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(h=o).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}if(null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{a|=r.lane,r=r.next}while(r!==t)}else null===s&&(r.shared.lanes=0);Ol|=a,e.lanes=a,e.memoizedState=d}}function js(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var zs=(new i.Component).refs;function Bs(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:O({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Us={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=tc(),r=nc(e),s=Is(i,r);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,r))&&(ic(t,e,r,i),Ns(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=tc(),r=nc(e),s=Is(i,r);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,r))&&(ic(t,e,r,i),Ns(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),i=nc(e),r=Is(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Ds(e,r,i))&&(ic(t,e,i,n),Ns(t,e,i))}};function Vs(e,t,n,i,r,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,s))}function Hs(e,t,n){var i=!1,r=Cr,s=t.contextType;return"object"===typeof s&&null!==s?s=Es(s):(r=Lr(t)?Mr:Tr.current,s=(i=null!==(i=t.contextTypes)&&void 0!==i)?Pr(e,r):Cr),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Us,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function $s(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Us.enqueueReplaceState(t,t.state,null)}function Ws(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=zs,Ps(e);var s=t.contextType;"object"===typeof s&&null!==s?r.context=Es(s):(s=Lr(t)?Mr:Tr.current,r.context=Pr(e,s)),r.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Bs(e,t,s,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Us.enqueueReplaceState(r,r.state,null),Os(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function Gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,e));var r=i,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;t===zs&&(t=r.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function qs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ks(e){return(0,e._init)(e._payload)}function Xs(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=jc(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var s=n.type;return s===x?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===L&&Ks(s)===t.type)?((i=r(t,n.props)).ref=Gs(e,t,n),i.return=e,i):((i=Nc(n.type,n.key,n.props,null,e.mode,i)).ref=Gs(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,s){return null===t||7!==t.tag?((t=Fc(n,e.mode,i,s)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Nc(t.type,t.key,t.props,null,e.mode,n)).ref=Gs(e,null,t),n.return=e,n;case S:return(t=zc(t,e.mode,n)).return=e,t;case L:return h(e,(0,t._init)(t._payload),n)}if(te(t)||N(t))return(t=Fc(t,e.mode,n,null)).return=e,t;qs(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===r?c(e,t,n,i):null;case S:return n.key===r?u(e,t,n,i):null;case L:return p(e,t,(r=n._init)(n._payload),i)}if(te(n)||N(n))return null!==r?null:d(e,t,n,i,null);qs(e,n)}return null}function f(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case _:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case S:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case L:return f(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||N(i))return d(t,e=e.get(n)||null,i,r,null);qs(t,i)}return null}function g(r,s,o,l){for(var c=null,u=null,d=s,g=s=0,m=null;null!==d&&g<o.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=p(r,d,o[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(r,d),s=a(v,s,g),null===u?c=v:u.sibling=v,u=v,d=m}if(g===o.length)return n(r,d),rs&&Jr(r,g),c;if(null===d){for(;g<o.length;g++)null!==(d=h(r,o[g],l))&&(s=a(d,s,g),null===u?c=d:u.sibling=d,u=d);return rs&&Jr(r,g),c}for(d=i(r,d);g<o.length;g++)null!==(m=f(d,r,g,o[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),s=a(m,s,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(r,e)})),rs&&Jr(r,g),c}function m(r,o,l,c){var u=N(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,g=o,m=o=0,v=null,b=l.next();null!==g&&!b.done;m++,b=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var y=p(r,g,b.value,c);if(null===y){null===g&&(g=v);break}e&&g&&null===y.alternate&&t(r,g),o=a(y,o,m),null===d?u=y:d.sibling=y,d=y,g=v}if(b.done)return n(r,g),rs&&Jr(r,m),u;if(null===g){for(;!b.done;m++,b=l.next())null!==(b=h(r,b.value,c))&&(o=a(b,o,m),null===d?u=b:d.sibling=b,d=b);return rs&&Jr(r,m),u}for(g=i(r,g);!b.done;m++,b=l.next())null!==(b=f(g,r,m,b.value,c))&&(e&&null!==b.alternate&&g.delete(null===b.key?m:b.key),o=a(b,o,m),null===d?u=b:d.sibling=b,d=b);return e&&g.forEach((function(e){return t(r,e)})),rs&&Jr(r,m),u}return function e(i,s,a,l){if("object"===typeof a&&null!==a&&a.type===x&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===x){if(7===u.tag){n(i,u.sibling),(s=r(u,a.props.children)).return=i,i=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===L&&Ks(c)===u.type){n(i,u.sibling),(s=r(u,a.props)).ref=Gs(i,u,a),s.return=i,i=s;break e}n(i,u);break}t(i,u),u=u.sibling}a.type===x?((s=Fc(a.props.children,i.mode,l,a.key)).return=i,i=s):((l=Nc(a.type,a.key,a.props,null,i.mode,l)).ref=Gs(i,s,a),l.return=i,i=l)}return o(i);case S:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(i,s.sibling),(s=r(s,a.children||[])).return=i,i=s;break e}n(i,s);break}t(i,s),s=s.sibling}(s=zc(a,i.mode,l)).return=i,i=s}return o(i);case L:return e(i,s,(u=a._init)(a._payload),l)}if(te(a))return g(i,s,a,l);if(N(a))return m(i,s,a,l);qs(i,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(i,s.sibling),(s=r(s,a)).return=i,i=s):(n(i,s),(s=jc(a,i.mode,l)).return=i,i=s),o(i)):n(i,s)}}var Ys=Xs(!0),Qs=Xs(!1),Js={},Zs=Ar(Js),ea=Ar(Js),ta=Ar(Js);function na(e){if(e===Js)throw Error(s(174));return e}function ia(e,t){switch(kr(ta,t),kr(ea,e),kr(Zs,Js),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Er(Zs),kr(Zs,t)}function ra(){Er(Zs),Er(ea),Er(ta)}function sa(e){na(ta.current);var t=na(Zs.current),n=le(t,e.type);t!==n&&(kr(ea,e),kr(Zs,n))}function aa(e){ea.current===e&&(Er(Zs),Er(ea))}var oa=Ar(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function ua(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var da=w.ReactCurrentDispatcher,ha=w.ReactCurrentBatchConfig,pa=0,fa=null,ga=null,ma=null,va=!1,ba=!1,ya=0,wa=0;function _a(){throw Error(s(321))}function Sa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!oi(e[n],t[n]))return!1;return!0}function xa(e,t,n,i,r,a){if(pa=a,fa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=null===e||null===e.memoizedState?ao:oo,e=n(i,r),ba){a=0;do{if(ba=!1,ya=0,25<=a)throw Error(s(301));a+=1,ma=ga=null,t.updateQueue=null,da.current=lo,e=n(i,r)}while(ba)}if(da.current=so,t=null!==ga&&null!==ga.next,pa=0,ma=ga=fa=null,va=!1,t)throw Error(s(300));return e}function Aa(){var e=0!==ya;return ya=0,e}function Ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ma?fa.memoizedState=ma=e:ma=ma.next=e,ma}function ka(){if(null===ga){var e=fa.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===ma?fa.memoizedState:ma.next;if(null!==t)ma=t,ga=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===ma?fa.memoizedState=ma=e:ma=ma.next=e}return ma}function Ca(e,t){return"function"===typeof t?t(e):t}function Ta(e){var t=ka(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=ga,r=i.baseQueue,a=n.pending;if(null!==a){if(null!==r){var o=r.next;r.next=a.next,a.next=o}i.baseQueue=r=a,n.pending=null}if(null!==r){a=r.next,i=i.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((pa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=i):c=c.next=h,fa.lanes|=d,Ol|=d}u=u.next}while(null!==u&&u!==a);null===c?o=i:c.next=l,oi(i,t.memoizedState)||(wo=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{a=r.lane,fa.lanes|=a,Ol|=a,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ra(e){var t=ka(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{a=e(a,o.action),o=o.next}while(o!==r);oi(a,t.memoizedState)||(wo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Ma(){}function Pa(e,t){var n=fa,i=ka(),r=t(),a=!oi(i.memoizedState,r);if(a&&(i.memoizedState=r,wo=!0),i=i.queue,Ha(Da.bind(null,n,i,e),[e]),i.getSnapshot!==t||a||null!==ma&&1&ma.memoizedState.tag){if(n.flags|=2048,ja(9,Ia.bind(null,n,i,r,t),void 0,null),null===Ml)throw Error(s(349));0!==(30&pa)||La(n,t,r)}return r}function La(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=fa.updateQueue)?(t={lastEffect:null,stores:null},fa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ia(e,t,n,i){t.value=n,t.getSnapshot=i,Na(t)&&Fa(e)}function Da(e,t,n){return n((function(){Na(t)&&Fa(e)}))}function Na(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oi(e,n)}catch(i){return!0}}function Fa(e){var t=Rs(e,1);null!==t&&ic(t,e,1,-1)}function Oa(e){var t=Ea();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,fa,e),[t.memoizedState,e]}function ja(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=fa.updateQueue)?(t={lastEffect:null,stores:null},fa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function za(){return ka().memoizedState}function Ba(e,t,n,i){var r=Ea();fa.flags|=e,r.memoizedState=ja(1|t,n,void 0,void 0===i?null:i)}function Ua(e,t,n,i){var r=ka();i=void 0===i?null:i;var s=void 0;if(null!==ga){var a=ga.memoizedState;if(s=a.destroy,null!==i&&Sa(i,a.deps))return void(r.memoizedState=ja(t,n,s,i))}fa.flags|=e,r.memoizedState=ja(1|t,n,s,i)}function Va(e,t){return Ba(8390656,8,e,t)}function Ha(e,t){return Ua(2048,8,e,t)}function $a(e,t){return Ua(4,2,e,t)}function Wa(e,t){return Ua(4,4,e,t)}function Ga(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4,4,Ga.bind(null,t,e),n)}function Ka(){}function Xa(e,t){var n=ka();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Sa(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Ya(e,t){var n=ka();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Sa(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Qa(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,wo=!0),e.memoizedState=n):(oi(n,t)||(n=gt(),fa.lanes|=n,Ol|=n,e.baseState=!0),t)}function Ja(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var i=ha.transition;ha.transition={};try{e(!1),t()}finally{yt=n,ha.transition=i}}function Za(){return ka().memoizedState}function eo(e,t,n){var i=nc(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))io(t,n);else if(null!==(n=Ts(e,t,n,i))){ic(n,e,i,tc()),ro(n,t,i)}}function to(e,t,n){var i=nc(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))io(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(r.hasEagerState=!0,r.eagerState=o,oi(o,a)){var l=t.interleaved;return null===l?(r.next=r,Cs(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Ts(e,t,r,i))&&(ic(n,e,i,r=tc()),ro(n,t,i))}}function no(e){var t=e.alternate;return e===fa||null!==t&&t===fa}function io(e,t){ba=va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ro(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,bt(e,n)}}var so={readContext:Es,useCallback:_a,useContext:_a,useEffect:_a,useImperativeHandle:_a,useInsertionEffect:_a,useLayoutEffect:_a,useMemo:_a,useReducer:_a,useRef:_a,useState:_a,useDebugValue:_a,useDeferredValue:_a,useTransition:_a,useMutableSource:_a,useSyncExternalStore:_a,useId:_a,unstable_isNewReconciler:!1},ao={readContext:Es,useCallback:function(e,t){return Ea().memoizedState=[e,void 0===t?null:t],e},useContext:Es,useEffect:Va,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ba(4,2,e,t)},useMemo:function(e,t){var n=Ea();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Ea();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=eo.bind(null,fa,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Ea().memoizedState=e},useState:Oa,useDebugValue:Ka,useDeferredValue:function(e){return Ea().memoizedState=e},useTransition:function(){var e=Oa(!1),t=e[0];return e=Ja.bind(null,e[1]),Ea().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=fa,r=Ea();if(rs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ml)throw Error(s(349));0!==(30&pa)||La(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,Va(Da.bind(null,i,a,e),[e]),i.flags|=2048,ja(9,Ia.bind(null,i,a,n,t),void 0,null),n},useId:function(){var e=Ea(),t=Ml.identifierPrefix;if(rs){var n=Qr;t=":"+t+"R"+(n=(Yr&~(1<<32-at(Yr)-1)).toString(32)+n),0<(n=ya++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:Es,useCallback:Xa,useContext:Es,useEffect:Ha,useImperativeHandle:qa,useInsertionEffect:$a,useLayoutEffect:Wa,useMemo:Ya,useReducer:Ta,useRef:za,useState:function(){return Ta(Ca)},useDebugValue:Ka,useDeferredValue:function(e){return Qa(ka(),ga.memoizedState,e)},useTransition:function(){return[Ta(Ca)[0],ka().memoizedState]},useMutableSource:Ma,useSyncExternalStore:Pa,useId:Za,unstable_isNewReconciler:!1},lo={readContext:Es,useCallback:Xa,useContext:Es,useEffect:Ha,useImperativeHandle:qa,useInsertionEffect:$a,useLayoutEffect:Wa,useMemo:Ya,useReducer:Ra,useRef:za,useState:function(){return Ra(Ca)},useDebugValue:Ka,useDeferredValue:function(e){var t=ka();return null===ga?t.memoizedState=e:Qa(t,ga.memoizedState,e)},useTransition:function(){return[Ra(Ca)[0],ka().memoizedState]},useMutableSource:Ma,useSyncExternalStore:Pa,useId:Za,unstable_isNewReconciler:!1};function co(e,t){try{var n="",i=t;do{n+=U(i),i=i.return}while(i);var r=n}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:r,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var po="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Is(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Wl||(Wl=!0,Gl=i),ho(0,t)},n}function go(e,t,n){(n=Is(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){ho(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof i&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new po;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bo(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Is(-1,1)).tag=2,Ds(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var yo=w.ReactCurrentOwner,wo=!1;function _o(e,t,n,i){t.child=null===e?Qs(t,null,n,i):Ys(t,e.child,n,i)}function So(e,t,n,i,r){n=n.render;var s=t.ref;return As(t,r),i=xa(e,t,n,i,s,r),n=Aa(),null===e||wo?(rs&&n&&es(t),t.flags|=1,_o(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wo(e,t,r))}function xo(e,t,n,i,r){if(null===e){var s=n.type;return"function"!==typeof s||Ic(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nc(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ao(e,t,s,i,r))}if(s=e.child,0===(e.lanes&r)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:li)(a,i)&&e.ref===t.ref)return Wo(e,t,r)}return t.flags|=1,(e=Dc(s,i)).ref=t.ref,e.return=t,t.child=e}function Ao(e,t,n,i,r){if(null!==e){var s=e.memoizedProps;if(li(s,i)&&e.ref===t.ref){if(wo=!1,t.pendingProps=i=s,0===(e.lanes&r))return t.lanes=e.lanes,Wo(e,t,r);0!==(131072&e.flags)&&(wo=!0)}}return Co(e,t,n,i,r)}function Eo(e,t,n){var i=t.pendingProps,r=i.children,s=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kr(Dl,Il),Il|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kr(Dl,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==s?s.baseLanes:n,kr(Dl,Il),Il|=i}else null!==s?(i=s.baseLanes|n,t.memoizedState=null):i=n,kr(Dl,Il),Il|=i;return _o(e,t,r,n),t.child}function ko(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,i,r){var s=Lr(n)?Mr:Tr.current;return s=Pr(t,s),As(t,r),n=xa(e,t,n,i,s,r),i=Aa(),null===e||wo?(rs&&i&&es(t),t.flags|=1,_o(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wo(e,t,r))}function To(e,t,n,i,r){if(Lr(n)){var s=!0;Fr(t)}else s=!1;if(As(t,r),null===t.stateNode)$o(e,t),Hs(t,n,i),Ws(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Es(c):c=Pr(t,c=Lr(n)?Mr:Tr.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==i||l!==c)&&$s(t,a,i,c),Ms=!1;var h=t.memoizedState;a.state=h,Os(t,i,a,r),l=t.memoizedState,o!==i||h!==l||Rr.current||Ms?("function"===typeof u&&(Bs(t,n,u,i),l=t.memoizedState),(o=Ms||Vs(t,n,o,i,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=c,i=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,Ls(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ms(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Es(l):l=Pr(t,l=Lr(n)?Mr:Tr.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&$s(t,a,i,l),Ms=!1,h=t.memoizedState,a.state=h,Os(t,i,a,r);var f=t.memoizedState;o!==d||h!==f||Rr.current||Ms?("function"===typeof p&&(Bs(t,n,p,i),f=t.memoizedState),(c=Ms||Vs(t,n,c,i,h,f,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=f),a.props=i,a.state=f,a.context=l,i=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return Ro(e,t,n,i,s,r)}function Ro(e,t,n,i,r,s){ko(e,t);var a=0!==(128&t.flags);if(!i&&!a)return r&&Or(t,n,!1),Wo(e,t,s);i=t.stateNode,yo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&a?(t.child=Ys(t,e.child,null,s),t.child=Ys(t,null,o,s)):_o(e,t,o,s),t.memoizedState=i.state,r&&Or(t,n,!0),t.child}function Mo(e){var t=e.stateNode;t.pendingContext?Dr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Dr(0,t.context,!1),ia(e,t.containerInfo)}function Po(e,t,n,i,r){return ps(),fs(r),t.flags|=256,_o(e,t,n,i),t.child}var Lo,Io,Do,No,Fo={dehydrated:null,treeContext:null,retryLane:0};function Oo(e){return{baseLanes:e,cachePool:null,transitions:null}}function jo(e,t,n){var i,r=t.pendingProps,a=oa.current,o=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&a)),i?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),kr(oa,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Oc(l,r,0,null),e=Fc(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Oo(n),t.memoizedState=Fo,e):zo(t,l));if(null!==(a=e.memoizedState)&&null!==(i=a.dehydrated))return function(e,t,n,i,r,a,o){if(n)return 256&t.flags?(t.flags&=-257,Bo(e,t,o,i=uo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=i.fallback,r=t.mode,i=Oc({mode:"visible",children:i.children},r,0,null),(a=Fc(a,r,o,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,0!==(1&t.mode)&&Ys(t,e.child,null,o),t.child.memoizedState=Oo(o),t.memoizedState=Fo,a);if(0===(1&t.mode))return Bo(e,t,o,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Bo(e,t,o,i=uo(a=Error(s(419)),i,void 0))}if(l=0!==(o&e.childLanes),wo||l){if(null!==(i=Ml)){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|o))?0:r)&&r!==a.retryLane&&(a.retryLane=r,Rs(e,r),ic(i,e,r,-1))}return mc(),Bo(e,t,o,i=uo(Error(s(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,is=cr(r.nextSibling),ns=t,rs=!0,ss=null,null!==e&&(qr[Kr++]=Yr,qr[Kr++]=Qr,qr[Kr++]=Xr,Yr=e.id,Qr=e.overflow,Xr=t),t=zo(t,i.children),t.flags|=4096,t)}(e,t,l,r,i,a,n);if(o){o=r.fallback,l=t.mode,i=(a=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==a?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Dc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==i?o=Dc(i,o):(o=Fc(o,l,n,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=null===(l=e.child.memoizedState)?Oo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Fo,r}return e=(o=e.child).sibling,r=Dc(o,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function zo(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,n,i){return null!==i&&fs(i),Ys(t,e.child,null,n),(e=zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),xs(e.return,t,n)}function Vo(e,t,n,i,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Ho(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(_o(e,t,i.children,n),0!==(2&(i=oa.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(kr(oa,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Vo(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===la(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Vo(t,!0,n,null,s);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $o(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Go(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function qo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Ko(e,t,n){var i=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qo(t),null;case 1:case 17:return Lr(t.type)&&Ir(),qo(t),null;case 3:return i=t.stateNode,ra(),Er(Rr),Er(Tr),ua(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Io(e,t),qo(t),null;case 5:aa(t);var r=na(ta.current);if(n=t.type,null!==e&&null!=t.stateNode)Do(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(s(166));return qo(t),null}if(e=na(Zs.current),ds(t)){i=t.stateNode,n=t.type;var a=t.memoizedProps;switch(i[hr]=t,i[pr]=a,e=0!==(1&t.mode),n){case"dialog":zi("cancel",i),zi("close",i);break;case"iframe":case"object":case"embed":zi("load",i);break;case"video":case"audio":for(r=0;r<Ni.length;r++)zi(Ni[r],i);break;case"source":zi("error",i);break;case"img":case"image":case"link":zi("error",i),zi("load",i);break;case"details":zi("toggle",i);break;case"input":Y(i,a),zi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},zi("invalid",i);break;case"textarea":re(i,a),zi("invalid",i)}for(var l in be(n,a),r=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==a.suppressHydrationWarning&&Ji(i.textContent,c,e),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Ji(i.textContent,c,e),r=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zi("scroll",i)}switch(n){case"input":G(i),Z(i,a,!0);break;case"textarea":G(i),ae(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=Zi)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[hr]=t,e[pr]=i,Lo(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,i),n){case"dialog":zi("cancel",e),zi("close",e),r=i;break;case"iframe":case"object":case"embed":zi("load",e),r=i;break;case"video":case"audio":for(r=0;r<Ni.length;r++)zi(Ni[r],e);r=i;break;case"source":zi("error",e),r=i;break;case"img":case"image":case"link":zi("error",e),zi("load",e),r=i;break;case"details":zi("toggle",e),r=i;break;case"input":Y(e,i),r=X(e,i),zi("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=O({},i,{value:void 0}),zi("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),zi("invalid",e)}for(a in be(n,r),c=r)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&zi("scroll",e):null!=u&&y(e,a,u,l))}switch(n){case"input":G(e),Z(e,i,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=i.value&&e.setAttribute("value",""+$(i.value));break;case"select":e.multiple=!!i.multiple,null!=(a=i.value)?ne(e,!!i.multiple,a,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Zi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qo(t),null;case 6:if(e&&null!=t.stateNode)No(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(s(166));if(n=na(ta.current),na(Zs.current),ds(t)){if(i=t.stateNode,n=t.memoizedProps,i[hr]=t,(a=i.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Ji(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ji(i.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[hr]=t,t.stateNode=i}return qo(t),null;case 13:if(Er(oa),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rs&&null!==is&&0!==(1&t.mode)&&0===(128&t.flags))hs(),ps(),t.flags|=98560,a=!1;else if(a=ds(t),null!==i&&null!==i.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hr]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qo(t),a=!1}else null!==ss&&(oc(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oa.current)?0===Nl&&(Nl=3):mc())),null!==t.updateQueue&&(t.flags|=4),qo(t),null);case 4:return ra(),Io(e,t),null===e&&Vi(t.stateNode.containerInfo),qo(t),null;case 10:return Ss(t.type._context),qo(t),null;case 19:if(Er(oa),null===(a=t.memoizedState))return qo(t),null;if(i=0!==(128&t.flags),null===(l=a.rendering))if(i)Go(a,!1);else{if(0!==Nl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=la(e))){for(t.flags|=128,Go(a,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return kr(oa,1&oa.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>Hl&&(t.flags|=128,i=!0,Go(a,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=la(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Go(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!rs)return qo(t),null}else 2*Qe()-a.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,i=!0,Go(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,n=oa.current,kr(oa,i?1&n|2:1&n),t):(qo(t),null);case 22:case 23:return hc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Il)&&(qo(t),6&t.subtreeFlags&&(t.flags|=8192)):qo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Xo(e,t){switch(ts(t),t.tag){case 1:return Lr(t.type)&&Ir(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ra(),Er(Rr),Er(Tr),ua(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return aa(t),null;case 13:if(Er(oa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Er(oa),null;case 4:return ra(),null;case 10:return Ss(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Lo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Io=function(){},Do=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,na(Zs.current);var s,a=null;switch(n){case"input":r=X(e,r),i=X(e,i),a=[];break;case"select":r=O({},r,{value:void 0}),i=O({},i,{value:void 0}),a=[];break;case"textarea":r=ie(e,r),i=ie(e,i),a=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=Zi)}for(u in be(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zi("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},No=function(e,t,n,i){n!==i&&(t.flags|=4)};var Yo=!1,Qo=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Ec(e,t,i)}else n.current=null}function tl(e,t,n){try{n()}catch(i){Ec(e,t,i)}}var nl=!1;function il(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,void 0!==s&&tl(t,n,s)}r=r.next}while(r!==i)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hr],delete t[pr],delete t[gr],delete t[mr],delete t[vr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zi));else if(4!==i&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function pl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(rt,n)}catch(o){}switch(n.tag){case 5:Qo||el(n,t);case 6:var i=dl,r=hl;dl=null,pl(e,t,n),hl=r,null!==(dl=i)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Vt(e)):lr(dl,n.stateNode));break;case 4:i=dl,r=hl,dl=n.stateNode.containerInfo,hl=!0,pl(e,t,n),dl=i,hl=r;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var s=r,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&tl(n,t,a),r=r.next}while(r!==i)}pl(e,t,n);break;case 1:if(!Qo&&(el(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(o){Ec(n,t,o)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Qo=(i=Qo)||null!==n.memoizedState,pl(e,t,n),Qo=i):pl(e,t,n);break;default:pl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach((function(t){var i=Rc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(s(160));fl(a,o,r),dl=null,hl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){Ec(r,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),bl(e),4&i){try{il(3,e,e.return),rl(3,e)}catch(m){Ec(e,e.return,m)}try{il(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:ml(t,e),bl(e),512&i&&null!==n&&el(n,n.return);break;case 5:if(ml(t,e),bl(e),512&i&&null!==n&&el(n,n.return),32&e.flags){var r=e.stateNode;try{he(r,"")}catch(m){Ec(e,e.return,m)}}if(4&i&&null!=(r=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Q(r,a),ye(l,o);var u=ye(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?me(r,h):"dangerouslySetInnerHTML"===d?de(r,h):"children"===d?he(r,h):y(r,d,h,u)}switch(l){case"input":J(r,a);break;case"textarea":se(r,a);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(r,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(r,!!a.multiple,a.defaultValue,!0):ne(r,!!a.multiple,a.multiple?[]:"",!1))}r[pr]=a}catch(m){Ec(e,e.return,m)}}break;case 6:if(ml(t,e),bl(e),4&i){if(null===e.stateNode)throw Error(s(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(m){Ec(e,e.return,m)}}break;case 3:if(ml(t,e),bl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:ml(t,e),bl(e);break;case 13:ml(t,e),bl(e),8192&(r=e.child).flags&&(a=null!==r.memoizedState,r.stateNode.isHidden=a,!a||null!==r.alternate&&null!==r.alternate.memoizedState||(Vl=Qe())),4&i&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qo=(u=Qo)||d,ml(t,e),Qo=u):ml(t,e),bl(e),8192&i){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Zo=e,d=e.child;null!==d;){for(h=Zo=d;null!==Zo;){switch(f=(p=Zo).child,p.tag){case 0:case 11:case 14:case 15:il(4,p,p.return);break;case 1:el(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){i=p,n=p.return;try{t=i,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Ec(i,n,m)}}break;case 5:el(p,p.return);break;case 22:if(null!==p.memoizedState){Sl(h);continue}}null!==f?(f.return=p,Zo=f):Sl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{r=h.stateNode,u?"function"===typeof(a=r.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",o))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),bl(e),4&i&&gl(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var i=n;break e}n=n.return}throw Error(s(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(he(r,""),i.flags&=-33),ul(e,ll(e),r);break;case 3:case 4:var a=i.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(s(161))}}catch(o){Ec(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Zo=e,wl(e,t,n)}function wl(e,t,n){for(var i=0!==(1&e.mode);null!==Zo;){var r=Zo,s=r.child;if(22===r.tag&&i){var a=null!==r.memoizedState||Yo;if(!a){var o=r.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Yo;var c=Qo;if(Yo=a,(Qo=l)&&!c)for(Zo=r;null!==Zo;)l=(a=Zo).child,22===a.tag&&null!==a.memoizedState?xl(r):null!==l?(l.return=a,Zo=l):xl(r);for(;null!==s;)Zo=s,wl(s,t,n),s=s.sibling;Zo=r,Yo=o,Qo=c}_l(e)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,Zo=s):_l(e)}}function _l(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||rl(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Qo)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:ms(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&js(t,a,i);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}js(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(s(163))}Qo||512&t.flags&&sl(t)}catch(p){Ec(t,t.return,p)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function Sl(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function xl(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ec(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){Ec(t,r,l)}}var s=t.return;try{sl(t)}catch(l){Ec(t,s,l)}break;case 5:var a=t.return;try{sl(t)}catch(l){Ec(t,a,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Al,El=Math.ceil,kl=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Rl=0,Ml=null,Pl=null,Ll=0,Il=0,Dl=Ar(0),Nl=0,Fl=null,Ol=0,jl=0,zl=0,Bl=null,Ul=null,Vl=0,Hl=1/0,$l=null,Wl=!1,Gl=null,ql=null,Kl=!1,Xl=null,Yl=0,Ql=0,Jl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Rl)?Qe():-1!==Zl?Zl:Zl=Qe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Rl)&&0!==Ll?Ll&-Ll:null!==gs.transition?(0===ec&&(ec=gt()),ec):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function ic(e,t,n,i){if(50<Ql)throw Ql=0,Jl=null,Error(s(185));vt(e,n,i),0!==(2&Rl)&&e===Ml||(e===Ml&&(0===(2&Rl)&&(jl|=n),4===Nl&&lc(e,Ll)),rc(e,i),1===n&&0===Rl&&0===(1&t.mode)&&(Hl=Qe()+500,zr&&Vr()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=r[a];-1===l?0!==(o&n)&&0===(o&i)||(r[a]=pt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var i=ht(e,e===Ml?Ll:0);if(0===i)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){zr=!0,Ur(e)}(cc.bind(null,e)):Ur(cc.bind(null,e)),ar((function(){0===(6&Rl)&&Vr()})),n=null;else{switch(wt(i)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Mc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Rl))throw Error(s(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var i=ht(e,e===Ml?Ll:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=vc(e,i);else{t=i;var r=Rl;Rl|=2;var a=gc();for(Ml===e&&Ll===t||($l=null,Hl=Qe()+500,pc(e,t));;)try{yc();break}catch(l){fc(e,l)}_s(),kl.current=a,Rl=r,null!==Pl?t=0:(Ml=null,Ll=0,t=Nl)}if(0!==t){if(2===t&&(0!==(r=ft(e))&&(i=r,t=ac(e,r))),1===t)throw n=Fl,pc(e,0),lc(e,i),rc(e,Qe()),n;if(6===t)lc(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!oi(s(),r))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=vc(e,i))&&(0!==(a=ft(e))&&(i=a,t=ac(e,a))),1===t))throw n=Fl,pc(e,0),lc(e,i),rc(e,Qe()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:case 5:Sc(e,Ul,$l);break;case 3:if(lc(e,i),(130023424&i)===i&&10<(t=Vl+500-Qe())){if(0!==ht(e,0))break;if(((r=e.suspendedLanes)&i)!==i){tc(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(Sc.bind(null,e,Ul,$l),t);break}Sc(e,Ul,$l);break;case 4:if(lc(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var o=31-at(i);a=1<<o,(o=t[o])>r&&(r=o),i&=~a}if(i=r,10<(i=(120>(i=Qe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*El(i/1960))-i)){e.timeoutHandle=ir(Sc.bind(null,e,Ul,$l),i);break}Sc(e,Ul,$l);break;default:throw Error(s(329))}}}return rc(e,Qe()),e.callbackNode===n?sc.bind(null,e):null}function ac(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Ul,Ul=n,null!==t&&oc(t)),e}function oc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function lc(e,t){for(t&=~zl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),i=1<<n;e[n]=-1,t&=~i}}function cc(e){if(0!==(6&Rl))throw Error(s(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Qe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var i=ft(e);0!==i&&(t=i,n=ac(e,i))}if(1===n)throw n=Fl,pc(e,0),lc(e,t),rc(e,Qe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Ul,$l),rc(e,Qe()),null}function uc(e,t){var n=Rl;Rl|=1;try{return e(t)}finally{0===(Rl=n)&&(Hl=Qe()+500,zr&&Vr())}}function dc(e){null!==Xl&&0===Xl.tag&&0===(6&Rl)&&xc();var t=Rl;Rl|=1;var n=Tl.transition,i=yt;try{if(Tl.transition=null,yt=1,e)return e()}finally{yt=i,Tl.transition=n,0===(6&(Rl=t))&&Vr()}}function hc(){Il=Dl.current,Er(Dl)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Pl)for(n=Pl.return;null!==n;){var i=n;switch(ts(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Ir();break;case 3:ra(),Er(Rr),Er(Tr),ua();break;case 5:aa(i);break;case 4:ra();break;case 13:case 19:Er(oa);break;case 10:Ss(i.type._context);break;case 22:case 23:hc()}n=n.return}if(Ml=e,Pl=e=Dc(e.current,null),Ll=Il=t,Nl=0,Fl=null,zl=jl=Ol=0,Ul=Bl=null,null!==ks){for(t=0;t<ks.length;t++)if(null!==(i=(n=ks[t]).interleaved)){n.interleaved=null;var r=i.next,s=n.pending;if(null!==s){var a=s.next;s.next=r,i.next=a}n.pending=i}ks=null}return e}function fc(e,t){for(;;){var n=Pl;try{if(_s(),da.current=so,va){for(var i=fa.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}va=!1}if(pa=0,ma=ga=fa=null,ba=!1,ya=0,Cl.current=null,null===n||null===n.return){Nl=1,Fl=t,Pl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Ll,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=vo(o);if(null!==f){f.flags&=-257,bo(f,o,l,0,t),1&f.mode&&mo(a,u,t),c=u;var g=(t=f).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){mo(a,u,t),mc();break e}c=Error(s(426))}else if(rs&&1&l.mode){var v=vo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),bo(v,o,l,0,t),fs(co(c,l));break e}}a=c=co(c,l),4!==Nl&&(Nl=2),null===Bl?Bl=[a]:Bl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Fs(a,fo(0,c,t));break e;case 1:l=c;var b=a.type,y=a.stateNode;if(0===(128&a.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===ql||!ql.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t,Fs(a,go(a,l,t));break e}}a=a.return}while(null!==a)}_c(n)}catch(w){t=w,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function gc(){var e=kl.current;return kl.current=so,null===e?so:e}function mc(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Ml||0===(268435455&Ol)&&0===(268435455&jl)||lc(Ml,Ll)}function vc(e,t){var n=Rl;Rl|=2;var i=gc();for(Ml===e&&Ll===t||($l=null,pc(e,t));;)try{bc();break}catch(r){fc(e,r)}if(_s(),Rl=n,kl.current=i,null!==Pl)throw Error(s(261));return Ml=null,Ll=0,Nl}function bc(){for(;null!==Pl;)wc(Pl)}function yc(){for(;null!==Pl&&!Xe();)wc(Pl)}function wc(e){var t=Al(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?_c(e):Pl=t,Cl.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,Il)))return void(Pl=n)}else{if(null!==(n=Xo(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Nl=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Nl&&(Nl=5)}function Sc(e,t,n){var i=yt,r=Tl.transition;try{Tl.transition=null,yt=1,function(e,t,n,i){do{xc()}while(null!==Xl);if(0!==(6&Rl))throw Error(s(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-at(n),s=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~s}}(e,a),e===Ml&&(Pl=Ml=null,Ll=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Mc(tt,(function(){return xc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tl.transition,Tl.transition=null;var o=yt;yt=1;var l=Rl;Rl|=4,Cl.current=null,function(e,t){if(er=$t,pi(e=hi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(_){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==r&&3!==h.nodeType||(l=o+r),h!==a||0!==i&&3!==h.nodeType||(c=o+i),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===r&&(l=o),p===a&&++d===i&&(c=o),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},$t=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:ms(t.type,m),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(_){Ec(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}g=nl,nl=!1}(e,n),vl(n,e),fi(tr),$t=!!er,tr=er=null,e.current=n,yl(n,e,r),Ye(),Rl=l,yt=o,Tl.transition=a}else e.current=n;if(Kl&&(Kl=!1,Xl=e,Yl=r),a=e.pendingLanes,0===a&&(ql=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Qe()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Wl)throw Wl=!1,e=Gl,Gl=null,e;0!==(1&Yl)&&0!==e.tag&&xc(),a=e.pendingLanes,0!==(1&a)?e===Jl?Ql++:(Ql=0,Jl=e):Ql=0,Vr()}(e,t,n,i)}finally{Tl.transition=r,yt=i}return null}function xc(){if(null!==Xl){var e=wt(Yl),t=Tl.transition,n=yt;try{if(Tl.transition=null,yt=16>e?16:e,null===Xl)var i=!1;else{if(e=Xl,Xl=null,Yl=0,0!==(6&Rl))throw Error(s(331));var r=Rl;for(Rl|=4,Zo=e.current;null!==Zo;){var a=Zo,o=a.child;if(0!==(16&Zo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zo=u;null!==Zo;){var d=Zo;switch(d.tag){case 0:case 11:case 15:il(8,d,a)}var h=d.child;if(null!==h)h.return=d,Zo=h;else for(;null!==Zo;){var p=(d=Zo).sibling,f=d.return;if(al(d),d===u){Zo=null;break}if(null!==p){p.return=f,Zo=p;break}Zo=f}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Zo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(a=Zo).flags))switch(a.tag){case 0:case 11:case 15:il(9,a,a.return)}var b=a.sibling;if(null!==b){b.return=a.return,Zo=b;break e}Zo=a.return}}var y=e.current;for(Zo=y;null!==Zo;){var w=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Zo=w;else e:for(o=y;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){Ec(l,l.return,S)}if(l===o){Zo=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Zo=_;break e}Zo=l.return}}if(Rl=r,Vr(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(rt,e)}catch(S){}i=!0}return i}finally{yt=n,Tl.transition=t}}return!1}function Ac(e,t,n){e=Ds(e,t=fo(0,t=co(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)Ac(e,e,n);else for(;null!==t;){if(3===t.tag){Ac(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===ql||!ql.has(i))){t=Ds(t,e=go(t,e=co(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ml===e&&(Ll&n)===n&&(4===Nl||3===Nl&&(130023424&Ll)===Ll&&500>Qe()-Vl?pc(e,0):zl|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Rs(e,t))&&(vt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Rc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}null!==i&&i.delete(t),Cc(e,n)}function Mc(e,t){return qe(e,t)}function Pc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lc(e,t,n,i){return new Pc(e,t,n,i)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Lc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nc(e,t,n,i,r,a){var o=2;if(i=e,"function"===typeof e)Ic(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case x:return Fc(n.children,r,a,t);case A:o=8,r|=8;break;case E:return(e=Lc(12,n,t,2|r)).elementType=E,e.lanes=a,e;case R:return(e=Lc(13,n,t,r)).elementType=R,e.lanes=a,e;case M:return(e=Lc(19,n,t,r)).elementType=M,e.lanes=a,e;case I:return Oc(n,r,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:o=10;break e;case C:o=9;break e;case T:o=11;break e;case P:o=14;break e;case L:o=16,i=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Lc(o,n,t,r)).elementType=e,t.type=i,t.lanes=a,t}function Fc(e,t,n,i){return(e=Lc(7,e,i,t)).lanes=n,e}function Oc(e,t,n,i){return(e=Lc(22,e,i,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Lc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Lc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,i,r,s,a,o,l){return e=new Bc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Lc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ps(s),e}function Vc(e){if(!e)return Cr;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Lr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Lr(n))return Nr(e,n,t)}return t}function Hc(e,t,n,i,r,s,a,o,l){return(e=Uc(n,i,!0,e,0,s,0,o,l)).context=Vc(null),n=e.current,(s=Is(i=tc(),r=nc(n))).callback=void 0!==t&&null!==t?t:null,Ds(n,s,r),e.current.lanes=r,vt(e,r,i),rc(e,i),e}function $c(e,t,n,i){var r=t.current,s=tc(),a=nc(r);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Is(s,a)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Ds(r,t,a))&&(ic(e,r,a,s),Ns(e,r,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Al=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Rr.current)wo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wo=!1,function(e,t,n){switch(t.tag){case 3:Mo(t),ps();break;case 5:sa(t);break;case 1:Lr(t.type)&&Fr(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;kr(vs,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(kr(oa,1&oa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?jo(e,t,n):(kr(oa,1&oa.current),null!==(e=Wo(e,t,n))?e.sibling:null);kr(oa,1&oa.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return Ho(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),kr(oa,oa.current),i)break;return null;case 22:case 23:return t.lanes=0,Eo(e,t,n)}return Wo(e,t,n)}(e,t,n);wo=0!==(131072&e.flags)}else wo=!1,rs&&0!==(1048576&t.flags)&&Zr(t,Gr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;$o(e,t),e=t.pendingProps;var r=Pr(t,Tr.current);As(t,n),r=xa(null,t,i,e,r,n);var a=Aa();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lr(i)?(a=!0,Fr(t)):a=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ps(t),r.updater=Us,t.stateNode=r,r._reactInternals=t,Ws(t,i,e,n),t=Ro(null,t,i,!0,a,n)):(t.tag=0,rs&&a&&es(t),_o(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch($o(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Ic(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===P)return 14}return 2}(i),e=ms(i,e),r){case 0:t=Co(null,t,i,e,n);break e;case 1:t=To(null,t,i,e,n);break e;case 11:t=So(null,t,i,e,n);break e;case 14:t=xo(null,t,i,ms(i.type,e),n);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Co(e,t,i,r=t.elementType===i?r:ms(i,r),n);case 1:return i=t.type,r=t.pendingProps,To(e,t,i,r=t.elementType===i?r:ms(i,r),n);case 3:e:{if(Mo(t),null===e)throw Error(s(387));i=t.pendingProps,r=(a=t.memoizedState).element,Ls(e,t),Os(t,i,null,n);var o=t.memoizedState;if(i=o.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Po(e,t,i,n,r=co(Error(s(423)),t));break e}if(i!==r){t=Po(e,t,i,n,r=co(Error(s(424)),t));break e}for(is=cr(t.stateNode.containerInfo.firstChild),ns=t,rs=!0,ss=null,n=Qs(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),i===r){t=Wo(e,t,n);break e}_o(e,t,i,n)}t=t.child}return t;case 5:return sa(t),null===e&&cs(t),i=t.type,r=t.pendingProps,a=null!==e?e.memoizedProps:null,o=r.children,nr(i,r)?o=null:null!==a&&nr(i,a)&&(t.flags|=32),ko(e,t),_o(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return jo(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Ys(t,null,i,n):_o(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,So(e,t,i,r=t.elementType===i?r:ms(i,r),n);case 7:return _o(e,t,t.pendingProps,n),t.child;case 8:case 12:return _o(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,a=t.memoizedProps,o=r.value,kr(vs,i._currentValue),i._currentValue=o,null!==a)if(oi(a.value,o)){if(a.children===r.children&&!Rr.current){t=Wo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===a.tag){(c=Is(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),xs(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),xs(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}_o(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,As(t,n),i=i(r=Es(r)),t.flags|=1,_o(e,t,i,n),t.child;case 14:return r=ms(i=t.type,t.pendingProps),xo(e,t,i,r=ms(i.type,r),n);case 15:return Ao(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:ms(i,r),$o(e,t),t.tag=1,Lr(i)?(e=!0,Fr(t)):e=!1,As(t,n),Hs(t,i,r),Ws(t,i,r,n),Ro(null,t,i,!0,e,n);case 19:return Ho(e,t,n);case 22:return Eo(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,i,r){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof r){var o=r;r=function(){var e=Wc(a);o.call(e)}}$c(t,a,e,r)}else a=function(e,t,n,i,r){if(r){if("function"===typeof i){var s=i;i=function(){var e=Wc(a);s.call(e)}}var a=Hc(t,i,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[fr]=a.current,Vi(8===e.nodeType?e.parentNode:e),dc(),a}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var o=i;i=function(){var e=Wc(l);o.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[fr]=l.current,Vi(8===e.nodeType?e.parentNode:e),dc((function(){$c(t,l,n,i)})),l}(n,t,e,r,i);return Wc(a)}Yc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));$c(e,t,null,null)},Yc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){$c(null,e,null,null)})),t[fr]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=At();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Ot(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),rc(t,Qe()),0===(6&Rl)&&(Hl=Qe()+500,Vr()))}break;case 13:dc((function(){var t=Rs(e,1);if(null!==t){var n=tc();ic(t,e,1,n)}})),qc(e,1)}},St=function(e){if(13===e.tag){var t=Rs(e,134217728);if(null!==t)ic(t,e,134217728,tc());qc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Rs(e,t);if(null!==n)ic(n,e,t,tc());qc(e,t)}},At=function(){return yt},Et=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=_r(i);if(!r)throw Error(s(90));q(i),J(i,r)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uc,Re=dc;var tu={usingClientEntryPoint:!1,Events:[yr,wr,_r,ke,Ce,uc]},nu={findFiberByHostInstance:br,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},iu={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{rt=ru.inject(iu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(s(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(s(299));var n=!1,i="",r=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,i,r),e[fr]=t.current,Vi(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(s(405));var i=null!=n&&n.hydratedSources||null,r=!1,a="",o=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,r,0,a,o),e[fr]=t.current,Vi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[fr]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Jc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,i)},t.version="18.2.0-next-9e3b772b8-20220608"},254:(e,t,n)=>{"use strict";var i=n(599);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},599:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(470)},647:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case u:case d:case s:case o:case a:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case g:case l:return e;default:return t}}case r:return t}}}function S(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=h,t.Fragment=s,t.Lazy=m,t.Memo=g,t.Portal=r,t.Profiler=o,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||_(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===s},t.isLazy=function(e){return _(e)===m},t.isMemo=function(e){return _(e)===g},t.isPortal=function(e){return _(e)===r},t.isProfiler=function(e){return _(e)===o},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===d||e===o||e===a||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===b||e.$$typeof===y||e.$$typeof===w||e.$$typeof===v)},t.typeOf=_},557:(e,t,n)=>{"use strict";e.exports=n(647)},511:(e,t,n)=>{"use strict";var i=n(390),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,s={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,i)&&!l.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===s[i]&&(s[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},23:(e,t)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var w=y.prototype=new b;w.constructor=y,g(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,x={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,i){var r,s={},a=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,r)&&!A.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:x.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,r,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return a=a(l=e),e=""===s?"."+T(l,0):s,_(a)?(r="",null!=e&&(r=e.replace(C,"$&/")+"/"),R(a,t,r,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",_(e))for(var c=0;c<e.length;c++){var u=s+T(o=e[c],c);l+=R(o,t,r,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=R(o=o.value,t,r,u=s+T(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function M(e,t,n){if(null==e)return e;var i=[],r=0;return R(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},I={transition:null},D={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:I,ReactCurrentOwner:x};t.Children={map:M,forEach:function(e,t,n){M(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return M(e,(function(){t++})),t},toArray:function(e){return M(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=a,t.PureComponent=y,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=g({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=x.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!A.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:r,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.2.0"},390:(e,t,n)=>{"use strict";e.exports=n(23)},559:(e,t,n)=>{"use strict";e.exports=n(511)},17:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<s(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,a=r>>>1;i<a;){var o=2*(i+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<r&&0>s(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[o]=n,i=o);else{if(!(c<r&&0>s(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function _(e){if(m=!1,w(e),!g)if(null!==i(c))g=!0,I(S);else{var t=i(u);null!==t&&D(_,t.startTime-e)}}function S(e,n){g=!1,m&&(m=!1,b(k),k=-1),f=!0;var s=p;try{for(w(n),h=i(c);null!==h&&(!(h.expirationTime>n)||e&&!R());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===i(c)&&r(c),w(n)}else r(c);h=i(c)}if(null!==h)var l=!0;else{var d=i(u);null!==d&&D(_,d.startTime-n),l=!1}return l}finally{h=null,p=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,A=!1,E=null,k=-1,C=5,T=-1;function R(){return!(t.unstable_now()-T<C)}function M(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?x():(A=!1,E=null)}}else A=!1}if("function"===typeof y)x=function(){y(M)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,L=P.port2;P.port1.onmessage=M,x=function(){L.postMessage(null)}}else x=function(){v(M,0)};function I(e){E=e,A||(A=!0,x())}function D(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,I(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===i(c)&&e===i(u)&&(m?(b(k),k=-1):m=!0,D(_,s-a))):(e.sortIndex=o,n(c,e),g||f||(g=!0,I(S))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},124:(e,t,n)=>{"use strict";e.exports=n(17)},991:e=>{"use strict";var t=function(){};e.exports=t},583:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/pdf.worker.min.2a1f575db5df84b52c4b.mjs"}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&i;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>i[e]));return a.default=()=>i,n.d(s,a),s}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,i)=>(n.f[i](e,t),t)),[])),n.u=e=>"static/js/"+e+".24b2ed5d.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="portfolio:";n.l=(i,r,s,a)=>{if(e[i])e[i].push(r);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==i||d.getAttribute("data-webpack")==t+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=i),e[i]=[r];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(p);var r=e[i];if(delete e[i],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((e=>e(n))),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="https://mkarenko.github.io/portfolio/",(()=>{n.b=document.baseURI||self.location.href;var e={179:0};n.f.j=(t,i)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var s=new Promise(((n,i)=>r=e[t]=[n,i]));i.push(r[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,(i=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var s=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,r[1](o)}}),"chunk-"+t,t)}};var t=(t,i)=>{var r,s,a=i[0],o=i[1],l=i[2],c=0;if(a.some((t=>0!==e[t]))){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);if(l)l(n)}for(t&&t(i);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},i=self.webpackChunkportfolio=self.webpackChunkportfolio||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{sO:()=>Xp,bM:()=>Yp,Tu:()=>Qp,PDFDataRangeTransport:()=>Jp,AB:()=>Zp,Me:()=>ef});var t=n(390),i=n.t(t,2),r=n(254);const s=e=>{e&&e instanceof Function&&n.e(651).then(n.bind(n,651)).then((t=>{let{getCLS:n,getFID:i,getFCP:r,getLCP:s,getTTFB:a}=t;n(e),i(e),r(e),s(e),a(e)}))};var a,o=n(599),l=n.t(o,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,i){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function v(e,t,n,i){void 0===i&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,l=a.Pop,h=null,m=v();function v(){return(o.state||{idx:null}).idx}function b(){l=a.Pop;let e=v(),t=null==e?null:e-m;m=e,h&&h({action:l,location:w.location,delta:t})}function y(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,n="string"===typeof e?e:g(e);return d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,o.replaceState(c({},o.state,{idx:m}),""));let w={get action(){return l},get location(){return e(r,o)},listen(e){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(u,b),h=e,()=>{r.removeEventListener(u,b),h=null}},createHref:e=>t(r,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=a.Push;let i=f(w.location,e,t);n&&n(i,e),m=v()+1;let c=p(i,m),u=w.createHref(i);try{o.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;r.location.assign(u)}s&&h&&h({action:l,location:w.location,delta:1})},replace:function(e,t){l=a.Replace;let i=f(w.location,e,t);n&&n(i,e),m=v();let r=p(i,m),c=w.createHref(i);o.replaceState(r,"",c),s&&h&&h({action:l,location:w.location,delta:0})},go:e=>o.go(e)};return w}var b;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){void 0===n&&(n="/");let i=I(("string"===typeof t?m(t):t).pathname||"/",n);if(null==i)return null;let r=w(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(r);let s=null;for(let a=0;null==s&&a<r.length;++a)s=M(r[a],L(i));return s}function w(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let r=(e,r,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};a.relativePath.startsWith("/")&&(d(a.relativePath.startsWith(i),'Absolute route path "'+a.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(i.length));let o=j([i,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),w(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:R(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of _(e.path))r(e,t,i);else r(e,t)})),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===i.length)return r?[s,""]:[s];let a=_(i.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),r&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const S=/^:\w+$/,x=3,A=2,E=1,k=10,C=-2,T=e=>"*"===e;function R(e,t){let n=e.split("/"),i=n.length;return n.some(T)&&(i+=C),t&&(i+=A),n.filter((e=>!T(e))).reduce(((e,t)=>e+(S.test(t)?x:""===t?E:k)),i)}function M(e,t){let{routesMeta:n}=e,i={},r="/",s=[];for(let a=0;a<n.length;++a){let e=n[a],o=a===n.length-1,l="/"===r?t:t.slice(r.length)||"/",c=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},l);if(!c)return null;Object.assign(i,c.params);let u=e.route;s.push({params:i,pathname:j([r,c.pathname]),pathnameBase:z(j([r,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(r=j([r,c.pathnameBase]))}return s}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(i.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(i.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let s=new RegExp(r,t?void 0:"i");return[s,i]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce(((e,t,n)=>{let{paramName:i,isOptional:r}=t;if("*"===i){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[i]=r&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return h(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",i),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function L(e){try{return decodeURI(e)}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function I(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function D(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function N(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function F(e,t){let n=N(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function O(e,t,n,i){let r;void 0===i&&(i=!1),"string"===typeof e?r=m(e):(r=c({},e),d(!r.pathname||!r.pathname.includes("?"),D("?","pathname","search",r)),d(!r.pathname||!r.pathname.includes("#"),D("#","pathname","hash",r)),d(!r.search||!r.search.includes("#"),D("#","search","hash",r)));let s,a=""===e||""===r.pathname,o=a?"/":r.pathname;if(null==o)s=n;else if(i){let e=0===t.length?[]:t[t.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e.pop();r.pathname=t.join("/")}s="/"+e.join("/")}else{let e=t.length-1;if(o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:i="",hash:r=""}="string"===typeof e?m(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:B(i),hash:U(r)}}(r,s),u=o&&"/"!==o&&o.endsWith("/"),h=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const j=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],$=(new Set(H),["get",...H]);new Set($),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},W.apply(this,arguments)}const G=t.createContext(null);const q=t.createContext(null);const K=t.createContext(null);const X=t.createContext(null);const Y=t.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=t.createContext(null);function J(){return null!=t.useContext(X)}function Z(){return J()||d(!1),t.useContext(X).location}function ee(e){t.useContext(K).static||t.useLayoutEffect(e)}function te(){let{isDataRoute:e}=t.useContext(Y);return e?function(){let{router:e}=ue(le.UseNavigateStable),n=he(ce.UseNavigateStable),i=t.useRef(!1);ee((()=>{i.current=!0}));let r=t.useCallback((function(t,r){void 0===r&&(r={}),i.current&&("number"===typeof t?e.navigate(t):e.navigate(t,W({fromRouteId:n},r)))}),[e,n]);return r}():function(){J()||d(!1);let e=t.useContext(G),{basename:n,future:i,navigator:r}=t.useContext(K),{matches:s}=t.useContext(Y),{pathname:a}=Z(),o=JSON.stringify(F(s,i.v7_relativeSplatPath)),l=t.useRef(!1);ee((()=>{l.current=!0}));let c=t.useCallback((function(t,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof t)return void r.go(t);let s=O(t,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==n&&(s.pathname="/"===s.pathname?n:j([n,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[n,r,o,a,e]);return c}()}function ne(e,n,i,r){J()||d(!1);let{navigator:s}=t.useContext(K),{matches:o}=t.useContext(Y),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,p=Z();if(n){var f;let e="string"===typeof n?m(n):n;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||d(!1),h=e}else h=p;let g=h.pathname||"/",v=y(e,{pathname:"/"===u?g:g.slice(u.length)||"/"});let b=oe(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:j([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:j([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,i,r);return n&&b?t.createElement(X.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:a.Pop}},b):b}function ie(){let e=function(){var e;let n=t.useContext(Q),i=de(ce.UseRouteError),r=he(ce.UseRouteError);if(void 0!==n)return n;return null==(e=i.errors)?void 0:e[r]}(),n=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),i?t.createElement("pre",{style:s},i):null,null)}const re=t.createElement(ie,null);class se extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Y.Provider,{value:this.props.routeContext},t.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:n,match:i,children:r}=e,s=t.useContext(G);return s&&s.static&&s.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=i.route.id),t.createElement(Y.Provider,{value:n},r)}function oe(e,n,i,r){var s;if(void 0===n&&(n=[]),void 0===i&&(i=null),void 0===r&&(r=null),null==e){var a;if(null==(a=i)||!a.errors)return null;e=i.matches}let o=e,l=null==(s=i)?void 0:s.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&(null==l?void 0:l[e.route.id])));e>=0||d(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(i&&r&&r.v7_partialHydration)for(let t=0;t<o.length;t++){let e=o[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=t),e.route.loader&&e.route.id&&void 0===i.loaderData[e.route.id]&&(!i.errors||void 0===i.errors[e.route.id])){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}return o.reduceRight(((e,r,s)=>{let a,d=!1,h=null,p=null;i&&(a=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||re,c&&(u<0&&0===s?(!function(e,t,n){t||pe[e]||(pe[e]=!0)}("route-fallback",!1),d=!0,p=null):u===s&&(d=!0,p=r.route.hydrateFallbackElement||null)));let f=n.concat(o.slice(0,s+1)),g=()=>{let n;return n=a?h:d?p:r.route.Component?t.createElement(r.route.Component,null):r.route.element?r.route.element:e,t.createElement(ae,{match:r,routeContext:{outlet:e,matches:f,isDataRoute:null!=i},children:n})};return i&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?t.createElement(se,{location:i.location,revalidation:i.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()}),null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let n=t.useContext(G);return n||d(!1),n}function de(e){let n=t.useContext(q);return n||d(!1),n}function he(e){let n=function(e){let n=t.useContext(Y);return n||d(!1),n}(),i=n.matches[n.matches.length-1];return i.route.id||d(!1),i.route.id}const pe={};i.startTransition;function fe(e){d(!1)}function ge(e){let{basename:n="/",children:i=null,location:r,navigationType:s=a.Pop,navigator:o,static:l=!1,future:c}=e;J()&&d(!1);let u=n.replace(/^\/*/,"/"),h=t.useMemo((()=>({basename:u,navigator:o,static:l,future:W({v7_relativeSplatPath:!1},c)})),[u,c,o,l]);"string"===typeof r&&(r=m(r));let{pathname:p="/",search:f="",hash:g="",state:v=null,key:b="default"}=r,y=t.useMemo((()=>{let e=I(p,u);return null==e?null:{location:{pathname:e,search:f,hash:g,state:v,key:b},navigationType:s}}),[u,p,f,g,v,b,s]);return null==y?null:t.createElement(K.Provider,{value:h},t.createElement(X.Provider,{children:i,value:y}))}function me(e){let{children:t,location:n}=e;return ne(ve(t),n)}new Promise((()=>{}));t.Component;function ve(e,n){void 0===n&&(n=[]);let i=[];return t.Children.forEach(e,((e,r)=>{if(!t.isValidElement(e))return;let s=[...n,r];if(e.type===t.Fragment)return void i.push.apply(i,ve(e.props.children,s));e.type!==fe&&d(!1),e.props.index&&e.props.children&&d(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ve(e.props.children,s)),i.push(a)})),i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);new Map;const be=i.startTransition;l.flushSync;function ye(e){let{basename:n,children:i,future:r,window:s}=e,a=t.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),v((function(e,t){let{pathname:n="/",search:i="",hash:r=""}=m(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),f("",{pathname:n,search:i,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),i="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");i=-1===n?t:t.slice(0,n)}return i+"#"+("string"===typeof t?t:g(t))}),(function(e,t){h("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}({window:s,v5Compat:!0}));let o=a.current,[l,c]=t.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=t.useCallback((e=>{u&&be?be((()=>c(e))):c(e)}),[c,u]);return t.useLayoutEffect((()=>o.listen(d)),[o,d]),t.createElement(ge,{basename:n,children:i,location:l.location,navigationType:l.action,navigator:o,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var we,_e;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(we||(we={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(_e||(_e={}));var Se=function(e){const t=new Error(e);if(void 0===t.stack)try{throw t}catch(n){}return t};var xe=function(e){return!!e&&"function"===typeof e.then};var Ae=function(e,t){if(null!=e)return e;throw Se(null!==t&&void 0!==t?t:"Got unexpected null or undefined")};function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ke{getValue(){throw Se("BaseLoadable")}toPromise(){throw Se("BaseLoadable")}valueMaybe(){throw Se("BaseLoadable")}valueOrThrow(){throw Se(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw Se("BaseLoadable")}promiseOrThrow(){throw Se(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw Se("BaseLoadable")}errorOrThrow(){throw Se(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw Se("BaseLoadable")}}class Ce extends ke{constructor(e){super(),Ee(this,"state","hasValue"),Ee(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const t=e(this.contents);return xe(t)?Le(t):Ne(t)?t:Me(t)}catch(t){return xe(t)?Le(t.next((()=>this.map(e)))):Pe(t)}}}class Te extends ke{constructor(e){super(),Ee(this,"state","hasError"),Ee(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class Re extends ke{constructor(e){super(),Ee(this,"state","loading"),Ee(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return Le(this.contents.then((t=>{const n=e(t);if(Ne(n)){const e=n;switch(e.state){case"hasValue":case"loading":return e.contents;case"hasError":throw e.contents}}return n})).catch((t=>{if(xe(t))return t.then((()=>this.map(e).contents));throw t})))}}function Me(e){return Object.freeze(new Ce(e))}function Pe(e){return Object.freeze(new Te(e))}function Le(e){return Object.freeze(new Re(e))}function Ie(){return Object.freeze(new Re(new Promise((()=>{}))))}function De(e){const t=Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((t=>e[t])),n=function(e){return e.every((e=>"hasValue"===e.state))?Me(e.map((e=>e.contents))):e.some((e=>"hasError"===e.state))?Pe(Ae(e.find((e=>"hasError"===e.state)),"Invalid loadable passed to loadableAll").contents):Le(Promise.all(e.map((e=>e.contents))))}(t.map((e=>Ne(e)?e:xe(e)?Le(e):Me(e))));return Array.isArray(e)?n:n.map((t=>Object.getOwnPropertyNames(e).reduce(((e,n,i)=>({...e,[n]:t[i]})),{})))}function Ne(e){return e instanceof ke}const Fe={of:e=>xe(e)?Le(e):Ne(e)?e:Me(e),error:e=>Pe(e),loading:()=>Ie(),all:De,isLoadable:Ne};var Oe={loadableWithValue:Me,loadableWithError:Pe,loadableWithPromise:Le,loadableLoading:Ie,loadableAll:De,isLoadable:Ne,RecoilLoadable:Fe},je=Oe.loadableWithValue,ze=Oe.loadableWithError,Be=Oe.loadableWithPromise,Ue=Oe.loadableLoading,Ve=Oe.loadableAll,He=Oe.isLoadable,$e=Oe.RecoilLoadable,We=Object.freeze({__proto__:null,loadableWithValue:je,loadableWithError:ze,loadableWithPromise:Be,loadableLoading:Ue,loadableAll:Ve,isLoadable:He,RecoilLoadable:$e});const Ge={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};!function(){var e;"undefined"!==typeof process&&null!=(null===(e=process)||void 0===e?void 0:{NODE_ENV:"production",PUBLIC_URL:"https://mkarenko.github.io/portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GITHUB_TOKEN:"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;",REACT_APP_SUPABASE_URL:"https://xyyhfuvikfhaqbnefzit.supabase.co",REACT_APP_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh5eWhmdXZpa2ZoYXFibmVmeml0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDY1MjM3ODQsImV4cCI6MjAyMjA5OTc4NH0.Dv2TPF5mwixLpN1c19d_muJ6h2HLSkHscxI1Wka6U0s"})&&(function(e,t){var n,i;const r=null===(n={NODE_ENV:"production",PUBLIC_URL:"https://mkarenko.github.io/portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GITHUB_TOKEN:"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;",REACT_APP_SUPABASE_URL:"https://xyyhfuvikfhaqbnefzit.supabase.co",REACT_APP_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh5eWhmdXZpa2ZoYXFibmVmeml0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDY1MjM3ODQsImV4cCI6MjAyMjA5OTc4NH0.Dv2TPF5mwixLpN1c19d_muJ6h2HLSkHscxI1Wka6U0s"}[e])||void 0===n||null===(i=n.toLowerCase())||void 0===i?void 0:i.trim();if(null==r||""===r)return;if(!["true","false"].includes(r))throw Se(`process.env.${e} value must be 'true', 'false', or empty: ${r}`);t("true"===r)}("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",(e=>{Ge.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e})),function(e,t){var n;const i=null===(n={NODE_ENV:"production",PUBLIC_URL:"https://mkarenko.github.io/portfolio",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GITHUB_TOKEN:"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;",REACT_APP_SUPABASE_URL:"https://xyyhfuvikfhaqbnefzit.supabase.co",REACT_APP_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh5eWhmdXZpa2ZoYXFibmVmeml0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDY1MjM3ODQsImV4cCI6MjAyMjA5OTc4NH0.Dv2TPF5mwixLpN1c19d_muJ6h2HLSkHscxI1Wka6U0s"}[e])||void 0===n?void 0:n.trim();null!=i&&""!==i&&t(i.split(/\s*,\s*|\s+/))}("RECOIL_GKS_ENABLED",(e=>{e.forEach((e=>{Ge.RECOIL_GKS_ENABLED.add(e)}))})))}();var qe=Ge;function Ke(e){return qe.RECOIL_GKS_ENABLED.has(e)}Ke.setPass=e=>{qe.RECOIL_GKS_ENABLED.add(e)},Ke.setFail=e=>{qe.RECOIL_GKS_ENABLED.delete(e)},Ke.clear=()=>{qe.RECOIL_GKS_ENABLED.clear()};var Xe=Ke;var Ye,Qe,Je,Ze=function(e,t){let{error:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return null};const et=null!==(Ye=t.createMutableSource)&&void 0!==Ye?Ye:t.unstable_createMutableSource,tt=null!==(Qe=t.useMutableSource)&&void 0!==Qe?Qe:t.unstable_useMutableSource,nt=null!==(Je=t.useSyncExternalStore)&&void 0!==Je?Je:t.unstable_useSyncExternalStore;let it=!1;var rt={createMutableSource:et,useMutableSource:tt,useSyncExternalStore:nt,currentRendererSupportsUseSyncExternalStore:function(){var e;const{ReactCurrentDispatcher:n,ReactCurrentOwner:i}=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,r=null!=(null!==(e=null===n||void 0===n?void 0:n.current)&&void 0!==e?e:i.currentDispatcher).useSyncExternalStore;return!nt||r||it||(it=!0,Ze("A React renderer without React 18+ API support is being used with React 18+.")),r},reactMode:function(){return Xe("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Xe("recoil_sync_external_store")&&null!=nt?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Xe("recoil_mutable_source")&&null!=tt&&"undefined"!==typeof window&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Xe("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Xe("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}},isFastRefreshEnabled:function(){return!1}};class st{constructor(e){Ee(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class at extends st{}class ot extends st{}var lt={AbstractRecoilValue:st,RecoilState:at,RecoilValueReadOnly:ot,isRecoilValue:function(e){return e instanceof at||e instanceof ot}},ct=lt.AbstractRecoilValue,ut=lt.RecoilState,dt=lt.RecoilValueReadOnly,ht=lt.isRecoilValue,pt=Object.freeze({__proto__:null,AbstractRecoilValue:ct,RecoilState:ut,RecoilValueReadOnly:dt,isRecoilValue:ht});var ft=function(e){};var gt=function(e,t){return function*(){let n=0;for(const i of e)yield t(i,n++)}()};const{isFastRefreshEnabled:mt}=rt;class vt{}const bt=new vt,yt=new Map,wt=new Map;class _t extends Error{}const St=new Map;function xt(e){return St.get(e)}var At={nodes:yt,recoilValues:wt,registerNode:function(e){qe.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&function(e){if(yt.has(e)){const t=`Duplicate atom key "${e}". This is a FATAL ERROR in\n      production. But it is safe to ignore this warning if it occurred because of\n      hot module replacement.`;console.warn(t)}}(e.key),yt.set(e.key,e);const t=null==e.set?new pt.RecoilValueReadOnly(e.key):new pt.RecoilState(e.key);return wt.set(e.key,t),t},getNode:function(e){const t=yt.get(e);if(null==t)throw new _t(`Missing definition for RecoilValue: "${e}""`);return t},getNodeMaybe:function(e){return yt.get(e)},deleteNodeConfigIfPossible:function(e){var t;if(!Xe("recoil_memory_managament_2020"))return;const n=yt.get(e);var i;null!==n&&void 0!==n&&null!==(t=n.shouldDeleteConfigOnRelease)&&void 0!==t&&t.call(n)&&(yt.delete(e),null===(i=xt(e))||void 0===i||i(),St.delete(e))},setConfigDeletionHandler:function(e,t){Xe("recoil_memory_managament_2020")&&(void 0===t?St.delete(e):St.set(e,t))},getConfigDeletionHandler:xt,recoilValuesForKeys:function(e){return gt(e,(e=>Ae(wt.get(e))))},NodeMissingError:_t,DefaultValue:vt,DEFAULT_VALUE:bt};var Et={enqueueExecution:function(e,t){t()}};var kt,Ct,Tt=(kt=function(e){var t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={},i=Math.pow(2,5),r=i-1,s=i/2,a=i/4,o={},l=function(e){return function(){return e}},c=n.hash=function(e){var n="undefined"===typeof e?"undefined":t(e);if("number"===n)return e;"string"!==n&&(e+="");for(var i=0,r=0,s=e.length;r<s;++r)i=(i<<5)-i+e.charCodeAt(r)|0;return i},u=function(e,t){return t>>>e&r},d=function(e){return 1<<e},h=function(e,t){return n=e&t-1,n=(n=(858993459&(n-=n>>1&1431655765))+(n>>2&858993459))+(n>>4)&252645135,127&(n+=n>>8)+(n>>16);var n},p=function(e,t,n,i){var r=i;if(!e){var s=i.length;r=new Array(s);for(var a=0;a<s;++a)r[a]=i[a]}return r[t]=n,r},f=function(e,t,n){var i=n.length-1,r=0,s=0,a=n;if(e)r=s=t;else for(a=new Array(i);r<t;)a[s++]=n[r++];for(++r;r<=i;)a[s++]=n[r++];return e&&(a.length=i),a},g={__hamt_isEmpty:!0},m=function(e){return e===g||e&&e.__hamt_isEmpty},v=function(e,t,n,i){return{type:1,edit:e,hash:t,key:n,value:i,_modify:x}},b=function(e,t,n){return{type:2,edit:e,hash:t,children:n,_modify:A}},y=function(e,t,n){return{type:3,edit:e,mask:t,children:n,_modify:E}},w=function(e,t,n){return{type:4,edit:e,size:t,children:n,_modify:k}},_=function e(t,n,i,r,s,a){if(i===s)return b(t,i,[a,r]);var o=u(n,i),l=u(n,s);return y(t,d(o)|d(l),o===l?[e(t,n+5,i,r,s,a)]:o<l?[r,a]:[a,r])},S=function(e,t){return e===t.edit},x=function(e,t,n,i,r,s,a){if(t(s,this.key)){var l=i(this.value);return l===this.value?this:l===o?(--a.value,g):S(e,this)?(this.value=l,this):v(e,r,s,l)}var c=i();return c===o?this:(++a.value,_(e,n,this.hash,this,r,v(e,r,s,c)))},A=function(e,t,n,i,r,s,a){if(r===this.hash){var l=function(e,t,n,i,r,s,a,l){for(var c=r.length,u=0;u<c;++u){var d=r[u];if(n(a,d.key)){var h=d.value,g=s(h);return g===h?r:g===o?(--l.value,f(e,u,r)):p(e,u,v(t,i,a,g),r)}}var m=s();return m===o?r:(++l.value,p(e,c,v(t,i,a,m),r))}(S(e,this),e,t,this.hash,this.children,i,s,a);return l===this.children?this:l.length>1?b(e,this.hash,l):l[0]}var c=i();return c===o?this:(++a.value,_(e,n,this.hash,this,r,v(e,r,s,c)))},E=function(e,t,n,i,r,a,o){var l=this.mask,c=this.children,v=u(n,r),b=d(v),_=h(l,b),x=l&b,A=x?c[_]:g,E=A._modify(e,t,n+5,i,r,a,o);if(A===E)return this;var k,C=S(e,this),T=l,R=void 0;if(x&&m(E)){if(!(T&=~b))return g;if(c.length<=2&&((k=c[1^_])===g||1===k.type||2===k.type))return c[1^_];R=f(C,_,c)}else if(x||m(E))R=p(C,_,E,c);else{if(c.length>=s)return function(e,t,n,i,r){for(var s=[],a=i,o=0,l=0;a;++l)1&a&&(s[l]=r[o++]),a>>>=1;return s[t]=n,w(e,o+1,s)}(e,v,E,l,c);T|=b,R=function(e,t,n,i){var r=i.length;if(e){for(var s=r;s>=t;)i[s--]=i[s];return i[t]=n,i}for(var a=0,o=0,l=new Array(r+1);a<t;)l[o++]=i[a++];for(l[t]=n;a<r;)l[++o]=i[a++];return l}(C,_,E,c)}return C?(this.mask=T,this.children=R,this):y(e,T,R)},k=function(e,t,n,i,r,s,o){var l=this.size,c=this.children,d=u(n,r),h=c[d],f=(h||g)._modify(e,t,n+5,i,r,s,o);if(h===f)return this;var v=S(e,this),b=void 0;if(m(h)&&!m(f))++l,b=p(v,d,f,c);else if(!m(h)&&m(f)){if(--l<=a)return function(e,t,n,i){for(var r=new Array(t-1),s=0,a=0,o=0,l=i.length;o<l;++o)if(o!==n){var c=i[o];c&&!m(c)&&(r[s++]=c,a|=1<<o)}return y(e,a,r)}(e,l,d,c);b=p(v,d,g,c)}else b=p(v,d,f,c);return v?(this.size=l,this.children=b,this):w(e,l,b)};function C(e,t,n,i,r){this._editable=e,this._edit=t,this._config=n,this._root=i,this._size=r}g._modify=function(e,t,n,i,r,s,a){var l=i();return l===o?g:(++a.value,v(e,r,s,l))},C.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new C(this._editable,this._edit,this._config,e,t)};var T=n.tryGetHash=function(e,t,n,i){for(var r=i._root,s=0,a=i._config.keyEq;;)switch(r.type){case 1:return a(n,r.key)?r.value:e;case 2:if(t===r.hash)for(var o=r.children,l=0,c=o.length;l<c;++l){var p=o[l];if(a(n,p.key))return p.value}return e;case 3:var f=u(s,t),g=d(f);if(r.mask&g){r=r.children[h(r.mask,g)],s+=5;break}return e;case 4:if(r=r.children[u(s,t)]){s+=5;break}return e;default:return e}};C.prototype.tryGetHash=function(e,t,n){return T(e,t,n,this)};var R=n.tryGet=function(e,t,n){return T(e,n._config.hash(t),t,n)};C.prototype.tryGet=function(e,t){return R(e,t,this)};var M=n.getHash=function(e,t,n){return T(void 0,e,t,n)};C.prototype.getHash=function(e,t){return M(e,t,this)},n.get=function(e,t){return T(void 0,t._config.hash(e),e,t)},C.prototype.get=function(e,t){return R(t,e,this)};var P=n.has=function(e,t,n){return T(o,e,t,n)!==o};C.prototype.hasHash=function(e,t){return P(e,t,this)};var L=n.has=function(e,t){return P(t._config.hash(e),e,t)};C.prototype.has=function(e){return L(e,this)};var I=function(e,t){return e===t};n.make=function(e){return new C(0,0,{keyEq:e&&e.keyEq||I,hash:e&&e.hash||c},g,0)},n.empty=n.make();var D=n.isEmpty=function(e){return e&&!!m(e._root)};C.prototype.isEmpty=function(){return D(this)};var N=n.modifyHash=function(e,t,n,i){var r={value:i._size},s=i._root._modify(i._editable?i._edit:NaN,i._config.keyEq,0,e,t,n,r);return i.setTree(s,r.value)};C.prototype.modifyHash=function(e,t,n){return N(n,e,t,this)};var F=n.modify=function(e,t,n){return N(e,n._config.hash(t),t,n)};C.prototype.modify=function(e,t){return F(t,e,this)};var O=n.setHash=function(e,t,n,i){return N(l(n),e,t,i)};C.prototype.setHash=function(e,t,n){return O(e,t,n,this)};var j=n.set=function(e,t,n){return O(n._config.hash(e),e,t,n)};C.prototype.set=function(e,t){return j(e,t,this)};var z=l(o),B=n.removeHash=function(e,t,n){return N(z,e,t,n)};C.prototype.removeHash=C.prototype.deleteHash=function(e,t){return B(e,t,this)};var U=n.remove=function(e,t){return B(t._config.hash(e),e,t)};C.prototype.remove=C.prototype.delete=function(e){return U(e,this)};var V=n.beginMutation=function(e){return new C(e._editable+1,e._edit+1,e._config,e._root,e._size)};C.prototype.beginMutation=function(){return V(this)};var H=n.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};C.prototype.endMutation=function(){return H(this)};var $=n.mutate=function(e,t){var n=V(t);return e(n),H(n)};C.prototype.mutate=function(e){return $(e,this)};var W=function(e){return e&&G(e[0],e[1],e[2],e[3],e[4])},G=function(e,t,n,i,r){for(;n<e;){var s=t[n++];if(s&&!m(s))return q(s,i,[e,t,n,i,r])}return W(r)},q=function(e,t,n){switch(e.type){case 1:return{value:t(e),rest:n};case 2:case 4:case 3:var i=e.children;return G(i.length,i,0,t,n);default:return W(n)}},K={done:!0};function X(e){this.v=e}X.prototype.next=function(){if(!this.v)return K;var e=this.v;return this.v=W(e.rest),e},X.prototype[Symbol.iterator]=function(){return this};var Y=function(e,t){return new X(q(e._root,t))},Q=function(e){return[e.key,e.value]},J=n.entries=function(e){return Y(e,Q)};C.prototype.entries=C.prototype[Symbol.iterator]=function(){return J(this)};var Z=function(e){return e.key},ee=n.keys=function(e){return Y(e,Z)};C.prototype.keys=function(){return ee(this)};var te=function(e){return e.value},ne=n.values=C.prototype.values=function(e){return Y(e,te)};C.prototype.values=function(){return ne(this)};var ie=n.fold=function(e,t,n){var i=n._root;if(1===i.type)return e(t,i.value,i.key);for(var r=[i.children],s=void 0;s=r.pop();)for(var a=0,o=s.length;a<o;){var l=s[a++];l&&l.type&&(1===l.type?t=e(t,l.value,l.key):r.push(l.children))}return t};C.prototype.fold=function(e,t){return ie(e,t,this)};var re=n.forEach=function(e,t){return ie((function(n,i,r){return e(i,r,t)}),null,t)};C.prototype.forEach=function(e){return re(e,this)};var se=n.count=function(e){return e._size};C.prototype.count=function(){return se(this)},Object.defineProperty(C.prototype,"size",{get:C.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n},kt(Ct={exports:{}},Ct.exports),Ct.exports);class Rt{constructor(e){Ee(this,"_map",void 0),this._map=new Map(null===e||void 0===e?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,t){return this._map.set(e,t),this}delete(e){return this._map.delete(e),this}clone(){return Pt(this)}toMap(){return new Map(this._map)}}class Mt{constructor(e){if(Ee(this,"_hamt",Tt.empty.beginMutation()),e instanceof Mt){const t=e._hamt.endMutation();e._hamt=t.beginMutation(),this._hamt=t.beginMutation()}else if(e)for(const[t,n]of e.entries())this._hamt.set(t,n)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,t){return this._hamt.set(e,t),this}delete(e){return this._hamt.delete(e),this}clone(){return Pt(this)}toMap(){return new Map(this._hamt)}}function Pt(e){return Xe("recoil_hamt_2020")?new Mt(e):new Rt(e)}var Lt=Pt,It=Object.freeze({__proto__:null,persistentMap:Lt});var Dt=function(e){const t=new Set;for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e:for(const s of e){for(const e of i)if(e.has(s))continue e;t.add(s)}return t};var Nt=function(e,t){const n=new Map;return e.forEach(((e,i)=>{n.set(i,t(e,i))})),n};function Ft(e,t,n,i){const{nodeDeps:r,nodeToNodeSubscriptions:s}=n,a=r.get(e);if(a&&i&&a!==i.nodeDeps.get(e))return;r.set(e,t);const o=null==a?t:Dt(t,a);for(const l of o){s.has(l)||s.set(l,new Set);Ae(s.get(l)).add(e)}if(a){const n=Dt(a,t);for(const t of n){if(!s.has(t))return;const n=Ae(s.get(t));n.delete(e),0===n.size&&s.delete(t)}}}var Ot={cloneGraph:function(e){return{nodeDeps:Nt(e.nodeDeps,(e=>new Set(e))),nodeToNodeSubscriptions:Nt(e.nodeToNodeSubscriptions,(e=>new Set(e)))}},graph:function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},saveDepsToStore:function(e,t,n,i){var r,s,a,o;const l=n.getState();i!==l.currentTree.version&&i!==(null===(r=l.nextTree)||void 0===r?void 0:r.version)&&i!==(null===(s=l.previousTree)||void 0===s?void 0:s.version)&&Ze("Tried to save dependencies to a discarded tree");const c=n.getGraph(i);if(Ft(e,t,c),i===(null===(a=l.previousTree)||void 0===a?void 0:a.version)){Ft(e,t,n.getGraph(l.currentTree.version),c)}if(i===(null===(o=l.previousTree)||void 0===o?void 0:o.version)||i===l.currentTree.version){var u;const i=null===(u=l.nextTree)||void 0===u?void 0:u.version;if(void 0!==i){Ft(e,t,n.getGraph(i),c)}}}};let jt=0;let zt=0;let Bt=0;var Ut={getNextTreeStateVersion:()=>jt++,getNextStoreID:()=>zt++,getNextComponentID:()=>Bt++};const{persistentMap:Vt}=It,{graph:Ht}=Ot,{getNextTreeStateVersion:$t}=Ut;function Wt(){const e=$t();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:Vt(),nonvalidatedAtoms:Vt()}}var Gt={makeEmptyTreeState:Wt,makeEmptyStoreState:function(){const e=Wt();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(e.version,Ht()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}},getNextTreeStateVersion:$t};class qt{}var Kt={RetentionZone:qt,retentionZone:function(){return new qt}};var Xt={setByAddingToSet:function(e,t){const n=new Set(e);return n.add(t),n},setByDeletingFromSet:function(e,t){const n=new Set(e);return n.delete(t),n},mapBySettingInMap:function(e,t,n){const i=new Map(e);return i.set(t,n),i},mapByUpdatingInMap:function(e,t,n){const i=new Map(e);return i.set(t,n(i.get(t))),i},mapByDeletingFromMap:function(e,t){const n=new Map(e);return n.delete(t),n},mapByDeletingMultipleFromMap:function(e,t){const n=new Map(e);return t.forEach((e=>n.delete(e))),n}};var Yt=function*(e,t){let n=0;for(const i of e)t(i,n++)&&(yield i)};var Qt=function(e,t){return new Proxy(e,{get:(e,n)=>(!(n in e)&&n in t&&(e[n]=t[n]()),e[n]),ownKeys:e=>Object.keys(e)})};const{getNode:Jt,getNodeMaybe:Zt,recoilValuesForKeys:en}=At,{RetentionZone:tn}=Kt,{setByAddingToSet:nn}=Xt,rn=Object.freeze(new Set);class sn extends Error{}function an(e,t,n,i){const r=e.getState();if(r.nodeCleanupFunctions.has(n))return;const s=Jt(n),a=function(e,t,n){if(!Xe("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:i}=e.getState().retention;function r(e){let n=i.get(e);n||i.set(e,n=new Set),n.add(t)}if(n instanceof tn)r(n);else if(Array.isArray(n))for(const s of n)r(s);return()=>{if(!Xe("recoil_memory_managament_2020"))return;const{retention:i}=e.getState();function r(e){const n=i.nodesRetainedByZone.get(e);null===n||void 0===n||n.delete(t),n&&0===n.size&&i.nodesRetainedByZone.delete(e)}if(n instanceof tn)r(n);else if(Array.isArray(n))for(const e of n)r(e)}}(e,n,s.retainedBy),o=s.init(e,t,i);r.nodeCleanupFunctions.set(n,(()=>{o(),a()}))}function on(e,t,n){return Jt(n).peek(e,t)}function ln(e,t,n){const i=new Set,r=Array.from(n),s=e.getGraph(t.version);for(let o=r.pop();o;o=r.pop()){var a;i.add(o);const e=null!==(a=s.nodeToNodeSubscriptions.get(o))&&void 0!==a?a:rn;for(const t of e)i.has(t)||r.push(t)}return i}var cn={getNodeLoadable:function(e,t,n){return an(e,t,n,"get"),Jt(n).get(e,t)},peekNodeLoadable:on,setNodeValue:function(e,t,n,i){const r=Jt(n);if(null==r.set)throw new sn(`Attempt to set read-only RecoilValue: ${n}`);const s=r.set;return an(e,t,n,"set"),s(e,t,i)},initializeNode:function(e,t,n){an(e,e.getState().currentTree,t,n)},cleanUpNode:function(e,t){var n;const i=e.getState();null===(n=i.nodeCleanupFunctions.get(t))||void 0===n||n(),i.nodeCleanupFunctions.delete(t)},setUnvalidatedAtomValue_DEPRECATED:function(e,t,n){var i;const r=Zt(t);return null===r||void 0===r||null===(i=r.invalidate)||void 0===i||i.call(r,e),{...e,atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:nn(e.dirtyAtoms,t)}},peekNodeInfo:function(e,t,n){const i=e.getState(),r=e.getGraph(t.version),s=Jt(n).nodeType;return Qt({type:s},{loadable:()=>on(e,t,n),isActive:()=>i.knownAtoms.has(n)||i.knownSelectors.has(n),isSet:()=>"selector"!==s&&t.atomValues.has(n),isModified:()=>t.dirtyAtoms.has(n),deps:()=>{var e;return en(null!==(e=r.nodeDeps.get(n))&&void 0!==e?e:[])},subscribers:()=>{var r,s;return{nodes:en(Yt(ln(e,t,new Set([n])),(e=>e!==n))),components:gt(null!==(r=null===(s=i.nodeToComponentSubscriptions.get(n))||void 0===s?void 0:s.values())&&void 0!==r?r:[],(e=>{let[t]=e;return{name:t}}))}}})},getDownstreamNodes:ln};let un=null;var dn={setInvalidateMemoizedSnapshot:function(e){un=e},invalidateMemoizedSnapshot:function(){var e;null===(e=un)||void 0===e||e()}};const{getDownstreamNodes:hn,getNodeLoadable:pn,setNodeValue:fn}=cn,{getNextComponentID:gn}=Ut,{getNode:mn,getNodeMaybe:vn}=At,{DefaultValue:bn}=At,{reactMode:yn}=rt,{AbstractRecoilValue:wn,RecoilState:_n,RecoilValueReadOnly:Sn,isRecoilValue:xn}=pt,{invalidateMemoizedSnapshot:An}=dn;function En(e,t,n){if("set"===n.type){const{recoilValue:i,valueOrUpdater:r}=n,s=function(e,t,n,i){let{key:r}=n;if("function"===typeof i){const n=pn(e,t,r);if("loading"===n.state){const e=`Tried to set atom or selector "${r}" using an updater function while the current state is pending, this is not currently supported.`;throw Ze(e),Se(e)}if("hasError"===n.state)throw n.contents;return i(n.contents)}return i}(e,t,i,r),a=fn(e,t,i.key,s);for(const[e,n]of a.entries())kn(t,e,n)}else if("setLoadable"===n.type){const{recoilValue:{key:e},loadable:i}=n;kn(t,e,i)}else if("markModified"===n.type){const{recoilValue:{key:e}}=n;t.dirtyAtoms.add(e)}else if("setUnvalidated"===n.type){var i;const{recoilValue:{key:e},unvalidatedValue:r}=n,s=vn(e);null===s||void 0===s||null===(i=s.invalidate)||void 0===i||i.call(s,t),t.atomValues.delete(e),t.nonvalidatedAtoms.set(e,r),t.dirtyAtoms.add(e)}else Ze(`Unknown action ${n.type}`)}function kn(e,t,n){"hasValue"===n.state&&n.contents instanceof bn?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function Cn(e,t){e.replaceState((n=>{const i=Mn(n);for(const r of t)En(e,i,r);return Pn(e,i),An(),i}))}function Tn(e,t){if(Rn.length){const n=Rn[Rn.length-1];let i=n.get(e);i||n.set(e,i=[]),i.push(t)}else Cn(e,[t])}const Rn=[];function Mn(e){return{...e,atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)}}function Pn(e,t){const n=hn(e,t,t.dirtyAtoms);for(const s of n){var i,r;null===(i=vn(s))||void 0===i||null===(r=i.invalidate)||void 0===r||r.call(i,t)}}function Ln(e,t,n){Tn(e,{type:"set",recoilValue:t,valueOrUpdater:n})}var In={RecoilValueReadOnly:Sn,AbstractRecoilValue:wn,RecoilState:_n,getRecoilValueAsLoadable:function(e,t){let{key:n}=t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.getState().currentTree;var r,s;const a=e.getState();i.version!==a.currentTree.version&&i.version!==(null===(r=a.nextTree)||void 0===r?void 0:r.version)&&i.version!==(null===(s=a.previousTree)||void 0===s?void 0:s.version)&&Ze("Tried to read from a discarded tree");const o=pn(e,i,n);return"loading"===o.state&&o.contents.catch((()=>{})),o},setRecoilValue:Ln,setRecoilValueLoadable:function(e,t,n){if(n instanceof bn)return Ln(e,t,n);Tn(e,{type:"setLoadable",recoilValue:t,loadable:n})},markRecoilValueModified:function(e,t){Tn(e,{type:"markModified",recoilValue:t})},setUnvalidatedRecoilValue:function(e,t,n){Tn(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})},subscribeToRecoilValue:function(e,t,n){let{key:i}=t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const s=gn(),a=e.getState();a.nodeToComponentSubscriptions.has(i)||a.nodeToComponentSubscriptions.set(i,new Map),Ae(a.nodeToComponentSubscriptions.get(i)).set(s,[null!==r&&void 0!==r?r:"<not captured>",n]);const o=yn();if(o.early&&("LEGACY"===o.mode||"MUTABLE_SOURCE"===o.mode)){const t=e.getState().nextTree;t&&t.dirtyAtoms.has(i)&&n(t)}return{release:()=>{const t=e.getState(),n=t.nodeToComponentSubscriptions.get(i);void 0!==n&&n.has(s)?(n.delete(s),0===n.size&&t.nodeToComponentSubscriptions.delete(i)):Ze(`Subscription missing at release time for atom ${i}. This is a bug in Recoil.`)}}},isRecoilValue:xn,applyAtomValueWrites:function(e,t){const n=e.clone();return t.forEach(((e,t)=>{"hasValue"===e.state&&e.contents instanceof bn?n.delete(t):n.set(t,e)})),n},batchStart:function(){const e=new Map;return Rn.push(e),()=>{for(const[t,n]of e)Cn(t,n);Rn.pop()!==e&&Ze("Incorrect order of batch popping")}},writeLoadableToTreeState:kn,invalidateDownstreams:Pn,copyTreeState:Mn,refreshRecoilValue:function(e,t){var n;const{currentTree:i}=e.getState(),r=mn(t.key);null===(n=r.clearCache)||void 0===n||n.call(r,e,i)}};var Dn=function(e,t,n){const i=e.entries();let r=i.next();for(;!r.done;){const s=r.value;if(t.call(n,s[1],s[0],e))return!0;r=i.next()}return!1};const{cleanUpNode:Nn}=cn,{deleteNodeConfigIfPossible:Fn,getNode:On}=At,{RetentionZone:jn}=Kt,zn=new Set;function Bn(e,t){const n=e.getState(),i=n.currentTree;if(n.nextTree)return void Ze("releaseNodesNowOnCurrentTree should only be called at the end of a batch");const r=new Set;for(const a of t)if(a instanceof jn)for(const e of Vn(n,a))r.add(e);else r.add(a);const s=function(e,t){const n=e.getState(),i=n.currentTree,r=e.getGraph(i.version),s=new Set,a=new Set;return o(t),s;function o(t){const l=new Set,c=function(e,t,n,i,r){const s=e.getGraph(t.version),a=[],o=new Set;for(;n.size>0;)l(Ae(n.values().next().value));return a;function l(e){if(i.has(e)||r.has(e))return void n.delete(e);if(o.has(e))return;const t=s.nodeToNodeSubscriptions.get(e);if(t)for(const n of t)l(n);o.add(e),n.delete(e),a.push(e)}}(e,i,t,s,a);for(const e of c){var u;if("recoilRoot"===On(e).retainedBy){a.add(e);continue}if((null!==(u=n.retention.referenceCounts.get(e))&&void 0!==u?u:0)>0){a.add(e);continue}if(Hn(e).some((e=>n.retention.referenceCounts.get(e)))){a.add(e);continue}const t=r.nodeToNodeSubscriptions.get(e);t&&Dn(t,(e=>a.has(e)))?a.add(e):(s.add(e),l.add(e))}const d=new Set;for(const e of l)for(const t of null!==(h=r.nodeDeps.get(e))&&void 0!==h?h:zn){var h;s.has(t)||d.add(t)}d.size&&o(d)}}(e,r);for(const a of s)Un(e,i,a)}function Un(e,t,n){if(!Xe("recoil_memory_managament_2020"))return;Nn(e,n);const i=e.getState();i.knownAtoms.delete(n),i.knownSelectors.delete(n),i.nodeTransactionSubscriptions.delete(n),i.retention.referenceCounts.delete(n);const r=Hn(n);for(const l of r){var s;null===(s=i.retention.nodesRetainedByZone.get(l))||void 0===s||s.delete(n)}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);const a=i.graphsByVersion.get(t.version);if(a){const e=a.nodeDeps.get(n);if(void 0!==e){a.nodeDeps.delete(n);for(const t of e){var o;null===(o=a.nodeToNodeSubscriptions.get(t))||void 0===o||o.delete(n)}}a.nodeToNodeSubscriptions.delete(n)}Fn(n)}function Vn(e,t){var n;return null!==(n=e.retention.nodesRetainedByZone.get(t))&&void 0!==n?n:zn}function Hn(e){const t=On(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof jn?[t]:t}function $n(e,t){if(!Xe("recoil_memory_managament_2020"))return;e.getState().retention.referenceCounts.delete(t),function(e,t){const n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):Bn(e,new Set([t]))}(e,t)}var Wn={SUSPENSE_TIMEOUT_MS:12e4,updateRetainCount:function(e,t,n){var i;if(!Xe("recoil_memory_managament_2020"))return;const r=e.getState().retention.referenceCounts,s=(null!==(i=r.get(t))&&void 0!==i?i:0)+n;0===s?$n(e,t):r.set(t,s)},updateRetainCountToZero:$n,releaseScheduledRetainablesNow:function(e){if(!Xe("recoil_memory_managament_2020"))return;const t=e.getState();Bn(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()},retainedByOptionWithDefault:function(e){return void 0===e?"recoilRoot":e}};const{unstable_batchedUpdates:Gn}=o;var qn={unstable_batchedUpdates:Gn};const{unstable_batchedUpdates:Kn}=qn;var Xn={unstable_batchedUpdates:Kn};const{batchStart:Yn}=In,{unstable_batchedUpdates:Qn}=Xn;let Jn=Qn||(e=>e());var Zn={getBatcher:()=>Jn,setBatcher:e=>{Jn=e},batchUpdates:e=>{Jn((()=>{let t=()=>{};try{t=Yn(),e()}finally{t()}}))}};var ei=function*(e){for(const t of e)for(const e of t)yield e};const ti="undefined"===typeof Window||"undefined"===typeof window,ni="undefined"!==typeof navigator&&"ReactNative"===navigator.product;var ii={isSSR:ti,isReactNative:ni,isWindow:e=>!ti&&(e===window||e instanceof Window)};var ri={memoizeWithArgsHash:function(e,t){let n;return function(){n||(n={});const i=t(...arguments);return Object.hasOwnProperty.call(n,i)||(n[i]=e(...arguments)),n[i]}},memoizeOneWithArgsHash:function(e,t){let n,i;return function(){const r=t(...arguments);return n===r||(n=r,i=e(...arguments)),i}},memoizeOneWithArgsHashAndInvalidation:function(e,t){let n,i;return[function(){const r=t(...arguments);return n===r||(n=r,i=e(...arguments)),i},()=>{n=null}]}};const{batchUpdates:si}=Zn,{initializeNode:ai,peekNodeInfo:oi}=cn,{graph:li}=Ot,{getNextStoreID:ci}=Ut,{DEFAULT_VALUE:ui,recoilValues:di,recoilValuesForKeys:hi}=At,{AbstractRecoilValue:pi,getRecoilValueAsLoadable:fi,setRecoilValue:gi,setUnvalidatedRecoilValue:mi}=In,{updateRetainCount:vi}=Wn,{setInvalidateMemoizedSnapshot:bi}=dn,{getNextTreeStateVersion:yi,makeEmptyStoreState:wi}=Gt,{isSSR:_i}=ii,{memoizeOneWithArgsHashAndInvalidation:Si}=ri;class xi{constructor(e,t){Ee(this,"_store",void 0),Ee(this,"_refCount",1),Ee(this,"getLoadable",(e=>(this.checkRefCount_INTERNAL(),fi(this._store,e)))),Ee(this,"getPromise",(e=>(this.checkRefCount_INTERNAL(),this.getLoadable(e).toPromise()))),Ee(this,"getNodes_UNSTABLE",(e=>{if(this.checkRefCount_INTERNAL(),!0===(null===e||void 0===e?void 0:e.isModified)){if(!1===(null===e||void 0===e?void 0:e.isInitialized))return[];const t=this._store.getState().currentTree;return hi(t.dirtyAtoms)}const t=this._store.getState().knownAtoms,n=this._store.getState().knownSelectors;return null==(null===e||void 0===e?void 0:e.isInitialized)?di.values():!0===e.isInitialized?hi(ei([t,n])):Yt(di.values(),(e=>{let{key:i}=e;return!t.has(i)&&!n.has(i)}))})),Ee(this,"getInfo_UNSTABLE",(e=>{let{key:t}=e;return this.checkRefCount_INTERNAL(),oi(this._store,this._store.getState().currentTree,t)})),Ee(this,"map",(e=>{this.checkRefCount_INTERNAL();const t=new Ci(this,si);return e(t),t})),Ee(this,"asyncMap",(async e=>{this.checkRefCount_INTERNAL();const t=new Ci(this,si);return t.retain(),await e(t),t.autoRelease_INTERNAL(),t})),this._store={storeID:ci(),parentStoreID:t,getState:()=>e,replaceState:t=>{e.currentTree=t(e.currentTree)},getGraph:t=>{const n=e.graphsByVersion;if(n.has(t))return Ae(n.get(t));const i=li();return n.set(t,i),i},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Se("Cannot subscribe to Snapshots")}};for(const n of this._store.getState().knownAtoms)ai(this._store,n,"get"),vi(this._store,n,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0&&Ze("Attempt to retain() Snapshot that was already released."),this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){_i||window.setTimeout((()=>this._release()),10)}_release(){if(this._refCount--,0===this._refCount){if(this._store.getState().nodeCleanupFunctions.forEach((e=>e())),this._store.getState().nodeCleanupFunctions.clear(),!Xe("recoil_memory_managament_2020"))return}else this._refCount}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Xe("recoil_memory_managament_2020")&&this._refCount}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function Ai(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=e.getState(),r=n?yi():t.version;return{currentTree:{version:n?r:t.version,stateID:n?r:t.stateID,transactionMetadata:{...t.transactionMetadata},dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(i.knownAtoms),knownSelectors:new Set(i.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(r,e.getGraph(t.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(gt(i.nodeCleanupFunctions.entries(),(e=>{let[t]=e;return[t,()=>{}]})))}}const[Ei,ki]=Si(((e,t)=>{var n;const i=e.getState(),r="latest"===t?null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree:Ae(i.previousTree);return new xi(Ai(e,r),e.storeID)}),((e,t)=>{var n,i;return String(t)+String(e.storeID)+String(null===(n=e.getState().nextTree)||void 0===n?void 0:n.version)+String(e.getState().currentTree.version)+String(null===(i=e.getState().previousTree)||void 0===i?void 0:i.version)}));bi(ki);class Ci extends xi{constructor(e,t){super(Ai(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),Ee(this,"_batch",void 0),Ee(this,"set",((e,t)=>{this.checkRefCount_INTERNAL();const n=this.getStore_INTERNAL();this._batch((()=>{vi(n,e.key,1),gi(this.getStore_INTERNAL(),e,t)}))})),Ee(this,"reset",(e=>{this.checkRefCount_INTERNAL();const t=this.getStore_INTERNAL();this._batch((()=>{vi(t,e.key,1),gi(this.getStore_INTERNAL(),e,ui)}))})),Ee(this,"setUnvalidatedAtomValues_DEPRECATED",(e=>{this.checkRefCount_INTERNAL();const t=this.getStore_INTERNAL();si((()=>{for(const[n,i]of e.entries())vi(t,n,1),mi(t,new pi(n),i)}))})),this._batch=t}}var Ti={Snapshot:xi,MutableSnapshot:Ci,freshSnapshot:function(e){const t=new xi(wi());return null!=e?t.map(e):t},cloneSnapshot:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"latest";const n=Ei(e,t);return n.isRetained()?n:(ki(),Ei(e,t))}},Ri=Ti.Snapshot,Mi=Ti.MutableSnapshot,Pi=Ti.freshSnapshot,Li=Ti.cloneSnapshot,Ii=Object.freeze({__proto__:null,Snapshot:Ri,MutableSnapshot:Mi,freshSnapshot:Pi,cloneSnapshot:Li});var Di=function(){const e=new Set;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n)for(const t of r)e.add(t);return e};const{useRef:Ni}=t;var Fi=function(e){const t=Ni(e);return t.current===e&&"function"===typeof e&&(t.current=e()),t};const{getNextTreeStateVersion:Oi,makeEmptyStoreState:ji}=Gt,{cleanUpNode:zi,getDownstreamNodes:Bi,initializeNode:Ui,setNodeValue:Vi,setUnvalidatedAtomValue_DEPRECATED:Hi}=cn,{graph:$i}=Ot,{cloneGraph:Wi}=Ot,{getNextStoreID:Gi}=Ut,{createMutableSource:qi,reactMode:Ki}=rt,{applyAtomValueWrites:Xi}=In,{releaseScheduledRetainablesNow:Yi}=Wn,{freshSnapshot:Qi}=Ii,{useCallback:Ji,useContext:Zi,useEffect:er,useMemo:tr,useRef:nr,useState:ir}=t;function rr(){throw Se("This component must be used inside a <RecoilRoot> component.")}const sr=Object.freeze({storeID:Gi(),getState:rr,replaceState:rr,getGraph:rr,subscribeToTransactions:rr,addTransactionMetadata:rr});let ar=!1;function or(e){if(ar)throw Se("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const t=e.getState();if(null===t.nextTree){Xe("recoil_memory_managament_2020")&&Xe("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&Yi(e);const n=t.currentTree.version,i=Oi();t.nextTree={...t.currentTree,version:i,stateID:i,dirtyAtoms:new Set,transactionMetadata:{}},t.graphsByVersion.set(i,Wi(Ae(t.graphsByVersion.get(n))))}}const lr=t.createContext({current:sr}),cr=()=>Zi(lr),ur=t.createContext(null);function dr(e,t,n){const i=Bi(e,n,n.dirtyAtoms);for(const r of i){const e=t.nodeToComponentSubscriptions.get(r);if(e)for(const[t,[i,r]]of e)r(n)}}function hr(e){const t=e.getState(),n=t.currentTree,i=n.dirtyAtoms;if(i.size){for(const[n,r]of t.nodeTransactionSubscriptions)if(i.has(n))for(const[t,i]of r)i(e);for(const[n,i]of t.transactionSubscriptions)i(e);(!Ki().early||t.suspendedComponentResolvers.size>0)&&(dr(e,t,n),t.suspendedComponentResolvers.forEach((e=>e())),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach((e=>e(n))),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function pr(e){let{setNotifyBatcherOfChange:t}=e;const n=cr(),[,i]=ir([]);return t((()=>i({}))),er((()=>(t((()=>i({}))),()=>{t((()=>{}))})),[t]),er((()=>{Et.enqueueExecution("Batcher",(()=>{!function(e){const t=e.getState();t.commitDepth++;try{const{nextTree:n}=t;if(null==n)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,hr(e),null!=t.previousTree?t.graphsByVersion.delete(t.previousTree.version):Ze("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,Xe("recoil_memory_managament_2020")&&null==n&&Yi(e)}finally{t.commitDepth--}}(n.current)}))})),null}let fr=0;function gr(e){let n,{initializeState_DEPRECATED:i,initializeState:r,store_INTERNAL:s,children:a}=e;const o=e=>{const t=n.current.graphsByVersion;if(t.has(e))return Ae(t.get(e));const i=$i();return t.set(e,i),i},l=(e,t)=>{if(null==t){const{transactionSubscriptions:t}=p.current.getState(),n=fr++;return t.set(n,e),{release:()=>{t.delete(n)}}}{const{nodeTransactionSubscriptions:n}=p.current.getState();n.has(t)||n.set(t,new Map);const i=fr++;return Ae(n.get(t)).set(i,e),{release:()=>{const e=n.get(t);e&&(e.delete(i),0===e.size&&n.delete(t))}}}},c=e=>{or(p.current);for(const t of Object.keys(e))Ae(p.current.getState().nextTree).transactionMetadata[t]=e[t]},u=e=>{or(p.current);const t=Ae(n.current.nextTree);let i;try{ar=!0,i=e(t)}finally{ar=!1}i!==t&&(n.current.nextTree=i,Ki().early&&dr(p.current,n.current,i),Ae(d.current)())},d=nr(null),h=Ji((e=>{d.current=e}),[d]),p=Fi((()=>null!==s&&void 0!==s?s:{storeID:Gi(),getState:()=>n.current,replaceState:u,getGraph:o,subscribeToTransactions:l,addTransactionMetadata:c}));null!=s&&(p.current=s),n=Fi((()=>null!=i?function(e,t){const n=ji();return t({set:(t,i)=>{const r=n.currentTree,s=Vi(e,r,t.key,i),a=new Set(s.keys()),o=r.nonvalidatedAtoms.clone();for(const e of a)o.delete(e);n.currentTree={...r,dirtyAtoms:Di(r.dirtyAtoms,a),atomValues:Xi(r.atomValues,s),nonvalidatedAtoms:o}},setUnvalidatedAtomValues:e=>{e.forEach(((e,t)=>{n.currentTree=Hi(n.currentTree,t,e)}))}}),n}(p.current,i):null!=r?function(e){const t=Qi(e),n=t.getStore_INTERNAL().getState();return t.retain(),n.nodeCleanupFunctions.forEach((e=>e())),n.nodeCleanupFunctions.clear(),n}(r):ji()));const f=tr((()=>null===qi||void 0===qi?void 0:qi(n,(()=>n.current.currentTree.version))),[n]);return er((()=>{const e=p.current;for(const t of new Set(e.getState().knownAtoms))Ui(e,t,"get");return()=>{for(const t of e.getState().knownAtoms)zi(e,t)}}),[p]),t.createElement(lr.Provider,{value:p},t.createElement(ur.Provider,{value:f},t.createElement(pr,{setNotifyBatcherOfChange:h}),a))}var mr={RecoilRoot:function(e){const{override:n,...i}=e,r=cr();return!1===n&&r.current!==sr?e.children:t.createElement(gr,i)},useStoreRef:cr,useRecoilMutableSource:function(){const e=Zi(ur);return null==e&&ft("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e},useRecoilStoreID:function(){return cr().current.storeID},notifyComponents_FOR_TESTING:dr,sendEndOfBatchNotifications_FOR_TESTING:hr};var vr=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0};const{useEffect:br,useRef:yr}=t;var wr=function(e){const t=yr();return br((()=>{t.current=e})),t.current};const{useStoreRef:_r}=mr,{SUSPENSE_TIMEOUT_MS:Sr}=Wn,{updateRetainCount:xr}=Wn,{RetentionZone:Ar}=Kt,{useEffect:Er,useRef:kr}=t,{isSSR:Cr}=ii;var Tr=function(e){if(Xe("recoil_memory_managament_2020"))return function(e){const t=Array.isArray(e)?e:[e],n=t.map((e=>e instanceof Ar?e:e.key)),i=_r();Er((()=>{if(!Xe("recoil_memory_managament_2020"))return;const e=i.current;if(r.current&&!Cr)window.clearTimeout(r.current),r.current=null;else for(const t of n)xr(e,t,1);return()=>{for(const t of n)xr(e,t,-1)}}),[i,...n]);const r=kr(),s=wr(n);if(!Cr&&(void 0===s||!vr(s,n))){const e=i.current;for(const t of n)xr(e,t,1);if(s)for(const t of s)xr(e,t,-1);r.current&&window.clearTimeout(r.current),r.current=window.setTimeout((()=>{r.current=null;for(const t of n)xr(e,t,-1)}),Sr)}}(e)};var Rr=function(){return"<component name not available>"};const{batchUpdates:Mr}=Zn,{DEFAULT_VALUE:Pr}=At,{currentRendererSupportsUseSyncExternalStore:Lr,reactMode:Ir,useMutableSource:Dr,useSyncExternalStore:Nr}=rt,{useRecoilMutableSource:Fr,useStoreRef:Or}=mr,{isRecoilValue:jr}=pt,{AbstractRecoilValue:zr,getRecoilValueAsLoadable:Br,setRecoilValue:Ur,setUnvalidatedRecoilValue:Vr,subscribeToRecoilValue:Hr}=In,{useCallback:$r,useEffect:Wr,useMemo:Gr,useRef:qr,useState:Kr}=t,{setByAddingToSet:Xr}=Xt,{isSSR:Yr}=ii;function Qr(e,t,n){if("hasValue"===e.state)return e.contents;if("loading"===e.state){throw new Promise((t=>{const i=n.current.getState().suspendedComponentResolvers;i.add(t),Yr&&xe(e.contents)&&e.contents.finally((()=>{i.delete(t)}))}))}throw"hasError"===e.state?e.contents:Se(`Invalid value of loadable atom "${t.key}"`)}function Jr(e){const t=Or(),n=Rr(),i=$r((()=>{var n;const i=t.current,r=i.getState(),s=Ir().early&&null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree;return{loadable:Br(i,e,s),key:e.key}}),[t,e]),r=$r((e=>{let t;return()=>{var n,i;const r=e();return null!==(n=t)&&void 0!==n&&n.loadable.is(r.loadable)&&(null===(i=t)||void 0===i?void 0:i.key)===r.key?t:(t=r,r)}}),[]),s=Gr((()=>r(i)),[i,r]),a=$r((i=>{const r=t.current;return Hr(r,e,i,n).release}),[t,e,n]);return Nr(a,s,s).loadable}function Zr(e){const t=Or(),n=$r((()=>{var n;const i=t.current,r=i.getState(),s=Ir().early&&null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree;return Br(i,e,s)}),[t,e]),i=$r((()=>n()),[n]),r=Rr(),s=$r(((i,s)=>{const a=t.current;return Hr(a,e,(()=>{if(!Xe("recoil_suppress_rerender_in_callback"))return s();const e=n();l.current.is(e)||s(),l.current=e}),r).release}),[t,e,r,n]),a=Fr();if(null==a)throw Se("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const o=Dr(a,i,s),l=qr(o);return Wr((()=>{l.current=o})),o}function es(e){const t=Or(),n=Rr(),i=$r((()=>{var n;const i=t.current,r=i.getState(),s=Ir().early&&null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree;return Br(i,e,s)}),[t,e]),r=$r((()=>({loadable:i(),key:e.key})),[i,e.key]),s=$r((e=>{const t=r();return e.loadable.is(t.loadable)&&e.key===t.key?e:t}),[r]);Wr((()=>{const i=Hr(t.current,e,(e=>{o(s)}),n);return o(s),i.release}),[n,e,t,s]);const[a,o]=Kr(r);return a.key!==e.key?r().loadable:a.loadable}function ts(e){const t=Or(),[,n]=Kr([]),i=Rr(),r=$r((()=>{var n;const i=t.current,r=i.getState(),s=Ir().early&&null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree;return Br(i,e,s)}),[t,e]),s=r(),a=qr(s);return Wr((()=>{a.current=s})),Wr((()=>{const s=t.current,o=s.getState(),l=Hr(s,e,(e=>{var t;if(!Xe("recoil_suppress_rerender_in_callback"))return n([]);const i=r();null!==(t=a.current)&&void 0!==t&&t.is(i)||n(i),a.current=i}),i);if(o.nextTree)s.getState().queuedComponentCallbacks_DEPRECATED.push((()=>{a.current=null,n([])}));else{var c;if(!Xe("recoil_suppress_rerender_in_callback"))return n([]);const e=r();null!==(c=a.current)&&void 0!==c&&c.is(e)||n(e),a.current=e}return l.release}),[i,r,e,t]),s}function ns(e){return Xe("recoil_memory_managament_2020")&&Tr(e),{TRANSITION_SUPPORT:es,SYNC_EXTERNAL_STORE:Lr()?Jr:es,MUTABLE_SOURCE:Zr,LEGACY:ts}[Ir().mode](e)}function is(e){const t=Or();return Qr(ns(e),e,t)}function rs(e){const t=Or();return $r((n=>{Ur(t.current,e,n)}),[t,e])}function ss(e){return Xe("recoil_memory_managament_2020")&&Tr(e),es(e)}function as(e){const t=Or();return Qr(ss(e),e,t)}var os={recoilComponentGetRecoilValueCount_FOR_TESTING:{current:0},useRecoilInterface:function(){const e=Rr(),t=Or(),[,n]=Kr([]),i=qr(new Set);i.current=new Set;const r=qr(new Set),s=qr(new Map),a=$r((e=>{const t=s.current.get(e);t&&(t.release(),s.current.delete(e))}),[s]),o=$r(((e,t)=>{s.current.has(t)&&n([])}),[]);return Wr((()=>{const n=t.current;Dt(i.current,r.current).forEach((t=>{if(s.current.has(t))return void ft(`Double subscription to RecoilValue "${t}"`);const i=Hr(n,new zr(t),(e=>o(e,t)),e);s.current.set(t,i);n.getState().nextTree?n.getState().queuedComponentCallbacks_DEPRECATED.push((()=>{o(n.getState(),t)})):o(n.getState(),t)})),Dt(r.current,i.current).forEach((e=>{a(e)})),r.current=i.current})),Wr((()=>{const n=s.current;return Dt(i.current,new Set(n.keys())).forEach((i=>{const r=Hr(t.current,new zr(i),(e=>o(e,i)),e);n.set(i,r)})),()=>n.forEach(((e,t)=>a(t)))}),[e,t,a,o]),Gr((()=>{function e(e){return n=>{Ur(t.current,e,n)}}function n(e){var n;i.current.has(e.key)||(i.current=Xr(i.current,e.key));const r=t.current.getState();return Br(t.current,e,Ir().early&&null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree)}function r(e){return Qr(n(e),e,t)}return{getRecoilValue:r,getRecoilValueLoadable:n,getRecoilState:function(t){return[r(t),e(t)]},getRecoilStateLoadable:function(t){return[n(t),e(t)]},getSetRecoilState:e,getResetRecoilState:function(e){return()=>Ur(t.current,e,Pr)}}}),[i,t])},useRecoilState:function(e){return[is(e),rs(e)]},useRecoilStateLoadable:function(e){return[ns(e),rs(e)]},useRecoilValue:is,useRecoilValueLoadable:ns,useResetRecoilState:function(e){const t=Or();return $r((()=>{Ur(t.current,e,Pr)}),[t,e])},useSetRecoilState:rs,useSetUnvalidatedAtomValues:function(){const e=Or();return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Mr((()=>{e.current.addTransactionMetadata(n),t.forEach(((t,n)=>Vr(e.current,new zr(n),t)))}))}},useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:ss,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:as,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:function(e){return[as(e),rs(e)]}};var ls=function(e,t){const n=new Map;for(const[i,r]of e)t(r,i)&&n.set(i,r);return n};var cs=function(e,t){const n=new Set;for(const i of e)t(i)&&n.add(i);return n};var us=function(){const e=new Map;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(let r=0;r<n.length;r++){const t=n[r].keys();let i;for(;!(i=t.next()).done;)e.set(i.value,n[r].get(i.value))}return e};const{batchUpdates:ds}=Zn,{DEFAULT_VALUE:hs,getNode:ps,nodes:fs}=At,{useStoreRef:gs}=mr,{AbstractRecoilValue:ms,setRecoilValueLoadable:vs}=In,{SUSPENSE_TIMEOUT_MS:bs}=Wn,{cloneSnapshot:ys}=Ii,{useCallback:ws,useEffect:_s,useRef:Ss,useState:xs}=t,{isSSR:As}=ii;function Es(e){const t=gs();_s((()=>t.current.subscribeToTransactions(e).release),[e,t])}function ks(e){const t=e.atomValues.toMap(),n=Nt(ls(t,((e,t)=>{const n=ps(t).persistence_UNSTABLE;return null!=n&&"none"!==n.type&&"hasValue"===e.state})),(e=>e.contents));return us(e.nonvalidatedAtoms.toMap(),n)}function Cs(e,t){var n;const i=e.getState(),r=null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree,s=t.getStore_INTERNAL().getState().currentTree;ds((()=>{const n=new Set;for(const e of[r.atomValues.keys(),s.atomValues.keys()])for(const t of e){var i,a;(null===(i=r.atomValues.get(t))||void 0===i?void 0:i.contents)!==(null===(a=s.atomValues.get(t))||void 0===a?void 0:a.contents)&&ps(t).shouldRestoreFromSnapshots&&n.add(t)}n.forEach((t=>{vs(e,new ms(t),s.atomValues.has(t)?Ae(s.atomValues.get(t)):hs)})),e.replaceState((e=>({...e,stateID:t.getID()})))}))}var Ts={useRecoilSnapshot:function(){const e=gs(),[t,n]=xs((()=>ys(e.current))),i=wr(t),r=Ss(),s=Ss();if(Es(ws((e=>n(ys(e))),[])),_s((()=>{const e=t.retain();var n;r.current&&!As&&(window.clearTimeout(r.current),r.current=null,null===(n=s.current)||void 0===n||n.call(s),s.current=null);return()=>{window.setTimeout(e,10)}}),[t]),i!==t&&!As){var a;if(r.current)window.clearTimeout(r.current),r.current=null,null===(a=s.current)||void 0===a||a.call(s),s.current=null;s.current=t.retain(),r.current=window.setTimeout((()=>{var e;r.current=null,null===(e=s.current)||void 0===e||e.call(s),s.current=null}),bs)}return t},gotoSnapshot:Cs,useGotoRecoilSnapshot:function(){const e=gs();return ws((t=>Cs(e.current,t)),[e])},useRecoilTransactionObserver:function(e){Es(ws((t=>{const n=ys(t,"latest"),i=ys(t,"previous");e({snapshot:n,previousSnapshot:i})}),[e]))},useTransactionObservation_DEPRECATED:function(e){Es(ws((t=>{let n=t.getState().previousTree;const i=t.getState().currentTree;n||(Ze("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),n=t.getState().currentTree);const r=ks(i),s=ks(n),a=Nt(fs,(e=>{var t,n,i,r;return{persistence_UNSTABLE:{type:null!==(t=null===(n=e.persistence_UNSTABLE)||void 0===n?void 0:n.type)&&void 0!==t?t:"none",backButton:null!==(i=null===(r=e.persistence_UNSTABLE)||void 0===r?void 0:r.backButton)&&void 0!==i&&i}}})),o=cs(i.dirtyAtoms,(e=>r.has(e)||s.has(e)));e({atomValues:r,previousAtomValues:s,atomInfo:a,modifiedAtoms:o,transactionMetadata:{...i.transactionMetadata}})}),[e]))},useTransactionSubscription_DEPRECATED:Es};const{peekNodeInfo:Rs}=cn,{useStoreRef:Ms}=mr;var Ps=function(){const e=Ms();return t=>{let{key:n}=t;return Rs(e.current,e.current.getState().currentTree,n)}};const{reactMode:Ls}=rt,{RecoilRoot:Is,useStoreRef:Ds}=mr,{useMemo:Ns}=t;var Fs=function(){"MUTABLE_SOURCE"===Ls().mode&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const e=Ds().current;return Ns((()=>function(n){let{children:i}=n;return t.createElement(Is,{store_INTERNAL:e},i)}),[e])};const{loadableWithValue:Os}=We,{initializeNode:js}=cn,{DEFAULT_VALUE:zs,getNode:Bs}=At,{copyTreeState:Us,getRecoilValueAsLoadable:Vs,invalidateDownstreams:Hs,writeLoadableToTreeState:$s}=In;function Ws(e){return"atom"===Bs(e.key).nodeType}class Gs{constructor(e,t){Ee(this,"_store",void 0),Ee(this,"_treeState",void 0),Ee(this,"_changes",void 0),Ee(this,"get",(e=>{if(this._changes.has(e.key))return this._changes.get(e.key);if(!Ws(e))throw Se("Reading selectors within atomicUpdate is not supported");const t=Vs(this._store,e,this._treeState);if("hasValue"===t.state)return t.contents;throw"hasError"===t.state?t.contents:Se(`Expected Recoil atom ${e.key} to have a value, but it is in a loading state.`)})),Ee(this,"set",((e,t)=>{if(!Ws(e))throw Se("Setting selectors within atomicUpdate is not supported");if("function"===typeof t){const n=this.get(e);this._changes.set(e.key,t(n))}else js(this._store,e.key,"set"),this._changes.set(e.key,t)})),Ee(this,"reset",(e=>{this.set(e,zs)})),this._store=e,this._treeState=t,this._changes=new Map}newTreeState_INTERNAL(){if(0===this._changes.size)return this._treeState;const e=Us(this._treeState);for(const[t,n]of this._changes)$s(e,t,Os(n));return Hs(this._store,e),e}}var qs=function(e){return t=>{e.replaceState((n=>{const i=new Gs(e,n);return t(i),i.newTreeState_INTERNAL()}))}},Ks=qs,Xs=Object.freeze({__proto__:null,atomicUpdater:Ks});var Ys=function(e,t){if(!e)throw new Error(t)};const{atomicUpdater:Qs}=Xs,{batchUpdates:Js}=Zn,{DEFAULT_VALUE:Zs}=At,{useStoreRef:ea}=mr,{refreshRecoilValue:ta,setRecoilValue:na}=In,{cloneSnapshot:ia}=Ii,{gotoSnapshot:ra}=Ts,{useCallback:sa}=t;class aa{}const oa=new aa;function la(e,t,n,i){let r,s=oa;var a;(Js((()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!==typeof t)throw Se(a);const o=Qt({...null!==i&&void 0!==i?i:{},set:(t,n)=>na(e,t,n),reset:t=>na(e,t,Zs),refresh:t=>ta(e,t),gotoSnapshot:t=>ra(e,t),transact_UNSTABLE:t=>Qs(e)(t)},{snapshot:()=>{const t=ia(e);return r=t.retain(),t}}),l=t(o);if("function"!==typeof l)throw Se(a);s=l(...n)})),s instanceof aa&&Ys(!1),xe(s))?s=s.finally((()=>{var e;null===(e=r)||void 0===e||e()})):null===(a=r)||void 0===a||a();return s}var ca={recoilCallback:la,useRecoilCallback:function(e,t){const n=ea();return sa((function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return la(n.current,e,i)}),null!=t?[...t,n]:void 0)}};const{useStoreRef:ua}=mr,{refreshRecoilValue:da}=In,{useCallback:ha}=t;var pa=function(e){const t=ua();return ha((()=>{const n=t.current;da(n,e)}),[e,t])};const{atomicUpdater:fa}=Xs,{useStoreRef:ga}=mr,{useMemo:ma}=t;var va=function(e,t){const n=ga();return ma((()=>function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];fa(n.current)((t=>{e(t)(...i)}))}),null!=t?[...t,n]:void 0)};var ba=class{constructor(e){Ee(this,"value",void 0),this.value=e}},ya=Object.freeze({__proto__:null,WrappedValue:ba});const{isFastRefreshEnabled:wa}=rt;class _a extends Error{}var Sa=class{constructor(e){var t,n,i;Ee(this,"_name",void 0),Ee(this,"_numLeafs",void 0),Ee(this,"_root",void 0),Ee(this,"_onHit",void 0),Ee(this,"_onSet",void 0),Ee(this,"_mapNodeValue",void 0),this._name=null===e||void 0===e?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=null!==(t=null===e||void 0===e?void 0:e.onHit)&&void 0!==t?t:()=>{},this._onSet=null!==(n=null===e||void 0===e?void 0:e.onSet)&&void 0!==n?n:()=>{},this._mapNodeValue=null!==(i=null===e||void 0===e?void 0:e.mapNodeValue)&&void 0!==i?i:e=>e}size(){return this._numLeafs}root(){return this._root}get(e,t){var n;return null===(n=this.getLeafNode(e,t))||void 0===n?void 0:n.value}getLeafNode(e,t){if(null==this._root)return;let n=this._root;for(;n;){if(null===t||void 0===t||t.onNodeVisit(n),"leaf"===n.type)return this._onHit(n),n;const i=this._mapNodeValue(e(n.nodeKey));n=n.branches.get(i)}}set(e,t,n){const i=()=>{var i,r,s,a;let o,l;for(const[t,f]of e){var c,u,d;const e=this._root;if("leaf"===(null===e||void 0===e?void 0:e.type))throw this.invalidCacheError();const i=o;if(o=i?i.branches.get(l):e,o=null!==(c=o)&&void 0!==c?c:{type:"branch",nodeKey:t,parent:i,branches:new Map,branchKey:l},"branch"!==o.type||o.nodeKey!==t)throw this.invalidCacheError();null===i||void 0===i||i.branches.set(l,o),null===n||void 0===n||null===(u=n.onNodeVisit)||void 0===u||u.call(n,o),l=this._mapNodeValue(f),this._root=null!==(d=this._root)&&void 0!==d?d:o}const h=o?null===(i=o)||void 0===i?void 0:i.branches.get(l):this._root;if(null!=h&&("leaf"!==h.type||h.branchKey!==l))throw this.invalidCacheError();const p={type:"leaf",value:t,parent:o,branchKey:l};null===(r=o)||void 0===r||r.branches.set(l,p),this._root=null!==(s=this._root)&&void 0!==s?s:p,this._numLeafs++,this._onSet(p),null===n||void 0===n||null===(a=n.onNodeVisit)||void 0===a||a.call(n,p)};try{i()}catch(r){if(!(r instanceof _a))throw r;this.clear(),i()}}delete(e){const t=this.root();if(!t)return!1;if(e===t)return this._root=null,this._numLeafs=0,!0;let n=e.parent,i=e.branchKey;for(;n;){var r;if(n.branches.delete(i),n===t)return 0===n.branches.size?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(n.branches.size>0)break;i=null===(r=n)||void 0===r?void 0:r.branchKey,n=n.parent}for(;n!==t;n=n.parent)if(null==n)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=wa()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw Ze(e+(null!=this._name?` - ${this._name}`:"")),new _a}},xa=Sa,Aa=Object.freeze({__proto__:null,TreeCache:xa});var Ea=class{constructor(e){var t;Ee(this,"_maxSize",void 0),Ee(this,"_size",void 0),Ee(this,"_head",void 0),Ee(this,"_tail",void 0),Ee(this,"_map",void 0),Ee(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!==(t=e.mapKey)&&void 0!==t?t:e=>e}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const t=this._keyMapper(e),n=this._map.get(t);if(n)return this.set(e,n.value),n.value}set(e,t){const n=this._keyMapper(e);this._map.get(n)&&this.delete(e);const i=this.head(),r={key:e,right:i,left:null,value:t};i?i.left=r:this._tail=r,this._map.set(n,r),this._head=r,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const t=this._keyMapper(e);if(!this._size||!this._map.has(t))return;const n=Ae(this._map.get(t)),i=n.right,r=n.left;i&&(i.left=n.left),r&&(r.right=n.right),n===this.head()&&(this._head=i),n===this.tail()&&(this._tail=r),this._map.delete(t),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}},ka=Ea,Ca=Object.freeze({__proto__:null,LRUCache:ka});const{LRUCache:Ta}=Ca,{TreeCache:Ra}=Aa;var Ma=function(e){let{name:t,maxSize:n,mapNodeValue:i=(e=>e)}=e;const r=new Ta({maxSize:n}),s=new Ra({name:t,mapNodeValue:i,onHit:e=>{r.set(e,!0)},onSet:e=>{const t=r.tail();r.set(e,!0),t&&s.size()>n&&s.delete(t.key)}});return s};function Pa(e,t,n){if("string"===typeof e&&!e.includes('"')&&!e.includes("\\"))return`"${e}"`;switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if(!0!==(null===t||void 0===t?void 0:t.allowFunctions))throw Se("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${e.name})__`}if(null===e)return"null";var i;if("object"!==typeof e)return null!==(i=JSON.stringify(e))&&void 0!==i?i:"";if(xe(e))return"__PROMISE__";if(Array.isArray(e))return`[${e.map(((e,n)=>Pa(e,t,n.toString())))}]`;if("function"===typeof e.toJSON)return Pa(e.toJSON(n),t,n);if(e instanceof Map){const i={};for(const[n,r]of e)i["string"===typeof n?n:Pa(n,t)]=r;return Pa(i,t,n)}return e instanceof Set?Pa(Array.from(e).sort(((e,n)=>Pa(e,t).localeCompare(Pa(n,t)))),t,n):void 0!==Symbol&&null!=e[Symbol.iterator]&&"function"===typeof e[Symbol.iterator]?Pa(Array.from(e),t,n):`{${Object.keys(e).filter((t=>void 0!==e[t])).sort().map((n=>`${Pa(n,t)}:${Pa(e[n],t,n)}`)).join(",")}}`}var La=function(e){return Pa(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{allowFunctions:!1})};const{TreeCache:Ia}=Aa,Da={equality:"reference",eviction:"keep-all",maxSize:1/0};var Na=function(){let{equality:e=Da.equality,eviction:t=Da.eviction,maxSize:n=Da.maxSize}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da,i=arguments.length>1?arguments[1]:void 0;const r=function(e){switch(e){case"reference":return e=>e;case"value":return e=>La(e)}throw Se(`Unrecognized equality policy ${e}`)}(e);return function(e,t,n,i){switch(e){case"keep-all":return new Ia({name:i,mapNodeValue:n});case"lru":return Ma({name:i,maxSize:Ae(t),mapNodeValue:n});case"most-recent":return Ma({name:i,maxSize:1,mapNodeValue:n})}throw Se(`Unrecognized eviction policy ${e}`)}(t,n,r,i)};const{isReactNative:Fa,isWindow:Oa}=ii;var ja={startPerfBlock:function(e){return()=>null}};const{isLoadable:za,loadableWithError:Ba,loadableWithPromise:Ua,loadableWithValue:Va}=We,{WrappedValue:Ha}=ya,{getNodeLoadable:$a,peekNodeLoadable:Wa,setNodeValue:Ga}=cn,{saveDepsToStore:qa}=Ot,{DEFAULT_VALUE:Ka,getConfigDeletionHandler:Xa,getNode:Ya,registerNode:Qa}=At,{isRecoilValue:Ja}=pt,{markRecoilValueModified:Za}=In,{retainedByOptionWithDefault:eo}=Wn,{recoilCallback:to}=ca,{startPerfBlock:no}=ja;class io{}const ro=new io,so=[],ao=new Map,oo=(()=>{let e=0;return()=>e++})();function lo(e){let t=null;const{key:n,get:i,cachePolicy_UNSTABLE:r}=e,s=null!=e.set?e.set:void 0;const a=new Set,o=Na(null!==r&&void 0!==r?r:{equality:"reference",eviction:"keep-all"},n),l=eo(e.retainedBy_UNSTABLE),c=new Map;let u=0;function d(){return!Xe("recoil_memory_managament_2020")||u>0}function h(e){return e.getState().knownSelectors.add(n),u++,()=>{u--}}function p(){return void 0!==Xa(n)&&!d()}function f(e,t,n,i,r){C(t,i,r),g(e,n)}function g(e,t){k(e,t)&&E(e),m(t,!0)}function m(e,n){const i=ao.get(e);if(null!=i){for(const e of i)Za(e,Ae(t));n&&ao.delete(e)}}function v(e,t){let n=ao.get(t);null==n&&ao.set(t,n=new Set),n.add(e)}function b(e,t,n,i,r,s){return t.then((i=>{if(!d())throw E(e),ro;null!=s.loadingDepKey&&s.loadingDepPromise===t?n.atomValues.set(s.loadingDepKey,Va(i)):e.getState().knownSelectors.forEach((e=>{n.atomValues.delete(e)}));const a=_(e,n);if(a&&"loading"!==a.state){if((k(e,r)||null==A(e))&&g(e,r),"hasValue"===a.state)return a.contents;throw a.contents}if(!k(e,r)){const t=x(e,n);if(null!=t)return t.loadingLoadable.contents}const[o,l]=w(e,n,r);if("loading"!==o.state&&f(e,n,r,o,l),"hasError"===o.state)throw o.contents;return o.contents})).catch((t=>{if(t instanceof io)throw ro;if(!d())throw E(e),ro;const s=Ba(t);throw f(e,n,r,s,i),t}))}function y(e,t,i,r){var s,o,l,c,u,d,h;(k(e,r)||t.version===(null===(s=e.getState())||void 0===s||null===(o=s.currentTree)||void 0===o?void 0:o.version)||t.version===(null===(l=e.getState())||void 0===l||null===(c=l.nextTree)||void 0===c?void 0:c.version))&&qa(n,i,e,null!==(u=null===(d=e.getState())||void 0===d||null===(h=d.nextTree)||void 0===h?void 0:h.version)&&void 0!==u?u:e.getState().currentTree.version);for(const n of i)a.add(n)}function w(e,r,s){const a=no(n);let o=!0,l=!0;const c=()=>{a(),l=!1};let u,h,p=!1;const g={loadingDepKey:null,loadingDepPromise:null},v=new Map;function w(t){let{key:n}=t;const i=$a(e,r,n);switch(v.set(n,i),o||(y(e,r,new Set(v.keys()),s),function(e,t){k(e,t)&&(Ae(A(e)).stateVersions.clear(),m(t,!1))}(e,s)),i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":throw g.loadingDepKey=n,g.loadingDepPromise=i.contents,i.contents}throw Se("Invalid Loadable state")}const _=n=>function(){if(l)throw Se("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");null==t&&Ys(!1);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return to(e,n,r,{node:t})};try{u=i({get:w,getCallback:_}),u=Ja(u)?w(u):u,za(u)&&("hasError"===u.state&&(p=!0),u=u.contents),xe(u)?u=function(e,t,n,i,r,s){return t.then((t=>{if(!d())throw E(e),ro;const s=Va(t);return f(e,n,r,s,i),t})).catch((t=>{if(!d())throw E(e),ro;if(xe(t))return b(e,t,n,i,r,s);const a=Ba(t);throw f(e,n,r,a,i),t}))}(e,u,r,v,s,g).finally(c):c(),u=u instanceof Ha?u.value:u}catch(S){u=S,xe(u)?u=b(e,u,r,v,s,g).finally(c):(p=!0,c())}return h=p?Ba(u):xe(u)?Ua(u):Va(u),o=!1,function(e,t,n){if(k(e,t)){const t=A(e);null!=t&&(t.depValuesDiscoveredSoFarDuringAsyncWork=n)}}(e,s,v),y(e,r,new Set(v.keys()),s),[h,v]}function _(e,t){let i=t.atomValues.get(n);if(null!=i)return i;const r=new Set;try{i=o.get((n=>("string"!==typeof n&&Ys(!1),$a(e,t,n).contents)),{onNodeVisit:e=>{"branch"===e.type&&e.nodeKey!==n&&r.add(e.nodeKey)}})}catch(a){throw Se(`Problem with cache lookup for selector "${n}": ${a.message}`)}var s;i&&(t.atomValues.set(n,i),y(e,t,r,null===(s=A(e))||void 0===s?void 0:s.executionID));return i}function S(e,t){const n=_(e,t);if(null!=n)return E(e),n;const i=x(e,t);var r;if(null!=i)return"loading"===(null===(r=i.loadingLoadable)||void 0===r?void 0:r.state)&&v(e,i.executionID),i.loadingLoadable;const s=oo(),[a,o]=w(e,t,s);return"loading"===a.state?(!function(e,t,n,i,r){c.set(e,{depValuesDiscoveredSoFarDuringAsyncWork:i,executionID:t,loadingLoadable:n,stateVersions:new Map([[r.version,!0]])})}(e,s,a,o,t),v(e,s)):(E(e),C(t,a,o)),a}function x(e,t){const n=ei([c.has(e)?[Ae(c.get(e))]:[],gt(Yt(c,(t=>{let[n]=t;return n!==e})),(e=>{let[,t]=e;return t}))]);function i(n){for(const[i,r]of n)if(!$a(e,t,i).is(r))return!0;return!1}for(const r of n){if(r.stateVersions.get(t.version)||!i(r.depValuesDiscoveredSoFarDuringAsyncWork))return r.stateVersions.set(t.version,!0),r;r.stateVersions.set(t.version,!1)}}function A(e){return c.get(e)}function E(e){c.delete(e)}function k(e,t){var n;return t===(null===(n=A(e))||void 0===n?void 0:n.executionID)}function C(e,t,i){e.atomValues.set(n,t);try{o.set(function(e){return Array.from(e.entries()).map((e=>{let[t,n]=e;return[t,n.contents]}))}(i),t)}catch(r){throw Se(`Problem with setting cache for selector "${n}": ${r.message}`)}}function T(e,t){const i=t.atomValues.get(n);return null!=i?i:o.get((n=>{var i;return"string"!==typeof n&&Ys(!1),null===(i=Wa(e,t,n))||void 0===i?void 0:i.contents}))}function R(e,t){return function(e){if(so.includes(n)){const e=`Recoil selector has circular dependencies: ${so.slice(so.indexOf(n)).join(" \u2192 ")}`;return Ba(Se(e))}so.push(n);try{return e()}finally{so.pop()}}((()=>S(e,t)))}function M(e){e.atomValues.delete(n)}function P(e,n){null==t&&Ys(!1);for(const t of a){var i;const r=Ya(t);null===(i=r.clearCache)||void 0===i||i.call(r,e,n)}a.clear(),M(n),o.clear(),Za(e,t)}if(null!=s){const i=(e,t,i)=>{let r=!1;const a=new Map;function o(i){let{key:s}=i;if(r)throw Se("Recoil: Async selector sets are not currently supported.");const a=$a(e,t,s);if("hasValue"===a.state)return a.contents;if("loading"===a.state){const e=`Getting value of asynchronous atom or selector "${s}" in a pending state while setting selector "${n}" is not yet supported.`;throw Ze(e),Se(e)}throw a.contents}function l(n,i){if(r){const e="Recoil: Async selector sets are not currently supported.";throw Ze(e),Se(e)}const s="function"===typeof i?i(o(n)):i;Ga(e,t,n.key,s).forEach(((e,t)=>a.set(t,e)))}const c=s({set:l,get:o,reset:function(e){l(e,Ka)}},i);if(void 0!==c)throw xe(c)?Se("Recoil: Async selector sets are not currently supported."):Se("Recoil: selector set should be a void function.");return r=!0,a};return t=Qa({key:n,nodeType:"selector",peek:T,get:R,set:i,init:h,invalidate:M,clearCache:P,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}return t=Qa({key:n,nodeType:"selector",peek:T,get:R,init:h,invalidate:M,clearCache:P,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}lo.value=e=>new Ha(e);var co=lo;const{isLoadable:uo,loadableWithError:ho,loadableWithPromise:po,loadableWithValue:fo}=We,{WrappedValue:go}=ya,{peekNodeInfo:mo}=cn,{DEFAULT_VALUE:vo,DefaultValue:bo,getConfigDeletionHandler:yo,registerNode:wo,setConfigDeletionHandler:_o}=At,{isRecoilValue:So}=pt,{getRecoilValueAsLoadable:xo,markRecoilValueModified:Ao,setRecoilValue:Eo,setRecoilValueLoadable:ko}=In,{retainedByOptionWithDefault:Co}=Wn,To=e=>e instanceof go?e.value:e;function Ro(e){const{key:t,persistence_UNSTABLE:n}=e,i=Co(e.retainedBy_UNSTABLE);let r=0;function s(e){return po(e.then((e=>(o=fo(e),e))).catch((e=>{throw o=ho(e),e})))}let a,o=xe(e.default)?s(e.default):uo(e.default)?"loading"===e.default.state?s(e.default.contents):e.default:fo(To(e.default));c(o.contents);const l=new Map;function c(e){return e}function u(e,n){var i,r;return null!==(i=null!==(r=n.atomValues.get(t))&&void 0!==r?r:a)&&void 0!==i?i:o}const d=wo({key:t,nodeType:"atom",peek:u,get:function(e,i){if(i.atomValues.has(t))return Ae(i.atomValues.get(t));if(i.nonvalidatedAtoms.has(t)){if(null!=a)return a;if(null==n)return ft(`Tried to restore a persisted value for atom ${t} but it has no persistence settings.`),o;const e=i.nonvalidatedAtoms.get(t),r=n.validator(e,vo),s=r instanceof bo?o:fo(r);return a=s,a}return o},set:function(e,n,i){if(n.atomValues.has(t)){const e=Ae(n.atomValues.get(t));if("hasValue"===e.state&&i===e.contents)return new Map}else if(!n.nonvalidatedAtoms.has(t)&&i instanceof bo)return new Map;return a=void 0,(new Map).set(t,fo(i))},init:function(n,i,s){var a;if(r++,n.getState().knownAtoms.add(t),"loading"===o.state){const g=()=>{var e;(null!==(e=n.getState().nextTree)&&void 0!==e?e:n.getState().currentTree).atomValues.has(t)||Ao(n,d)};o.contents.finally(g)}const c=null!==(a=e.effects)&&void 0!==a?a:e.effects_UNSTABLE;if(null!=c){let m=vo,v=!0,b=!1,y=null;function w(e){if(v&&e.key===t){const e=m;return e instanceof bo?u(n,i):xe(e)?po(e.then((e=>e instanceof bo?o.toPromise():e))):fo(e)}return xo(n,e)}function _(e){return w(e).toPromise()}function S(e){var i;const r=mo(n,null!==(i=n.getState().nextTree)&&void 0!==i?i:n.getState().currentTree,e.key);return!v||e.key!==t||m instanceof bo?r:{...r,isSet:!0,loadable:w(e)}}const x=e=>t=>{if(v){const n=w(d),i="hasValue"===n.state?n.contents:vo;m="function"===typeof t?t(i):t,xe(m)&&(m=m.then((t=>(y={effect:e,value:t},t))))}else{if(xe(t))throw Se("Setting atoms to async values is not implemented.");"function"!==typeof t&&(y={effect:e,value:To(t)}),Eo(n,d,"function"===typeof t?n=>{const i=To(t(n));return y={effect:e,value:i},i}:To(t))}},A=e=>()=>x(e)(vo),E=e=>i=>{var r;const{release:s}=n.subscribeToTransactions((n=>{var r;let{currentTree:s,previousTree:a}=n.getState();a||(Ze("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),a=s);const l=null!==(r=s.atomValues.get(t))&&void 0!==r?r:o;if("hasValue"===l.state){var c,u,d,h;const n=l.contents,r=null!==(c=a.atomValues.get(t))&&void 0!==c?c:o,p="hasValue"===r.state?r.contents:vo;(null===(u=y)||void 0===u?void 0:u.effect)!==e||(null===(d=y)||void 0===d?void 0:d.value)!==n?i(n,p,!s.atomValues.has(t)):(null===(h=y)||void 0===h?void 0:h.effect)===e&&(y=null)}}),t);l.set(n,[...null!==(r=l.get(n))&&void 0!==r?r:[],s])};for(const k of c)try{const C=k({node:d,storeID:n.storeID,parentStoreID_UNSTABLE:n.parentStoreID,trigger:s,setSelf:x(k),resetSelf:A(k),onSet:E(k),getPromise:_,getLoadable:w,getInfo_UNSTABLE:S});var h;if(null!=C)l.set(n,[...null!==(h=l.get(n))&&void 0!==h?h:[],C])}catch(f){m=f,b=!0}if(v=!1,!(m instanceof bo)){var p;const T=b?ho(m):xe(m)?po(function(e,n){const i=n.then((n=>{var r,s;return(null===(s=(null!==(r=e.getState().nextTree)&&void 0!==r?r:e.getState().currentTree).atomValues.get(t))||void 0===s?void 0:s.contents)===i&&Eo(e,d,n),n})).catch((n=>{var r,s;throw(null===(s=(null!==(r=e.getState().nextTree)&&void 0!==r?r:e.getState().currentTree).atomValues.get(t))||void 0===s?void 0:s.contents)===i&&ko(e,d,ho(n)),n}));return i}(n,m)):fo(To(m));T.contents,i.atomValues.set(t,T),null===(p=n.getState().nextTree)||void 0===p||p.atomValues.set(t,T)}}return()=>{var e;r--,null===(e=l.get(n))||void 0===e||e.forEach((e=>e())),l.delete(n)}},invalidate:function(){a=void 0},shouldDeleteConfigOnRelease:function(){return void 0!==yo(t)&&r<=0},dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:i});return d}function Mo(e){const{...t}=e,n="default"in e?e.default:new Promise((()=>{}));return So(n)?function(e){const t=Mo({...e,default:vo,persistence_UNSTABLE:void 0===e.persistence_UNSTABLE?void 0:{...e.persistence_UNSTABLE,validator:t=>t instanceof bo?t:Ae(e.persistence_UNSTABLE).validator(t,vo)},effects:e.effects,effects_UNSTABLE:e.effects_UNSTABLE}),n=co({key:`${e.key}__withFallback`,get:n=>{let{get:i}=n;const r=i(t);return r instanceof bo?e.default:r},set:(e,n)=>{let{set:i}=e;return i(t,n)},cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:e.dangerouslyAllowMutability});return _o(n.key,yo(e.key)),n}({...t,default:n}):Ro({...t,default:n})}Mo.value=e=>new go(e);var Po=Mo;var Lo=class{constructor(e){var t;Ee(this,"_map",void 0),Ee(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!==(t=null===e||void 0===e?void 0:e.mapKey)&&void 0!==t?t:e=>e}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,t){this._map.set(this._keyMapper(e),t)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}},Io=Lo,Do=Object.freeze({__proto__:null,MapCache:Io});const{LRUCache:No}=Ca,{MapCache:Fo}=Do,Oo={equality:"reference",eviction:"none",maxSize:1/0};var jo=function(){let{equality:e=Oo.equality,eviction:t=Oo.eviction,maxSize:n=Oo.maxSize}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oo;const i=function(e){switch(e){case"reference":return e=>e;case"value":return e=>La(e)}throw Se(`Unrecognized equality policy ${e}`)}(e);return function(e,t,n){switch(e){case"keep-all":return new Fo({mapKey:n});case"lru":return new No({mapKey:n,maxSize:Ae(t)});case"most-recent":return new No({mapKey:n,maxSize:1})}throw Se(`Unrecognized eviction policy ${e}`)}(t,n,i)};const{setConfigDeletionHandler:zo}=At;var Bo=function(e){var t,n;const i=jo({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var n,r;const s=i.get(t);if(null!=s)return s;const{cachePolicyForParams_UNSTABLE:a,...o}=e,l="default"in e?e.default:new Promise((()=>{})),c=Po({...o,key:`${e.key}__${null!==(n=La(t))&&void 0!==n?n:"void"}`,default:"function"===typeof l?l(t):l,retainedBy_UNSTABLE:"function"===typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE,effects:"function"===typeof e.effects?e.effects(t):"function"===typeof e.effects_UNSTABLE?e.effects_UNSTABLE(t):null!==(r=e.effects)&&void 0!==r?r:e.effects_UNSTABLE});return i.set(t,c),zo(c.key,(()=>{i.delete(t)})),c}};const{setConfigDeletionHandler:Uo}=At;let Vo=0;var Ho=function(e){var t,n;const i=jo({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var n;let r;try{r=i.get(t)}catch(u){throw Se(`Problem with cache lookup for selector ${e.key}: ${u.message}`)}if(null!=r)return r;const s=`${e.key}__selectorFamily/${null!==(n=La(t,{allowFunctions:!0}))&&void 0!==n?n:"void"}/${Vo++}`,a=n=>e.get(t)(n),o=e.cachePolicy_UNSTABLE,l="function"===typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;let c;if(null!=e.set){const n=e.set;c=co({key:s,get:a,set:(e,i)=>n(t)(e,i),cachePolicy_UNSTABLE:o,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:l})}else c=co({key:s,get:a,cachePolicy_UNSTABLE:o,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:l});return i.set(t,c),Uo(c.key,(()=>{i.delete(t)})),c}};const $o=Ho({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});var Wo=function(e){return $o(e)};const Go=Ho({key:"__error",get:e=>()=>{throw Se(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});var qo=function(e){return Go(e)};var Ko=function(e){return e};const{loadableWithError:Xo,loadableWithPromise:Yo,loadableWithValue:Qo}=We;function Jo(e,t){const n=Array(t.length).fill(void 0),i=Array(t.length).fill(void 0);for(const[s,a]of t.entries())try{n[s]=e(a)}catch(r){i[s]=r}return[n,i]}function Zo(e){return null!=e&&!xe(e)}function el(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((t=>e[t]))}function tl(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce(((e,n,i)=>({...e,[n]:t[i]})),{})}function nl(e,t,n){return tl(e,n.map(((e,n)=>null==e?Qo(t[n]):xe(e)?Yo(e):Xo(e))))}var il={waitForNone:Ho({key:"__waitForNone",get:e=>t=>{let{get:n}=t;const i=el(e),[r,s]=Jo(n,i);return nl(e,r,s)},dangerouslyAllowMutability:!0}),waitForAny:Ho({key:"__waitForAny",get:e=>t=>{let{get:n}=t;const i=el(e),[r,s]=Jo(n,i);return s.some((e=>!xe(e)))?nl(e,r,s):new Promise((t=>{for(const[n,i]of s.entries())xe(i)&&i.then((i=>{r[n]=i,s[n]=void 0,t(nl(e,r,s))})).catch((i=>{s[n]=i,t(nl(e,r,s))}))}))},dangerouslyAllowMutability:!0}),waitForAll:Ho({key:"__waitForAll",get:e=>t=>{let{get:n}=t;const i=el(e),[r,s]=Jo(n,i);if(s.every((e=>null==e)))return tl(e,r);const a=s.find(Zo);if(null!=a)throw a;return Promise.all(s).then((t=>{return tl(e,(n=r,t.map(((e,t)=>void 0===e?n[t]:e))));var n}))},dangerouslyAllowMutability:!0}),waitForAllSettled:Ho({key:"__waitForAllSettled",get:e=>t=>{let{get:n}=t;const i=el(e),[r,s]=Jo(n,i);return s.every((e=>!xe(e)))?nl(e,r,s):Promise.all(s.map(((e,t)=>xe(e)?e.then((e=>{r[t]=e,s[t]=void 0})).catch((e=>{r[t]=void 0,s[t]=e})):null))).then((()=>nl(e,r,s)))},dangerouslyAllowMutability:!0}),noWait:Ho({key:"__noWait",get:e=>t=>{let{get:n}=t;try{return co.value(Qo(n(e)))}catch(i){return co.value(xe(i)?Yo(i):Xo(i))}},dangerouslyAllowMutability:!0})};const{RecoilLoadable:rl}=We,{DefaultValue:sl}=At,{RecoilRoot:al,useRecoilStoreID:ol}=mr,{isRecoilValue:ll}=pt,{retentionZone:cl}=Kt,{freshSnapshot:ul}=Ii,{useRecoilState:dl,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:hl,useRecoilStateLoadable:pl,useRecoilValue:fl,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:gl,useRecoilValueLoadable:ml,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:vl,useResetRecoilState:bl,useSetRecoilState:yl}=os,{useGotoRecoilSnapshot:wl,useRecoilSnapshot:_l,useRecoilTransactionObserver:Sl}=Ts,{useRecoilCallback:xl}=ca,{noWait:Al,waitForAll:El,waitForAllSettled:kl,waitForAny:Cl,waitForNone:Tl}=il;var Rl={DefaultValue:sl,isRecoilValue:ll,RecoilLoadable:rl,RecoilEnv:qe,RecoilRoot:al,useRecoilStoreID:ol,useRecoilBridgeAcrossReactRoots_UNSTABLE:Fs,atom:Po,selector:co,atomFamily:Bo,selectorFamily:Ho,constSelector:Wo,errorSelector:qo,readOnlySelector:Ko,noWait:Al,waitForNone:Tl,waitForAny:Cl,waitForAll:El,waitForAllSettled:kl,useRecoilValue:fl,useRecoilValueLoadable:ml,useRecoilState:dl,useRecoilStateLoadable:pl,useSetRecoilState:yl,useResetRecoilState:bl,useGetRecoilValueInfo_UNSTABLE:Ps,useRecoilRefresher_UNSTABLE:pa,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:vl,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:gl,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:hl,useRecoilCallback:xl,useRecoilTransaction_UNSTABLE:va,useGotoRecoilSnapshot:wl,useRecoilSnapshot:_l,useRecoilTransactionObserver_UNSTABLE:Sl,snapshot_UNSTABLE:ul,useRetain:Tr,retentionZone:cl},Ml=Rl.RecoilRoot,Pl=Rl.atom,Ll=Rl.useRecoilValue,Il=Rl.useRecoilState;var Dl={d:(e,t)=>{for(var n in t)Dl.o(t,n)&&!Dl.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},Nl=globalThis.pdfjsLib={};Dl.d(Nl,{AbortException:()=>qc,AnnotationEditorLayer:()=>qp,AnnotationEditorParamsType:()=>Xl,AnnotationEditorType:()=>Kl,AnnotationEditorUIManager:()=>Xu,AnnotationLayer:()=>Np,AnnotationMode:()=>ql,CMapCompressionType:()=>Tc,ColorPicker:()=>Hp,DOMSVGFactory:()=>xu,DrawLayer:()=>Kp,FeatureTest:()=>Qc,GlobalWorkerOptions:()=>Bd,ImageKind:()=>ic,InvalidPDFException:()=>Hc,MissingPDFException:()=>$c,OPS:()=>Rc,Outliner:()=>jp,PDFDataRangeTransport:()=>Vh,PDFDateString:()=>Nu,PDFWorker:()=>qh,PasswordResponses:()=>Mc,PermissionFlag:()=>Yl,PixelsPerInch:()=>yu,RenderingCancelledException:()=>Eu,TextLayer:()=>Mh,UnexpectedResponseException:()=>Wc,Util:()=>Zc,VerbosityLevel:()=>Cc,XfaLayer:()=>rp,build:()=>ep,createValidAbsoluteUrl:()=>jc,fetchData:()=>wu,getDocument:()=>zh,getFilenameFromUrl:()=>Tu,getPdfFilenameFromUrl:()=>Ru,getXfaPageViewport:()=>Fu,isDataScheme:()=>ku,isPdfFile:()=>Cu,noContextMenu:()=>Lu,normalizeUnicode:()=>nu,renderTextLayer:()=>Ph,setLayerDimensions:()=>Bu,shadow:()=>zc,updateTextLayer:()=>Lh,version:()=>Zh});const Fl="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),Ol=[1,0,0,1,0,0],jl=[.001,0,0,.001,0,0],zl=1.35,Bl=1,Ul=2,Vl=4,Hl=16,$l=32,Wl=64,Gl=256,ql={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Kl={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Xl={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},Yl={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ql=0,Jl=1,Zl=2,ec=3,tc=3,nc=4,ic={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},rc=1,sc=2,ac=3,oc=4,lc=5,cc=6,uc=7,dc=8,hc=9,pc=10,fc=11,gc=12,mc=13,vc=14,bc=15,yc=16,wc=17,_c=20,Sc=1,xc=2,Ac=3,Ec=4,kc=5,Cc={ERRORS:0,WARNINGS:1,INFOS:5},Tc={NONE:0,BINARY:1},Rc={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},Mc={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Pc=Cc.WARNINGS;function Lc(e){Number.isInteger(e)&&(Pc=e)}function Ic(){return Pc}function Dc(e){Pc>=Cc.INFOS&&console.log(`Info: ${e}`)}function Nc(e){Pc>=Cc.WARNINGS&&console.log(`Warning: ${e}`)}function Fc(e){throw new Error(e)}function Oc(e,t){e||Fc(t)}function jc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;try{if(n&&"string"===typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);t?.length>=2&&(e=`http://${e}`)}if(n.tryConvertEncoding)try{e=decodeURIComponent(escape(e))}catch{}}const i=t?new URL(e,t):new URL(e);if(function(e){switch(e?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i))return i}catch{}return null}function zc(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(e,t,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const Bc=function(){function e(t,n){this.constructor===e&&Fc("Cannot initialize BaseException."),this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class Uc extends Bc{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Vc extends Bc{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Hc extends Bc{constructor(e){super(e,"InvalidPDFException")}}class $c extends Bc{constructor(e){super(e,"MissingPDFException")}}class Wc extends Bc{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class Gc extends Bc{constructor(e){super(e,"FormatError")}}class qc extends Bc{constructor(e){super(e,"AbortException")}}function Kc(e){"object"===typeof e&&void 0!==e?.length||Fc("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const i=[];for(let r=0;r<t;r+=n){const s=Math.min(r+n,t),a=e.subarray(r,s);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function Xc(e){"string"!==typeof e&&Fc("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let i=0;i<t;++i)n[i]=255&e.charCodeAt(i);return n}function Yc(e){const t=Object.create(null);for(const[n,i]of e)t[n]=i;return t}class Qc{static get isLittleEndian(){return zc(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return zc(this,"isEvalSupported",function(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return zc(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get platform(){return"undefined"!==typeof navigator&&"string"===typeof navigator?.platform?zc(this,"platform",{isMac:navigator.platform.includes("Mac")}):zc(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return zc(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Jc=Array.from(Array(256).keys(),(e=>e.toString(16).padStart(2,"0")));class Zc{static makeHexColor(e,t,n){return`#${Jc[e]}${Jc[t]}${Jc[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),r=this.applyTransform([e[0],e[3]],t),s=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],i[0],r[0],s[0]),Math.min(n[1],i[1],r[1],s[1]),Math.max(n[0],i[0],r[0],s[0]),Math.max(n[1],i[1],r[1],s[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],r=e[2]*t[0]+e[3]*t[2],s=e[2]*t[1]+e[3]*t[3],a=(n+s)/2,o=Math.sqrt((n+s)**2-4*(n*s-r*i))/2,l=a+o||1,c=a-o||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const r=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return r>s?null:[n,r,i,s]}static#e(e,t,n,i,r,s,a,o,l,c){if(l<=0||l>=1)return;const u=1-l,d=l*l,h=d*l,p=u*(u*(u*e+3*l*t)+3*d*n)+h*i,f=u*(u*(u*r+3*l*s)+3*d*a)+h*o;c[0]=Math.min(c[0],p),c[1]=Math.min(c[1],f),c[2]=Math.max(c[2],p),c[3]=Math.max(c[3],f)}static#t(e,t,n,i,r,s,a,o,l,c,u,d){if(Math.abs(l)<1e-12)return void(Math.abs(c)>=1e-12&&this.#e(e,t,n,i,r,s,a,o,-u/c,d));const h=c**2-4*u*l;if(h<0)return;const p=Math.sqrt(h),f=2*l;this.#e(e,t,n,i,r,s,a,o,(-c+p)/f,d),this.#e(e,t,n,i,r,s,a,o,(-c-p)/f,d)}static bezierBoundingBox(e,t,n,i,r,s,a,o,l){return l?(l[0]=Math.min(l[0],e,a),l[1]=Math.min(l[1],t,o),l[2]=Math.max(l[2],e,a),l[3]=Math.max(l[3],t,o)):l=[Math.min(e,a),Math.min(t,o),Math.max(e,a),Math.max(t,o)],this.#t(e,n,r,a,t,i,s,o,3*(3*(n-r)-e+a),6*(e-2*n+r),3*(n-e),l),this.#t(e,n,r,a,t,i,s,o,3*(3*(i-s)-t+o),6*(t-2*i+s),3*(i-t),l),l}}let eu=null,tu=null;function nu(e){return eu||(eu=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,tu=new Map([["\ufb05","\u017ft"]])),e.replaceAll(eu,((e,t,n)=>t?t.normalize("NFKC"):tu.get(n)))}const iu="pdfjs_internal_id_",ru=0,su=1,au=2,ou=3,lu=4,cu=5,uu=6,du=7,hu=8;class pu{constructor(){this.constructor===pu&&Fc("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,r){return"none"}destroy(){}}class fu{#n=!1;constructor(){let{enableHWA:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.constructor===fu&&Fc("Cannot initialize BaseCanvasFactory."),this.#n=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#n})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Fc("Abstract method `_createCanvas` called.")}}class gu{constructor(e){let{baseUrl:t=null,isCompressed:n=!0}=e;this.constructor===gu&&Fc("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=n}async fetch(e){let{name:t}=e;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":""),i=this.isCompressed?Tc.BINARY:Tc.NONE;return this._fetchData(n,i).catch((e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)}))}_fetchData(e,t){Fc("Abstract method `_fetchData` called.")}}class mu{constructor(e){let{baseUrl:t=null}=e;this.constructor===mu&&Fc("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${t}`;return this._fetchData(n).catch((e=>{throw new Error(`Unable to load font data at: ${n}`)}))}_fetchData(e){Fc("Abstract method `_fetchData` called.")}}class vu{constructor(){this.constructor===vu&&Fc("Cannot initialize BaseSVGFactory.")}create(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Fc("Abstract method `_createSVG` called.")}}const bu="http://www.w3.org/2000/svg";class yu{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function wu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(Pu(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);switch(t){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise(((n,i)=>{const r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE)if(200!==r.status&&0!==r.status)i(new Error(r.statusText));else{switch(t){case"arraybuffer":case"blob":case"json":return void n(r.response)}n(r.responseText)}},r.send(null)}))}class _u extends gu{_fetchData(e,t){return wu(e,this.isCompressed?"arraybuffer":"text").then((e=>({cMapData:e instanceof ArrayBuffer?new Uint8Array(e):Xc(e),compressionType:t})))}}class Su extends mu{_fetchData(e){return wu(e,"arraybuffer").then((e=>new Uint8Array(e)))}}class xu extends vu{_createSVG(e){return document.createElementNS(bu,e)}}class Au{constructor(e){let{viewBox:t,scale:n,rotation:i,offsetX:r=0,offsetY:s=0,dontFlip:a=!1}=e;this.viewBox=t,this.scale=n,this.rotation=i,this.offsetX=r,this.offsetY=s;const o=(t[2]+t[0])/2,l=(t[3]+t[1])/2;let c,u,d,h,p,f,g,m;switch(i%=360,i<0&&(i+=360),i){case 180:c=-1,u=0,d=0,h=1;break;case 90:c=0,u=1,d=1,h=0;break;case 270:c=0,u=-1,d=-1,h=0;break;case 0:c=1,u=0,d=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(d=-d,h=-h),0===c?(p=Math.abs(l-t[1])*n+r,f=Math.abs(o-t[0])*n+s,g=(t[3]-t[1])*n,m=(t[2]-t[0])*n):(p=Math.abs(o-t[0])*n+r,f=Math.abs(l-t[1])*n+s,g=(t[2]-t[0])*n,m=(t[3]-t[1])*n),this.transform=[c*n,u*n,d*n,h*n,p-c*n*o-d*n*l,f-u*n*o-h*n*l],this.width=g,this.height=m}get rawDims(){const{viewBox:e}=this;return zc(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone(){let{scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Au({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:r})}convertToViewportPoint(e,t){return Zc.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Zc.applyTransform([e[0],e[1]],this.transform),n=Zc.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return Zc.applyInverseTransform([e,t],this.transform)}}class Eu extends Bc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(e,"RenderingCancelledException"),this.extraDelay=t}}function ku(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function Cu(e){return"string"===typeof e&&/\.pdf$/i.test(e)}function Tu(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)}function Ru(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(ku(e))return Nc('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let r=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(r&&(r=r[0],r.includes("%")))try{r=n.exec(decodeURIComponent(r))[0]}catch{}return r||t}class Mu{started=Object.create(null);times=[];time(e){e in this.started&&Nc(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Nc(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:r}of this.times)e.push(`${n.padEnd(t)} ${r-i}ms\n`);return e.join("")}}function Pu(e,t){try{const{protocol:n}=t?new URL(e,t):new URL(e);return"http:"===n||"https:"===n}catch{return!1}}function Lu(e){e.preventDefault()}function Iu(e){console.log("Deprecated API usage: "+e)}let Du;class Nu{static toDateObject(e){if(!e||"string"!==typeof e)return null;Du||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=Du.exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let r=parseInt(t[3],10);r=r>=1&&r<=31?r:1;let s=parseInt(t[4],10);s=s>=0&&s<=23?s:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let o=parseInt(t[6],10);o=o>=0&&o<=59?o:0;const l=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let u=parseInt(t[9],10)||0;return u=u>=0&&u<=59?u:0,"-"===l?(s+=c,a+=u):"+"===l&&(s-=c,a-=u),new Date(Date.UTC(n,i,r,s,a,o))}}function Fu(e,t){let{scale:n=1,rotation:i=0}=t;const{width:r,height:s}=e.attributes.style,a=[0,0,parseInt(r),parseInt(s)];return new Au({viewBox:a,scale:n,rotation:i})}function Ou(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map((e=>parseInt(e))):e.startsWith("rgba(")?e.slice(5,-1).split(",").map((e=>parseInt(e))).slice(0,3):(Nc(`Not a valid color format: "${e}"`),[0,0,0])}function ju(e){const{a:t,b:n,c:i,d:r,e:s,f:a}=e.getTransform();return[t,n,i,r,s,a]}function zu(e){const{a:t,b:n,c:i,d:r,e:s,f:a}=e.getTransform().invertSelf();return[t,n,i,r,s,a]}function Bu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof Au){const{pageWidth:i,pageHeight:r}=t.rawDims,{style:s}=e,a=Qc.isCSSRoundSupported,o=`var(--scale-factor) * ${i}px`,l=`var(--scale-factor) * ${r}px`,c=a?`round(${o}, 1px)`:`calc(${o})`,u=a?`round(${l}, 1px)`:`calc(${l})`;n&&t.rotation%180!==0?(s.width=u,s.height=c):(s.width=c,s.height=u)}i&&e.setAttribute("data-main-rotation",t.rotation)}class Uu{#i=null;#r=null;#s;#a=null;constructor(e){this.#s=e}render(){const e=this.#i=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const t=this.#s._uiManager._signal;e.addEventListener("contextmenu",Lu,{signal:t}),e.addEventListener("pointerdown",Uu.#o,{signal:t});const n=this.#a=document.createElement("div");n.className="buttons",e.append(n);const i=this.#s.toolbarPosition;if(i){const{style:t}=e,n="ltr"===this.#s._uiManager.direction?1-i[0]:i[0];t.insetInlineEnd=100*n+"%",t.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return this.#l(),e}static#o(e){e.stopPropagation()}#c(e){this.#s._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()}#u(e){this.#s._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()}#d(e){const t=this.#s._uiManager._signal;e.addEventListener("focusin",this.#c.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#u.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Lu,{signal:t})}hide(){this.#i.classList.add("hidden"),this.#r?.hideDropdown()}show(){this.#i.classList.remove("hidden")}#l(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${this.#s.editorType}-button`),this.#d(e),e.addEventListener("click",(e=>{this.#s._uiManager.delete()}),{signal:this.#s._uiManager._signal}),this.#a.append(e)}get#h(){const e=document.createElement("div");return e.className="divider",e}addAltTextButton(e){this.#d(e),this.#a.prepend(e,this.#h)}addColorPicker(e){this.#r=e;const t=e.renderButton();this.#d(t),this.#a.prepend(t,this.#h)}remove(){this.#i.remove(),this.#r?.destroy(),this.#r=null}}class Vu{#a=null;#i=null;#p;constructor(e){this.#p=e}#f(){const e=this.#i=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Lu,{signal:this.#p._signal});const t=this.#a=document.createElement("div");return t.className="buttons",e.append(t),this.#g(),e}#m(e,t){let n=0,i=0;for(const r of e){const e=r.y+r.height;if(e<n)continue;const s=r.x+(t?r.width:0);e>n?(i=s,n=e):t?s>i&&(i=s):s<i&&(i=s)}return[t?1-i:i,n]}show(e,t,n){const[i,r]=this.#m(t,n),{style:s}=this.#i||=this.#f();e.append(this.#i),s.insetInlineEnd=100*i+"%",s.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){this.#i.remove()}#g(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=this.#p._signal;e.addEventListener("contextmenu",Lu,{signal:n}),e.addEventListener("click",(()=>{this.#p.highlightSelection("floating_button")}),{signal:n}),this.#a.append(e)}}function Hu(e,t,n){for(const i of n)t.addEventListener(i,e[i].bind(e))}class $u{#v=0;get id(){return"pdfjs_internal_editor_"+this.#v++}}class Wu{#b=function(){if("undefined"!==typeof crypto&&"function"===typeof crypto?.randomUUID)return crypto.randomUUID();const e=new Uint8Array(32);if("undefined"!==typeof crypto&&"function"===typeof crypto?.getRandomValues)crypto.getRandomValues(e);else for(let t=0;t<32;t++)e[t]=Math.floor(255*Math.random());return Kc(e)}();#v=0;#y=null;static get _isSVGFittingCanvas(){const e=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),t=new Image;t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';return zc(this,"_isSVGFittingCanvas",t.decode().then((()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0]))))}async#w(e,t){this.#y||=new Map;let n=this.#y.get(e);if(null===n)return null;if(n?.bitmap)return n.refCounter+=1,n;try{let e;if(n||={bitmap:null,id:`image_${this.#b}_${this.#v++}`,refCounter:0,isSvg:!1},"string"===typeof t?(n.url=t,e=await wu(t,"blob")):e=n.file=t,"image/svg+xml"===e.type){const t=Wu._isSVGFittingCanvas,i=new FileReader,r=new Image,s=new Promise(((e,s)=>{r.onload=()=>{n.bitmap=r,n.isSvg=!0,e()},i.onload=async()=>{const e=n.svgUrl=i.result;r.src=await t?`${e}#svgView(preserveAspectRatio(none))`:e},r.onerror=i.onerror=s}));i.readAsDataURL(e),await s}else n.bitmap=await createImageBitmap(e);n.refCounter=1}catch(i){console.error(i),n=null}return this.#y.set(e,n),n&&this.#y.set(n.id,n),n}async getFromFile(e){const{lastModified:t,name:n,size:i,type:r}=e;return this.#w(`${t}_${n}_${i}_${r}`,e)}async getFromUrl(e){return this.#w(e,e)}async getFromId(e){this.#y||=new Map;const t=this.#y.get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=this.#y.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#y||=new Map;const t=this.#y.get(e);t&&(t.refCounter-=1,0===t.refCounter&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${this.#b}_`)}}class Gu{#_=[];#S=!1;#x;#A=-1;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;this.#x=e}add(e){let{cmd:t,undo:n,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}=e;if(r&&t(),this.#S)return;const l={cmd:t,undo:n,post:i,type:s};if(-1===this.#A)return this.#_.length>0&&(this.#_.length=0),this.#A=0,void this.#_.push(l);if(a&&this.#_[this.#A].type===s)return o&&(l.undo=this.#_[this.#A].undo),void(this.#_[this.#A]=l);const c=this.#A+1;c===this.#x?this.#_.splice(0,1):(this.#A=c,c<this.#_.length&&this.#_.splice(c)),this.#_.push(l)}undo(){if(-1===this.#A)return;this.#S=!0;const{undo:e,post:t}=this.#_[this.#A];e(),t?.(),this.#S=!1,this.#A-=1}redo(){if(this.#A<this.#_.length-1){this.#A+=1,this.#S=!0;const{cmd:e,post:t}=this.#_[this.#A];e(),t?.(),this.#S=!1}}hasSomethingToUndo(){return-1!==this.#A}hasSomethingToRedo(){return this.#A<this.#_.length-1}destroy(){this.#_=null}}class qu{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Qc.platform;for(const[n,i,r={}]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),{callback:i,options:r}),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,{callback:i,options:r}),this.allKeys.add(e.split("+").at(-1)))}}#E(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(this.#E(t));if(!n)return;const{callback:i,options:{bubbles:r=!1,args:s=[],checker:a=null}}=n;a&&!a(e,t)||(i.bind(e,...s,t)(),r||(t.stopPropagation(),t.preventDefault()))}}class Ku{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return function(e){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const n of e.keys()){t.style.color=n;const i=window.getComputedStyle(t).color;e.set(n,Ou(i))}t.remove()}(e),zc(this,"_colors",e)}convert(e){const t=Ou(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every(((e,n)=>e===t[n])))return Ku._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Zc.makeHexColor(...t):e}}class Xu{#k=new AbortController;#C=null;#T=new Map;#R=new Map;#M=null;#P=null;#L=null;#I=new Gu;#D=0;#N=new Set;#F=null;#O=null;#j=new Set;#z=!1;#B=null;#U=null;#V=null;#H=!1;#$=null;#W=new $u;#G=!1;#q=!1;#K=null;#X=null;#Y=null;#Q=Kl.NONE;#J=new Set;#Z=null;#ee=null;#te=null;#ne=this.blur.bind(this);#ie=this.focus.bind(this);#re=this.copy.bind(this);#se=this.cut.bind(this);#ae=this.paste.bind(this);#oe=this.keydown.bind(this);#le=this.keyup.bind(this);#ce=this.onEditingAction.bind(this);#ue=this.onPageChanging.bind(this);#de=this.onScaleChanging.bind(this);#he=this.onRotationChanging.bind(this);#pe={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#fe=[0,0];#ge=null;#me=null;#ve=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=Xu.prototype,t=e=>e.#me.contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&e.hasSomethingToControl(),n=(e,t)=>{let{target:n}=t;if(n instanceof HTMLInputElement){const{type:e}=n;return"text"!==e&&"number"!==e}return!0},i=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return zc(this,"_keyboardManager",new qu([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&e.#me.contains(n)&&!e.isEnterHandled}}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&e.#me.contains(document.activeElement)}}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}]]))}constructor(e,t,n,i,r,s,a,o,l){this._signal=this.#k.signal,this.#me=e,this.#ve=t,this.#M=n,this._eventBus=i,this._eventBus._on("editingaction",this.#ce),this._eventBus._on("pagechanging",this.#ue),this._eventBus._on("scalechanging",this.#de),this._eventBus._on("rotationchanging",this.#he),this.#be(),this.#ye(),this.#we(),this.#P=r.annotationStorage,this.#B=r.filterFactory,this.#ee=s,this.#V=a||null,this.#z=o,this.#Y=l||null,this.viewParameters={realScale:yu.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#k?.abort(),this.#k=null,this._signal=null,this._eventBus._off("editingaction",this.#ce),this._eventBus._off("pagechanging",this.#ue),this._eventBus._off("scalechanging",this.#de),this._eventBus._off("rotationchanging",this.#he);for(const e of this.#R.values())e.destroy();this.#R.clear(),this.#T.clear(),this.#j.clear(),this.#C=null,this.#J.clear(),this.#I.destroy(),this.#M?.destroy(),this.#$?.hide(),this.#$=null,this.#U&&(clearTimeout(this.#U),this.#U=null),this.#ge&&(clearTimeout(this.#ge),this.#ge=null)}async mlGuess(e){return this.#Y?.guess(e)||null}get hasMLManager(){return!!this.#Y}get hcmFilter(){return zc(this,"hcmFilter",this.#ee?this.#B.addHCMFilter(this.#ee.foreground,this.#ee.background):"none")}get direction(){return zc(this,"direction",getComputedStyle(this.#me).direction)}get highlightColors(){return zc(this,"highlightColors",this.#V?new Map(this.#V.split(",").map((e=>e.split("=").map((e=>e.trim()))))):null)}get highlightColorNames(){return zc(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,(e=>e.reverse()))):null)}setMainHighlightColorPicker(e){this.#X=e}editAltText(e){this.#M?.editAltText(this,e)}onPageChanging(e){let{pageNumber:t}=e;this.#D=t-1}focusMainContainer(){this.#me.focus()}findParent(e,t){for(const n of this.#R.values()){const{x:i,y:r,width:s,height:a}=n.div.getBoundingClientRect();if(e>=i&&e<=i+s&&t>=r&&t<=r+a)return n}return null}disableUserSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#ve.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#j.add(e)}removeShouldRescale(e){this.#j.delete(e)}onScaleChanging(e){let{scale:t}=e;this.commitOrRemove(),this.viewParameters.realScale=t*yu.PDF_TO_CSS_UNITS;for(const n of this.#j)n.onScaleChanging()}onRotationChanging(e){let{pagesRotation:t}=e;this.commitOrRemove(),this.viewParameters.rotation=t}#_e(e){let{anchorNode:t}=e;return t.nodeType===Node.TEXT_NODE?t.parentElement:t}highlightSelection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s}=t,a=t.toString(),o=this.#_e(t).closest(".textLayer"),l=this.getSelectionBoxes(o);if(l){t.empty(),this.#Q===Kl.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:Kl.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const t of this.#R.values())if(t.hasTextLayer(o)){t.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:l,anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s,text:a});break}}}#Se(){const e=document.getSelection();if(!e||e.isCollapsed)return;const t=this.#_e(e).closest(".textLayer"),n=this.getSelectionBoxes(t);n&&(this.#$||=new Vu(this),this.#$.show(t,n,"ltr"===this.direction))}addToAnnotationStorage(e){e.isEmpty()||!this.#P||this.#P.has(e.id)||this.#P.setValue(e.id,e)}#xe(){const e=document.getSelection();if(!e||e.isCollapsed)return void(this.#Z&&(this.#$?.hide(),this.#Z=null,this.#Ae({hasSelectedText:!1})));const{anchorNode:t}=e;if(t===this.#Z)return;if(this.#_e(e).closest(".textLayer")){if(this.#$?.hide(),this.#Z=t,this.#Ae({hasSelectedText:!0}),(this.#Q===Kl.HIGHLIGHT||this.#Q===Kl.NONE)&&(this.#Q===Kl.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#H=this.isShiftKeyDown,!this.isShiftKeyDown)){const e=this._signal,t=e=>{"pointerup"===e.type&&0!==e.button||(window.removeEventListener("pointerup",t),window.removeEventListener("blur",t),"pointerup"===e.type&&this.#Ee("main_toolbar"))};window.addEventListener("pointerup",t,{signal:e}),window.addEventListener("blur",t,{signal:e})}}else this.#Z&&(this.#$?.hide(),this.#Z=null,this.#Ae({hasSelectedText:!1}))}#Ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.#Q===Kl.HIGHLIGHT?this.highlightSelection(e):this.#z&&this.#Se()}#be(){document.addEventListener("selectionchange",this.#xe.bind(this),{signal:this._signal})}#ke(){const e=this._signal;window.addEventListener("focus",this.#ie,{signal:e}),window.addEventListener("blur",this.#ne,{signal:e})}#Ce(){window.removeEventListener("focus",this.#ie),window.removeEventListener("blur",this.#ne)}blur(){if(this.isShiftKeyDown=!1,this.#H&&(this.#H=!1,this.#Ee("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#J)if(t.div.contains(e)){this.#K=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#K)return;const[e,t]=this.#K;this.#K=null,t.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0,signal:this._signal}),t.focus()}#we(){const e=this._signal;window.addEventListener("keydown",this.#oe,{signal:e}),window.addEventListener("keyup",this.#le,{signal:e})}#Te(){window.removeEventListener("keydown",this.#oe),window.removeEventListener("keyup",this.#le)}#Re(){const e=this._signal;document.addEventListener("copy",this.#re,{signal:e}),document.addEventListener("cut",this.#se,{signal:e}),document.addEventListener("paste",this.#ae,{signal:e})}#Me(){document.removeEventListener("copy",this.#re),document.removeEventListener("cut",this.#se),document.removeEventListener("paste",this.#ae)}#ye(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#we(),this.#Re()}removeEditListeners(){this.#Te(),this.#Me()}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of this.#O)if(n.isHandlingMimeForPasting(t))return e.dataTransfer.dropEffect="copy",void e.preventDefault()}drop(e){for(const t of e.dataTransfer.items)for(const n of this.#O)if(n.isHandlingMimeForPasting(t.type))return n.paste(t,this.currentLayer),void e.preventDefault()}copy(e){if(e.preventDefault(),this.#C?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const n of this.#J){const e=n.serialize(!0);e&&t.push(e)}0!==t.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const e of this.#O)if(e.isHandlingMimeForPasting(s.type))return void e.paste(s,this.currentLayer);let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(r){return void Nc(`paste: "${r.message}".`)}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const e=[];for(const s of n){const t=i.deserialize(s);if(!t)return;e.push(t)}const t=()=>{for(const t of e)this.#Pe(t);this.#Le(e)},r=()=>{for(const t of e)t.remove()};this.addCommands({cmd:t,undo:r,mustExec:!0})}catch(r){Nc(`paste: "${r.message}".`)}}keydown(e){this.isShiftKeyDown||"Shift"!==e.key||(this.isShiftKeyDown=!0),this.#Q===Kl.NONE||this.isEditorHandlingKeyboard||Xu._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!1,this.#H&&(this.#H=!1,this.#Ee("main_toolbar")))}onEditingAction(e){let{name:t}=e;switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu")}}#Ae(e){const t=Object.entries(e).some((e=>{let[t,n]=e;return this.#pe[t]!==n}));t&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#pe,e)}),this.#Q===Kl.HIGHLIGHT&&!1===e.hasSelectedEditor&&this.#Ie([[Xl.HIGHLIGHT_FREE,!0]]))}#Ie(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#ke(),this.#Re(),this.#Ae({isEditing:this.#Q!==Kl.NONE,isEmpty:this.#De(),hasSomethingToUndo:this.#I.hasSomethingToUndo(),hasSomethingToRedo:this.#I.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#Ce(),this.#Me(),this.#Ae({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#O){this.#O=e;for(const e of this.#O)this.#Ie(e.defaultPropertiesToUpdate)}}getId(){return this.#W.id}get currentLayer(){return this.#R.get(this.#D)}getLayer(e){return this.#R.get(e)}get currentPageIndex(){return this.#D}addLayer(e){this.#R.set(e.pageIndex,e),this.#G?e.enable():e.disable()}removeLayer(e){this.#R.delete(e.pageIndex)}updateMode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.#Q!==e){if(this.#Q=e,e===Kl.NONE)return this.setEditingState(!1),void this.#Ne();this.setEditingState(!0),this.#Fe(),this.unselectAll();for(const t of this.#R.values())t.updateMode(e);if(t||!n){if(t)for(const e of this.#T.values())if(e.annotationElementId===t){this.setSelected(e),e.enterInEditMode();break}}else this.addNewEditorFromKeyboard()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==this.#Q&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){if(this.#O){switch(e){case Xl.CREATE:return void this.currentLayer.addNewEditor();case Xl.HIGHLIGHT_DEFAULT_COLOR:this.#X?.updateColor(t);break;case Xl.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#te||=new Map).set(e,t),this.showAllEditors("highlight",t)}for(const n of this.#J)n.updateParams(e,t);for(const n of this.#O)n.updateDefaultParams(e,t)}}showAllEditors(e,t){for(const n of this.#T.values())n.editorType===e&&n.show(t);(this.#te?.get(Xl.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#Ie([[Xl.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.#q!==e){this.#q=e;for(const t of this.#R.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}#Fe(){if(!this.#G){this.#G=!0;for(const e of this.#R.values())e.enable();for(const e of this.#T.values())e.enable()}}#Ne(){if(this.unselectAll(),this.#G){this.#G=!1;for(const e of this.#R.values())e.disable();for(const e of this.#T.values())e.disable()}}getEditors(e){const t=[];for(const n of this.#T.values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return this.#T.get(e)}addEditor(e){this.#T.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#U&&clearTimeout(this.#U),this.#U=setTimeout((()=>{this.focusMainContainer(),this.#U=null}),0)),this.#T.delete(e.id),this.unselect(e),e.annotationElementId&&this.#N.has(e.annotationElementId)||this.#P?.remove(e.id)}addDeletedAnnotationElement(e){this.#N.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#N.has(e)}removeDeletedAnnotationElement(e){this.#N.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#Pe(e){const t=this.#R.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#C!==e&&(this.#C=e,e&&this.#Ie(e.propertiesToUpdate))}get#Oe(){let e=null;for(e of this.#J);return e}updateUI(e){this.#Oe===e&&this.#Ie(e.propertiesToUpdate)}toggleSelected(e){if(this.#J.has(e))return this.#J.delete(e),e.unselect(),void this.#Ae({hasSelectedEditor:this.hasSelection});this.#J.add(e),e.select(),this.#Ie(e.propertiesToUpdate),this.#Ae({hasSelectedEditor:!0})}setSelected(e){for(const t of this.#J)t!==e&&t.unselect();this.#J.clear(),this.#J.add(e),e.select(),this.#Ie(e.propertiesToUpdate),this.#Ae({hasSelectedEditor:!0})}isSelected(e){return this.#J.has(e)}get firstSelectedEditor(){return this.#J.values().next().value}unselect(e){e.unselect(),this.#J.delete(e),this.#Ae({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#J.size}get isEnterHandled(){return 1===this.#J.size&&this.firstSelectedEditor.isEnterHandled}undo(){this.#I.undo(),this.#Ae({hasSomethingToUndo:this.#I.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#De()})}redo(){this.#I.redo(),this.#Ae({hasSomethingToUndo:!0,hasSomethingToRedo:this.#I.hasSomethingToRedo(),isEmpty:this.#De()})}addCommands(e){this.#I.add(e),this.#Ae({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#De()})}#De(){if(0===this.#T.size)return!0;if(1===this.#T.size)for(const e of this.#T.values())return e.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...this.#J];this.addCommands({cmd:()=>{for(const t of e)t.remove()},undo:()=>{for(const t of e)this.#Pe(t)},mustExec:!0})}commitOrRemove(){this.#C?.commitOrRemove()}hasSomethingToControl(){return this.#C||this.hasSelection}#Le(e){for(const t of this.#J)t.unselect();this.#J.clear();for(const t of e)t.isEmpty()||(this.#J.add(t),t.select());this.#Ae({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#J)e.commit();this.#Le(this.#T.values())}unselectAll(){if((!this.#C||(this.#C.commitOrRemove(),this.#Q===Kl.NONE))&&this.hasSelection){for(const e of this.#J)e.unselect();this.#J.clear(),this.#Ae({hasSelectedEditor:!1})}}translateSelectedEditors(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;this.#fe[0]+=e,this.#fe[1]+=t;const[n,i]=this.#fe,r=[...this.#J];this.#ge&&clearTimeout(this.#ge),this.#ge=setTimeout((()=>{this.#ge=null,this.#fe[0]=this.#fe[1]=0,this.addCommands({cmd:()=>{for(const e of r)this.#T.has(e.id)&&e.translateInPage(n,i)},undo:()=>{for(const e of r)this.#T.has(e.id)&&e.translateInPage(-n,-i)},mustExec:!1})}),1e3);for(const s of r)s.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#F=new Map;for(const e of this.#J)this.#F.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#F)return!1;this.disableUserSelect(!1);const e=this.#F;this.#F=null;let t=!1;for(const[{x:i,y:r,pageIndex:s},a]of e)a.newX=i,a.newY=r,a.newPageIndex=s,t||=i!==a.savedX||r!==a.savedY||s!==a.savedPageIndex;if(!t)return!1;const n=(e,t,n,i)=>{if(this.#T.has(e.id)){const r=this.#R.get(i);r?e._setParentAndPosition(r,t,n):(e.pageIndex=i,e.x=t,e.y=n)}};return this.addCommands({cmd:()=>{for(const[t,{newX:i,newY:r,newPageIndex:s}]of e)n(t,i,r,s)},undo:()=>{for(const[t,{savedX:i,savedY:r,savedPageIndex:s}]of e)n(t,i,r,s)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#F)for(const n of this.#F.keys())n.drag(e,t)}rebuild(e){if(null===e.parent){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||1===this.#J.size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#C===e}getActive(){return this.#C}getMode(){return this.#Q}get imageManager(){return zc(this,"imageManager",new Wu)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let l=0,c=t.rangeCount;l<c;l++)if(!e.contains(t.getRangeAt(l).commonAncestorContainer))return null;const{x:n,y:i,width:r,height:s}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(e,t,a,o)=>({x:(t-i)/s,y:1-(e+a-n)/r,width:o/s,height:a/r});break;case"180":a=(e,t,a,o)=>({x:1-(e+a-n)/r,y:1-(t+o-i)/s,width:a/r,height:o/s});break;case"270":a=(e,t,a,o)=>({x:1-(t+o-i)/s,y:(e-n)/r,width:o/s,height:a/r});break;default:a=(e,t,a,o)=>({x:(e-n)/r,y:(t-i)/s,width:a/r,height:o/s})}const o=[];for(let l=0,c=t.rangeCount;l<c;l++){const e=t.getRangeAt(l);if(!e.collapsed)for(const{x:t,y:n,width:i,height:r}of e.getClientRects())0!==i&&0!==r&&o.push(a(t,n,i,r))}return 0===o.length?null:o}addChangedExistingAnnotation(e){let{annotationElementId:t,id:n}=e;(this.#L||=new Map).set(t,n)}removeChangedExistingAnnotation(e){let{annotationElementId:t}=e;this.#L?.delete(t)}renderAnnotationElement(e){const t=this.#L?.get(e.data.id);if(!t)return;const n=this.#P.getRawValue(t);n&&(this.#Q!==Kl.NONE||n.hasBeenModified)&&n.renderAnnotationElement(e)}}class Yu{#je="";#ze=!1;#Be=null;#Ue=null;#Ve=null;#He=!1;#s=null;static _l10nPromise=null;constructor(e){this.#s=e}static initialize(e){Yu._l10nPromise||=e}async render(){const e=this.#Be=document.createElement("button");e.className="altText";const t=await Yu._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0";const n=this.#s._uiManager._signal;e.addEventListener("contextmenu",Lu,{signal:n}),e.addEventListener("pointerdown",(e=>e.stopPropagation()),{signal:n});const i=e=>{e.preventDefault(),this.#s._uiManager.editAltText(this.#s)};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",(t=>{t.target===e&&"Enter"===t.key&&(this.#He=!0,i(t))}),{signal:n}),await this.#$e(),e}finish(){this.#Be&&(this.#Be.focus({focusVisible:this.#He}),this.#He=!1)}isEmpty(){return!this.#je&&!this.#ze}get data(){return{altText:this.#je,decorative:this.#ze}}set data(e){let{altText:t,decorative:n}=e;this.#je===t&&this.#ze===n||(this.#je=t,this.#ze=n,this.#$e())}toggle(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#Be&&(!e&&this.#Ve&&(clearTimeout(this.#Ve),this.#Ve=null),this.#Be.disabled=!e)}destroy(){this.#Be?.remove(),this.#Be=null,this.#Ue=null}async#$e(){const e=this.#Be;if(!e)return;if(!this.#je&&!this.#ze)return e.classList.remove("done"),void this.#Ue?.remove();e.classList.add("done"),Yu._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then((t=>{e.setAttribute("aria-label",t)}));let t=this.#Ue;if(!t){this.#Ue=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip");const n=t.id=`alt-text-tooltip-${this.#s.id}`;e.setAttribute("aria-describedby",n);const i=100,r=this.#s._uiManager._signal;r.addEventListener("abort",(()=>{clearTimeout(this.#Ve),this.#Ve=null}),{once:!0}),e.addEventListener("mouseenter",(()=>{this.#Ve=setTimeout((()=>{this.#Ve=null,this.#Ue.classList.add("show"),this.#s._reportTelemetry({action:"alt_text_tooltip"})}),i)}),{signal:r}),e.addEventListener("mouseleave",(()=>{this.#Ve&&(clearTimeout(this.#Ve),this.#Ve=null),this.#Ue?.classList.remove("show")}),{signal:r})}t.innerText=this.#ze?await Yu._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):this.#je,t.parentNode||e.append(t);const n=this.#s.getImageForAltText();n?.setAttribute("aria-describedby",t.id)}}class Qu{#We=null;#Ge=null;#je=null;#qe=!1;#Ke=!1;#Xe=null;#Ye=null;#Qe=this.focusin.bind(this);#Je=this.focusout.bind(this);#Ze=null;#et="";#tt=!1;#nt=null;#it=!1;#rt=!1;#st=!1;#at=null;#ot=0;#lt=0;#ct=null;_initialOptions=Object.create(null);_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#ut=!1;#dt=Qu._zIndex++;static _borderLineWidth=-1;static _colorManager=new Ku;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=Qu.prototype._resizeWithKeyboard,t=Xu.TRANSLATE_SMALL,n=Xu.TRANSLATE_BIG;return zc(this,"_resizerKeyboardManager",new qu([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Qu.prototype._stopResizingWithKeyboard]]))}constructor(e){this.constructor===Qu&&Fc("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:s}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[r,s];const[a,o]=this.parentDimensions;this.x=e.x/a,this.y=e.y/o,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return zc(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Ju({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,n){if(Qu._l10nPromise||=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map((t=>[t,e.get(t.replaceAll(/([A-Z])/g,(e=>`-${e.toLowerCase()}`)))]))),n?.strings)for(const r of n.strings)Qu._l10nPromise.set(r,e.get(r));if(-1!==Qu._borderLineWidth)return;const i=getComputedStyle(document.documentElement);Qu._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Fc("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#ut}set _isDraggable(e){this.#ut=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#dt}setParent(e){null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#ht(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#tt?this.#tt=!1:this.parent.setSelected(this))}focusout(e){if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const t=e.relatedTarget;t?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[r,s]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/r,this.y=(t+i)/s,this.fixAndSetPosition()}#pt(e,t,n){let[i,r]=e;[t,n]=this.screenToPageTranslation(t,n),this.x+=t/i,this.y+=n/r,this.fixAndSetPosition()}translate(e,t){this.#pt(this.parentDimensions,e,t)}translateInPage(e,t){this.#nt||=[this.x,this.y],this.#pt(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){this.#nt||=[this.x,this.y];const[n,i]=this.parentDimensions;if(this.x+=e/n,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:s}=this;const[a,o]=this.getBaseTranslation();r+=a,s+=o,this.div.style.left=`${(100*r).toFixed(2)}%`,this.div.style.top=`${(100*s).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#nt&&(this.#nt[0]!==this.x||this.#nt[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Qu,i=n/e,r=n/t;switch(this.rotation){case 90:return[-i,r];case 180:return[i,r];case 270:return[i,-r];default:return[-i,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation;const[t,n]=this.pageDimensions;let{x:i,y:r,width:s,height:a}=this;if(s*=t,a*=n,i*=t,r*=n,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-s,i)),r=Math.max(0,Math.min(n-a,r));break;case 90:i=Math.max(0,Math.min(t-a,i)),r=Math.min(n,Math.max(s,r));break;case 180:i=Math.min(t,Math.max(s,i)),r=Math.min(n,Math.max(a,r));break;case 270:i=Math.min(t,Math.max(a,i)),r=Math.max(0,Math.min(n-s,r))}this.x=i/=t,this.y=r/=n;const[o,l]=this.getBaseTranslation();i+=o,r+=l;const{style:c}=this.div;c.left=`${(100*i).toFixed(2)}%`,c.top=`${(100*r).toFixed(2)}%`,this.moveInDOM()}static#ft(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return Qu.#ft(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return Qu.#ft(e,t,360-this.parentRotation)}#gt(e){switch(e){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this,i=t*e,r=n*e;return Qc.isCSSRoundSupported?[Math.round(i),Math.round(r)]:[i,r]}setDims(e,t){const[n,i]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,this.#Ke||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,i=n.endsWith("%"),r=!this.#Ke&&t.endsWith("%");if(i&&r)return;const[s,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(n)/s).toFixed(2)}%`),this.#Ke||r||(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#mt(){if(this.#Xe)return;this.#Xe=document.createElement("div"),this.#Xe.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const e=document.createElement("div");this.#Xe.append(e),e.classList.add("resizer",n),e.setAttribute("data-resizer-name",n),e.addEventListener("pointerdown",this.#vt.bind(this,n),{signal:t}),e.addEventListener("contextmenu",Lu,{signal:t}),e.tabIndex=-1}this.div.prepend(this.#Xe)}#vt(e,t){t.preventDefault();const{isMac:n}=Qc.platform;if(0!==t.button||t.ctrlKey&&n)return;this.#je?.toggle(!1);const i=this.#bt.bind(this,e),r=this._isDraggable;this._isDraggable=!1;const s=this._uiManager._signal,a={passive:!0,capture:!0,signal:s};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,a),window.addEventListener("contextmenu",Lu,{signal:s});const o=this.x,l=this.y,c=this.width,u=this.height,d=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{this.parent.togglePointerEvents(!0),this.#je?.toggle(!0),this._isDraggable=r,window.removeEventListener("pointerup",p),window.removeEventListener("blur",p),window.removeEventListener("pointermove",i,a),window.removeEventListener("contextmenu",Lu),this.parent.div.style.cursor=d,this.div.style.cursor=h,this.#yt(o,l,c,u)};window.addEventListener("pointerup",p,{signal:s}),window.addEventListener("blur",p,{signal:s})}#yt(e,t,n,i){const r=this.x,s=this.y,a=this.width,o=this.height;r===e&&s===t&&a===n&&o===i||this.addCommands({cmd:()=>{this.width=a,this.height=o,this.x=r,this.y=s;const[e,t]=this.parentDimensions;this.setDims(e*a,t*o),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=i,this.x=e,this.y=t;const[r,s]=this.parentDimensions;this.setDims(r*n,s*i),this.fixAndSetPosition()},mustExec:!0})}#bt(e,t){const[n,i]=this.parentDimensions,r=this.x,s=this.y,a=this.width,o=this.height,l=Qu.MIN_SIZE/n,c=Qu.MIN_SIZE/i,u=e=>Math.round(1e4*e)/1e4,d=this.#gt(this.rotation),h=(e,t)=>[d[0]*e+d[2]*t,d[1]*e+d[3]*t],p=this.#gt(360-this.rotation);let f,g,m=!1,v=!1;switch(e){case"topLeft":m=!0,f=(e,t)=>[0,0],g=(e,t)=>[e,t];break;case"topMiddle":f=(e,t)=>[e/2,0],g=(e,t)=>[e/2,t];break;case"topRight":m=!0,f=(e,t)=>[e,0],g=(e,t)=>[0,t];break;case"middleRight":v=!0,f=(e,t)=>[e,t/2],g=(e,t)=>[0,t/2];break;case"bottomRight":m=!0,f=(e,t)=>[e,t],g=(e,t)=>[0,0];break;case"bottomMiddle":f=(e,t)=>[e/2,t],g=(e,t)=>[e/2,0];break;case"bottomLeft":m=!0,f=(e,t)=>[0,t],g=(e,t)=>[e,0];break;case"middleLeft":v=!0,f=(e,t)=>[0,t/2],g=(e,t)=>[e,t/2]}const b=f(a,o),y=g(a,o);let w=h(...y);const _=u(r+w[0]),S=u(s+w[1]);let x=1,A=1,[E,k]=this.screenToPageTranslation(t.movementX,t.movementY);var C,T;if([E,k]=(C=E/n,T=k/i,[p[0]*C+p[2]*T,p[1]*C+p[3]*T]),m){const e=Math.hypot(a,o);x=A=Math.max(Math.min(Math.hypot(y[0]-b[0]-E,y[1]-b[1]-k)/e,1/a,1/o),l/a,c/o)}else v?x=Math.max(l,Math.min(1,Math.abs(y[0]-b[0]-E)))/a:A=Math.max(c,Math.min(1,Math.abs(y[1]-b[1]-k)))/o;const R=u(a*x),M=u(o*A);w=h(...g(R,M));const P=_-w[0],L=S-w[1];this.width=R,this.height=M,this.x=P,this.y=L,this.setDims(n*R,i*M),this.fixAndSetPosition()}altTextFinish(){this.#je?.finish()}async addEditToolbar(){return this.#Ze||this.#rt||(this.#Ze=new Uu(this),this.div.append(this.#Ze.render()),this.#je&&this.#Ze.addAltTextButton(await this.#je.render())),this.#Ze}removeEditToolbar(){this.#Ze&&(this.#Ze.remove(),this.#Ze=null,this.#je?.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#je||(Yu.initialize(Qu._l10nPromise),this.#je=new Yu(this),this.#We&&(this.#je.data=this.#We,this.#We=null),await this.addEditToolbar())}get altTextData(){return this.#je?.data}set altTextData(e){this.#je&&(this.#je.data=e)}hasAltText(){return!this.#je?.isEmpty()}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#qe?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",this.#Qe,{signal:e}),this.div.addEventListener("focusout",this.#Je,{signal:e});const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[i,r]=this.getInitialTranslation();return this.translate(i,r),Hu(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=Qc.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(this.#tt=!0,this._isDraggable?this.#wt(e):this.#_t(e))}#_t(e){const{isMac:t}=Qc.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#wt(e){const t=this._uiManager.isSelected(this);let n,i;this._uiManager.setUpDragSession();const r=this._uiManager._signal;t&&(this.div.classList.add("moving"),n={passive:!0,capture:!0,signal:r},this.#ot=e.clientX,this.#lt=e.clientY,i=e=>{const{clientX:t,clientY:n}=e,[i,r]=this.screenToPageTranslation(t-this.#ot,n-this.#lt);this.#ot=t,this.#lt=n,this._uiManager.dragSelectedEditors(i,r)},window.addEventListener("pointermove",i,n));const s=()=>{window.removeEventListener("pointerup",s),window.removeEventListener("blur",s),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,n)),this.#tt=!1,this._uiManager.endDragSession()||this.#_t(e)};window.addEventListener("pointerup",s,{signal:r}),window.addEventListener("blur",s,{signal:r})}moveInDOM(){this.#at&&clearTimeout(this.#at),this.#at=setTimeout((()=>{this.#at=null,this.parent?.moveEditorInDOM(this)}),0)}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation;const i=this.parentScale,[r,s]=this.pageDimensions,[a,o]=this.pageTranslation,l=e/i,c=t/i,u=this.x*r,d=this.y*s,h=this.width*r,p=this.height*s;switch(n){case 0:return[u+l+a,s-d-c-p+o,u+l+h+a,s-d-c+o];case 90:return[u+c+a,s-d+l+o,u+c+p+a,s-d+l+h+o];case 180:return[u-l-h+a,s-d+c+o,u-l+a,s-d+c+p+o];case 270:return[u-c-p+a,s-d-l-h+o,u-c+a,s-d-l+o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,r,s]=e,a=r-n,o=s-i;switch(this.rotation){case 0:return[n,t-s,a,o];case 90:return[n,t-i,o,a];case 180:return[r,t-i,a,o];case 270:return[r,t-s,o,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#rt=!0}disableEditMode(){this.#rt=!1}isInEditMode(){return this.#rt}shouldGetKeyboardEvents(){return this.#st}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){const e=this._uiManager._signal;this.div?.addEventListener("focusin",this.#Qe,{signal:e}),this.div?.addEventListener("focusout",this.#Je,{signal:e})}rotate(e){}serialize(){Fc("An editor must be serializable")}static deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});i.rotation=e.rotation,i.#We=e.accessibilityData;const[r,s]=i.pageDimensions,[a,o,l,c]=i.getRectInCurrentCoords(e.rect,s);return i.x=a/r,i.y=o/s,i.width=l/r,i.height=c/s,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){if(this.div.removeEventListener("focusin",this.#Qe),this.div.removeEventListener("focusout",this.#Je),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#at&&(clearTimeout(this.#at),this.#at=null),this.#ht(),this.removeEditToolbar(),this.#ct){for(const e of this.#ct.values())clearTimeout(e);this.#ct=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#mt(),this.#Xe.classList.remove("hidden"),Hu(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||"Enter"!==e.key)return;this._uiManager.setSelected(this),this.#Ye={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#Xe.children;if(!this.#Ge){this.#Ge=Array.from(t);const e=this.#St.bind(this),n=this.#xt.bind(this),i=this._uiManager._signal;for(const t of this.#Ge){const r=t.getAttribute("data-resizer-name");t.setAttribute("role","spinbutton"),t.addEventListener("keydown",e,{signal:i}),t.addEventListener("blur",n,{signal:i}),t.addEventListener("focus",this.#At.bind(this,r),{signal:i}),Qu._l10nPromise.get(`pdfjs-editor-resizer-label-${r}`).then((e=>t.setAttribute("aria-label",e)))}}const n=this.#Ge[0];let i=0;for(const s of t){if(s===n)break;i++}const r=(360-this.rotation+this.parentRotation)%360/90*(this.#Ge.length/4);if(r!==i){if(r<i)for(let t=0;t<i-r;t++)this.#Xe.append(this.#Xe.firstChild);else if(r>i)for(let t=0;t<r-i;t++)this.#Xe.firstChild.before(this.#Xe.lastChild);let e=0;for(const n of t){const t=this.#Ge[e++].getAttribute("data-resizer-name");Qu._l10nPromise.get(`pdfjs-editor-resizer-label-${t}`).then((e=>n.setAttribute("aria-label",e)))}}this.#Et(0),this.#st=!0,this.#Xe.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#St(e){Qu._resizerKeyboardManager.exec(this,e)}#xt(e){this.#st&&e.relatedTarget?.parentNode!==this.#Xe&&this.#ht()}#At(e){this.#et=this.#st?e:""}#Et(e){if(this.#Ge)for(const t of this.#Ge)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#st&&this.#bt(this.#et,{movementX:e,movementY:t})}#ht(){if(this.#st=!1,this.#Et(-1),this.#Ye){const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=this.#Ye;this.#yt(e,t,n,i),this.#Ye=null}}_stopResizingWithKeyboard(){this.#ht(),this.div.focus()}select(){this.makeResizable(),this.div?.classList.add("selectedEditor"),this.#Ze?this.#Ze?.show():this.addEditToolbar().then((()=>{this.div?.classList.contains("selectedEditor")&&this.#Ze?.show()}))}unselect(){this.#Xe?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this.#Ze?.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#it}set isEditing(e){this.#it=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#Ke=!0;const n=e/t,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){this.#ct||=new Map;const{action:t}=e;let n=this.#ct.get(t);return n&&clearTimeout(n),n=setTimeout((()=>{this._reportTelemetry(e),this.#ct.delete(t),0===this.#ct.size&&(this.#ct=null)}),Qu._telemetryTimeout),void this.#ct.set(t,n)}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#qe=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#qe=!0}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(t){if("CANVAS"===t.nodeName){const e=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.before(t)}}else t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);return t}resetAnnotationElement(e){const{firstChild:t}=e.container;"DIV"===t.nodeName&&t.classList.contains("annotationContent")&&t.remove()}}class Ju extends Qu{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const Zu=3285377520,ed=4294901760,td=65535;class nd{constructor(e){this.h1=e?4294967295&e:Zu,this.h2=e?4294967295&e:Zu}update(e){let t,n;if("string"===typeof e){t=new Uint8Array(2*e.length),n=0;for(let i=0,r=e.length;i<r;i++){const r=e.charCodeAt(i);r<=255?t[n++]=r:(t[n++]=r>>>8,t[n++]=255&r)}}else{if(!ArrayBuffer.isView(e))throw new Error("Invalid data format, must be a string or TypedArray.");t=e.slice(),n=t.byteLength}const i=n>>2,r=n-4*i,s=new Uint32Array(t.buffer,0,i);let a=0,o=0,l=this.h1,c=this.h2;const u=3432918353,d=461845907,h=11601,p=13715;for(let f=0;f<i;f++)1&f?(a=s[f],a=a*u&ed|a*h&td,a=a<<15|a>>>17,a=a*d&ed|a*p&td,l^=a,l=l<<13|l>>>19,l=5*l+3864292196):(o=s[f],o=o*u&ed|o*h&td,o=o<<15|o>>>17,o=o*d&ed|o*p&td,c^=o,c=c<<13|c>>>19,c=5*c+3864292196);switch(a=0,r){case 3:a^=t[4*i+2]<<16;case 2:a^=t[4*i+1]<<8;case 1:a^=t[4*i],a=a*u&ed|a*h&td,a=a<<15|a>>>17,a=a*d&ed|a*p&td,1&i?l^=a:c^=a}this.h1=l,this.h2=c}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&ed|36045*e&td,t=4283543511*t&ed|(2950163797*(t<<16|e>>>16)&ed)>>>16,e^=t>>>1,e=444984403*e&ed|60499*e&td,t=3301882366*t&ed|(3120437893*(t<<16|e>>>16)&ed)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const id=Object.freeze({map:null,hash:"",transfer:void 0});class rd{#kt=!1;#Ct=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this.#Ct.get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return this.#Ct.get(e)}remove(e){if(this.#Ct.delete(e),0===this.#Ct.size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const e of this.#Ct.values())if(e instanceof Qu)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this.#Ct.get(e);let i=!1;if(void 0!==n)for(const[r,s]of Object.entries(t))n[r]!==s&&(i=!0,n[r]=s);else i=!0,this.#Ct.set(e,t);i&&this.#Tt(),t instanceof Qu&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#Ct.has(e)}getAll(){return this.#Ct.size>0?Yc(this.#Ct):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return this.#Ct.size}#Tt(){this.#kt||(this.#kt=!0,"function"===typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#kt&&(this.#kt=!1,"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new sd(this)}get serializable(){if(0===this.#Ct.size)return id;const e=new Map,t=new nd,n=[],i=Object.create(null);let r=!1;for(const[s,a]of this.#Ct){const n=a instanceof Qu?a.serialize(!1,i):a;n&&(e.set(s,n),t.update(`${s}:${JSON.stringify(n)}`),r||=!!n.bitmap)}if(r)for(const s of e.values())s.bitmap&&n.push(s.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:id}get editorStats(){let e=null;const t=new Map;for(const n of this.#Ct.values()){if(!(n instanceof Qu))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:r}=i;t.has(r)||t.set(r,Object.getPrototypeOf(n).constructor),e||=Object.create(null);const s=e[r]||=new Map;for(const[e,t]of Object.entries(i)){if("type"===e)continue;let n=s.get(e);n||(n=new Map,s.set(e,n));const i=n.get(t)??0;n.set(t,i+1)}}for(const[n,i]of t)e[n]=i.computeTelemetryFinalData(e[n]);return e}}class sd extends rd{#Rt;constructor(e){super();const{map:t,hash:n,transfer:i}=e.serializable,r=structuredClone(t,i?{transfer:i}:null);this.#Rt={map:r,hash:n,transfer:i}}get print(){Fc("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#Rt}}class ad{#Mt=new Set;constructor(e){let{ownerDocument:t=globalThis.document,styleElement:n=null}=e;this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#Mt.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(e){let{systemFontInfo:t,_inspectFont:n}=e;if(t&&!this.#Mt.has(t.loadedName))if(Oc(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:e,src:i,style:r}=t,s=new FontFace(e,i,r);this.addNativeFontFace(s);try{await s.load(),this.#Mt.add(e),n?.(t)}catch{Nc(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(s)}}else Fc("Not implemented: loadSystemFont without the Font Loading API.")}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void await this.loadSystemFont(e);if(this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw Nc(`Failed to load font '${t.family}': '${n}'.`),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise((t=>{const n=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,n)}))}}get isFontLoadingAPISupported(){return zc(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){let e=!1;return(Fl||"undefined"!==typeof navigator&&"string"===typeof navigator?.userAgent&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),zc(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){const{loadingRequests:t}=this,n={done:!1,complete:function(){for(Oc(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(n),n}get _loadTestFont(){return zc(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function i(e,t,n,i){return e.substring(0,t)+i+e.substring(t+n)}let r,s;const a=this._document.createElement("canvas");a.width=1,a.height=1;const o=a.getContext("2d");let l=0;const c=`lt${Date.now()}${this.loadTestFontId++}`;let u=this._loadTestFont;u=i(u,976,c.length,c);const d=1482184792;let h=n(u,16);for(r=0,s=c.length-3;r<s;r+=4)h=h-d+n(c,r)|0;var p;r<c.length&&(h=h-d+n(c+"XXX",r)|0),u=i(u,16,4,(p=h,String.fromCharCode(p>>24&255,p>>16&255,p>>8&255,255&p)));const f=`@font-face {font-family:"${c}";src:${`url(data:font/opentype;base64,${btoa(u)});`}}`;this.insertRule(f);const g=this._document.createElement("div");g.style.visibility="hidden",g.style.width=g.style.height="10px",g.style.position="absolute",g.style.top=g.style.left="0px";for(const m of[e.loadedName,c]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=m,g.append(e)}this._document.body.append(g),function e(t,n){if(++l>30)return Nc("Load test font never loaded."),void n();o.font="30px "+t,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(c,(()=>{g.remove(),t.complete()}))}}class od{constructor(e,t){let{disableFontFace:n=!1,inspectFont:i=null}=t;this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=!0===n,this._inspectFont=i}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=Kc(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let n;if(this.cssFontInfo){let e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${e}src:${t}}`}else n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return this._inspectFont?.(this,t),n}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(r){Nc(`getPathGenerator - ignoring character: "${r}".`)}if(!Array.isArray(n)||0===n.length)return this.compiledGlyphs[t]=function(e,t){};const i=[];for(let s=0,a=n.length;s<a;)switch(n[s++]){case ru:{const[e,t,r,a,o,l]=n.slice(s,s+6);i.push((n=>n.bezierCurveTo(e,t,r,a,o,l))),s+=6}break;case su:{const[e,t]=n.slice(s,s+2);i.push((n=>n.moveTo(e,t))),s+=2}break;case au:{const[e,t]=n.slice(s,s+2);i.push((n=>n.lineTo(e,t))),s+=2}break;case ou:{const[e,t,r,a]=n.slice(s,s+4);i.push((n=>n.quadraticCurveTo(e,t,r,a))),s+=4}break;case lu:i.push((e=>e.restore()));break;case cu:i.push((e=>e.save()));break;case uu:Oc(2===i.length,"Scale command is only valid at the third position.");break;case du:{const[e,t,r,a,o,l]=n.slice(s,s+6);i.push((n=>n.transform(e,t,r,a,o,l))),s+=6}break;case hu:{const[e,t]=n.slice(s,s+2);i.push((n=>n.translate(e,t))),s+=2}}return this.compiledGlyphs[t]=function(e,t){i[0](e),i[1](e),e.scale(t,-t);for(let n=2,r=i.length;n<r;n++)i[n](e)}}}if(Fl){var ld=Promise.withResolvers(),cd=null;(async()=>{const e=await import("fs"),t=await import("http"),n=await import("https"),i=await import("url");return new Map(Object.entries({fs:e,http:t,https:n,url:i,canvas:undefined,path2d:undefined}))})().then((e=>{cd=e,ld.resolve()}),(e=>{Nc(`loadPackages: ${e}`),cd=new Map,ld.resolve()}))}class ud{static get promise(){return ld.promise}static get(e){return cd?.get(e)}}const dd=function(e){return ud.get("fs").promises.readFile(e).then((e=>new Uint8Array(e)))};const hd="Fill",pd="Stroke",fd="Shading";function gd(e,t){if(!t)return;const n=t[2]-t[0],i=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],n,i),e.clip(r)}class md{constructor(){this.constructor===md&&Fc("Cannot initialize BaseShadingPattern.")}getPattern(){Fc("Abstract method `getPattern` called.")}}class vd extends md{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,i){let r;if(i===pd||i===hd){const s=t.current.getClippedPathBoundingBox(i,ju(e))||[0,0,0,0],a=Math.ceil(s[2]-s[0])||1,o=Math.ceil(s[3]-s[1])||1,l=t.cachedCanvases.getCanvas("pattern",a,o,!0),c=l.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-s[0],-s[1]),n=Zc.transform(n,[1,0,0,1,s[0],s[1]]),c.transform(...t.baseTransform),this.matrix&&c.transform(...this.matrix),gd(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),r=e.createPattern(l.canvas,"no-repeat");const u=new DOMMatrix(n);r.setTransform(u)}else gd(e,this._bbox),r=this._createGradient(e);return r}}function bd(e,t,n,i,r,s,a,o){const l=t.coords,c=t.colors,u=e.data,d=4*e.width;let h;l[n+1]>l[i+1]&&(h=n,n=i,i=h,h=s,s=a,a=h),l[i+1]>l[r+1]&&(h=i,i=r,r=h,h=a,a=o,o=h),l[n+1]>l[i+1]&&(h=n,n=i,i=h,h=s,s=a,a=h);const p=(l[n]+t.offsetX)*t.scaleX,f=(l[n+1]+t.offsetY)*t.scaleY,g=(l[i]+t.offsetX)*t.scaleX,m=(l[i+1]+t.offsetY)*t.scaleY,v=(l[r]+t.offsetX)*t.scaleX,b=(l[r+1]+t.offsetY)*t.scaleY;if(f>=b)return;const y=c[s],w=c[s+1],_=c[s+2],S=c[a],x=c[a+1],A=c[a+2],E=c[o],k=c[o+1],C=c[o+2],T=Math.round(f),R=Math.round(b);let M,P,L,I,D,N,F,O;for(let j=T;j<=R;j++){if(j<m){const e=j<f?0:(f-j)/(f-m);M=p-(p-g)*e,P=y-(y-S)*e,L=w-(w-x)*e,I=_-(_-A)*e}else{let e;e=j>b?1:m===b?0:(m-j)/(m-b),M=g-(g-v)*e,P=S-(S-E)*e,L=x-(x-k)*e,I=A-(A-C)*e}let e;e=j<f?0:j>b?1:(f-j)/(f-b),D=p-(p-v)*e,N=y-(y-E)*e,F=w-(w-k)*e,O=_-(_-C)*e;const t=Math.round(Math.min(M,D)),n=Math.round(Math.max(M,D));let i=d*j+4*t;for(let r=t;r<=n;r++)e=(M-r)/(M-D),e<0?e=0:e>1&&(e=1),u[i++]=P-(P-N)*e|0,u[i++]=L-(L-F)*e|0,u[i++]=I-(I-O)*e|0,u[i++]=255}}function yd(e,t,n){const i=t.coords,r=t.colors;let s,a;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(i.length/o)-1,c=o-1;for(s=0;s<l;s++){let t=s*o;for(let s=0;s<c;s++,t++)bd(e,n,i[t],i[t+1],i[t+o],r[t],r[t+1],r[t+o]),bd(e,n,i[t+o+1],i[t+1],i[t+o],r[t+o+1],r[t+1],r[t+o])}break;case"triangles":for(s=0,a=i.length;s<a;s+=3)bd(e,n,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class wd extends md{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const i=Math.floor(this._bounds[0]),r=Math.floor(this._bounds[1]),s=Math.ceil(this._bounds[2])-i,a=Math.ceil(this._bounds[3])-r,o=Math.min(Math.ceil(Math.abs(s*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(a*e[1]*1.1)),3e3),c=s/o,u=a/l,d={coords:this._coords,colors:this._colors,offsetX:-i,offsetY:-r,scaleX:1/c,scaleY:1/u},h=o+4,p=l+4,f=n.getCanvas("mesh",h,p,!1),g=f.context,m=g.createImageData(o,l);if(t){const e=m.data;for(let n=0,i=e.length;n<i;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const v of this._figures)yd(m,v,d);g.putImageData(m,2,2);return{canvas:f.canvas,offsetX:i-2*c,offsetY:r-2*u,scaleX:c,scaleY:u}}getPattern(e,t,n,i){let r;if(gd(e,this._bbox),i===fd)r=Zc.singularValueDecompose2dScale(ju(e));else if(r=Zc.singularValueDecompose2dScale(t.baseTransform),this.matrix){const e=Zc.singularValueDecompose2dScale(this.matrix);r=[r[0]*e[0],r[1]*e[1]]}const s=this._createMeshCanvas(r,i===fd?null:this._background,t.cachedCanvases);return i!==fd&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class _d extends md{getPattern(){return"hotpink"}}const Sd=1,xd=2;class Ad{static MAX_PATTERN_SIZE=3e3;constructor(e,t,n,i,r){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(e){const t=this.operatorList,n=this.bbox,i=this.xstep,r=this.ystep,s=this.paintType,a=this.tilingType,o=this.color,l=this.canvasGraphicsFactory;Dc("TilingType: "+a);const c=n[0],u=n[1],d=n[2],h=n[3],p=Zc.singularValueDecompose2dScale(this.matrix),f=Zc.singularValueDecompose2dScale(this.baseTransform),g=[p[0]*f[0],p[1]*f[1]],m=this.getSizeAndScale(i,this.ctx.canvas.width,g[0]),v=this.getSizeAndScale(r,this.ctx.canvas.height,g[1]),b=e.cachedCanvases.getCanvas("pattern",m.size,v.size,!0),y=b.context,w=l.createCanvasGraphics(y);w.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(w,s,o);let _=c,S=u,x=d,A=h;return c<0&&(_=0,x+=Math.abs(c)),u<0&&(S=0,A+=Math.abs(u)),y.translate(-m.scale*_,-v.scale*S),w.transform(m.scale,0,0,v.scale,0,0),y.save(),this.clipBbox(w,_,S,x,A),w.baseTransform=ju(w.ctx),w.executeOperatorList(t),w.endDrawing(),{canvas:b.canvas,scaleX:m.scale,scaleY:v.scale,offsetX:_,offsetY:S}}getSizeAndScale(e,t,n){e=Math.abs(e);const i=Math.max(Ad.MAX_PATTERN_SIZE,t);let r=Math.ceil(e*n);return r>=i?r=i:n=r/e,{scale:n,size:r}}clipBbox(e,t,n,i,r){const s=i-t,a=r-n;e.ctx.rect(t,n,s,a),e.current.updateRectMinMax(ju(e.ctx),[t,n,i,r]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,r=e.current;switch(t){case Sd:const e=this.ctx;i.fillStyle=e.fillStyle,i.strokeStyle=e.strokeStyle,r.fillColor=e.fillStyle,r.strokeColor=e.strokeStyle;break;case xd:const s=Zc.makeHexColor(n[0],n[1],n[2]);i.fillStyle=s,i.strokeStyle=s,r.fillColor=s,r.strokeColor=s;break;default:throw new Gc(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,i){let r=n;i!==fd&&(r=Zc.transform(r,t.baseTransform),this.matrix&&(r=Zc.transform(r,this.matrix)));const s=this.createPatternCanvas(t);let a=new DOMMatrix(r);a=a.translate(s.offsetX,s.offsetY),a=a.scale(1/s.scaleX,1/s.scaleY);const o=e.createPattern(s.canvas,"repeat");return o.setTransform(a),o}}function Ed(e){let{src:t,srcPos:n=0,dest:i,width:r,height:s,nonBlackColor:a=4294967295,inverseDecode:o=!1}=e;const l=Qc.isLittleEndian?4278190080:255,[c,u]=o?[a,l]:[l,a],d=r>>3,h=7&r,p=t.length;i=new Uint32Array(i.buffer);let f=0;for(let g=0;g<s;g++){for(const r=n+d;n<r;n++){const e=n<p?t[n]:255;i[f++]=128&e?u:c,i[f++]=64&e?u:c,i[f++]=32&e?u:c,i[f++]=16&e?u:c,i[f++]=8&e?u:c,i[f++]=4&e?u:c,i[f++]=2&e?u:c,i[f++]=1&e?u:c}if(0===h)continue;const e=n<p?t[n++]:255;for(let t=0;t<h;t++)i[f++]=e&1<<7-t?u:c}return{srcPos:n,destPos:f}}const kd=16;class Cd{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return void 0!==this.cache[e]?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Td(e,t,n,i,r,s,a,o,l,c){const[u,d,h,p,f,g]=ju(e);if(0===d&&0===h){const m=a*u+f,v=Math.round(m),b=o*p+g,y=Math.round(b),w=(a+l)*u+f,_=Math.abs(Math.round(w)-v)||1,S=(o+c)*p+g,x=Math.abs(Math.round(S)-y)||1;return e.setTransform(Math.sign(u),0,0,Math.sign(p),v,y),e.drawImage(t,n,i,r,s,0,0,_,x),e.setTransform(u,d,h,p,f,g),[_,x]}if(0===u&&0===p){const m=o*h+f,v=Math.round(m),b=a*d+g,y=Math.round(b),w=(o+c)*h+f,_=Math.abs(Math.round(w)-v)||1,S=(a+l)*d+g,x=Math.abs(Math.round(S)-y)||1;return e.setTransform(0,Math.sign(d),Math.sign(h),0,v,y),e.drawImage(t,n,i,r,s,0,0,x,_),e.setTransform(u,d,h,p,f,g),[x,_]}e.drawImage(t,n,i,r,s,a,o,l,c);return[Math.hypot(u,d)*l,Math.hypot(h,p)*c]}class Rd{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Ol,this.textMatrixScale=1,this.fontMatrix=jl,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Ql,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=Zc.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=Zc.applyTransform(t,e),i=Zc.applyTransform(t.slice(2),e),r=Zc.applyTransform([t[0],t[3]],e),s=Zc.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],i[0],r[0],s[0]),this.minY=Math.min(this.minY,n[1],i[1],r[1],s[1]),this.maxX=Math.max(this.maxX,n[0],i[0],r[0],s[0]),this.maxY=Math.max(this.maxY,n[1],i[1],r[1],s[1])}updateScalingPathMinMax(e,t){Zc.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,i,r,s,a,o,l,c){const u=Zc.bezierBoundingBox(t,n,i,r,s,a,o,l,c);c||this.updateRectMinMax(e,u)}getPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hd,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===pd){t||Fc("Stroke bounding box must include transform.");const e=Zc.singularValueDecompose2dScale(t),i=e[0]*this.lineWidth/2,r=e[1]*this.lineWidth/2;n[0]-=i,n[1]-=r,n[2]+=i,n[3]+=r}return n}updateClipFromPath(){const e=Zc.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hd,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Zc.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function Md(e,t){if("undefined"!==typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);const n=t.height,i=t.width,r=n%kd,s=(n-r)/kd,a=0===r?s:s+1,o=e.createImageData(i,kd);let l,c=0;const u=t.data,d=o.data;let h,p,f,g;if(t.kind===ic.GRAYSCALE_1BPP){const t=u.byteLength,n=new Uint32Array(d.buffer,0,d.byteLength>>2),g=n.length,m=i+7>>3,v=4294967295,b=Qc.isLittleEndian?4278190080:255;for(h=0;h<a;h++){for(f=h<s?kd:r,l=0,p=0;p<f;p++){const e=t-c;let r=0;const s=e>m?i:8*e-7,a=-8&s;let o=0,d=0;for(;r<a;r+=8)d=u[c++],n[l++]=128&d?v:b,n[l++]=64&d?v:b,n[l++]=32&d?v:b,n[l++]=16&d?v:b,n[l++]=8&d?v:b,n[l++]=4&d?v:b,n[l++]=2&d?v:b,n[l++]=1&d?v:b;for(;r<s;r++)0===o&&(d=u[c++],o=128),n[l++]=d&o?v:b,o>>=1}for(;l<g;)n[l++]=0;e.putImageData(o,0,h*kd)}}else if(t.kind===ic.RGBA_32BPP){for(p=0,g=i*kd*4,h=0;h<s;h++)d.set(u.subarray(c,c+g)),c+=g,e.putImageData(o,0,p),p+=kd;h<a&&(g=i*r*4,d.set(u.subarray(c,c+g)),e.putImageData(o,0,p))}else{if(t.kind!==ic.RGB_24BPP)throw new Error(`bad image kind: ${t.kind}`);for(f=kd,g=i*f,h=0;h<a;h++){for(h>=s&&(f=r,g=i*f),l=0,p=g;p--;)d[l++]=u[c++],d[l++]=u[c++],d[l++]=u[c++],d[l++]=255;e.putImageData(o,0,h*kd)}}}function Pd(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,i=t.width,r=n%kd,s=(n-r)/kd,a=0===r?s:s+1,o=e.createImageData(i,kd);let l=0;const c=t.data,u=o.data;for(let d=0;d<a;d++){const t=d<s?kd:r;({srcPos:l}=Ed({src:c,srcPos:l,dest:u,width:i,height:t,nonBlackColor:0})),e.putImageData(o,0,d*kd)}}function Ld(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)void 0!==e[i]&&(t[i]=e[i]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function Id(e){if(e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0),!Fl){const{filter:t}=e;"none"!==t&&""!==t&&(e.filter="none")}}function Dd(e,t){if(t)return!0;const n=Zc.singularValueDecompose2dScale(e);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*yu.PDF_TO_CSS_UNITS);return n[0]<=i&&n[1]<=i}const Nd=["butt","round","square"],Fd=["miter","round","bevel"],Od={},jd={};class zd{constructor(e,t,n,i,r,s,a,o){let{optionalContentConfig:l,markedContentStack:c=null}=s;this.ctx=e,this.current=new Rd(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new Cd(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=a,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing(e){let{transform:t,viewport:n,transparency:i=!1,background:r=null}=e;const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,i){const e=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...ju(this.compositeCtx))}this.ctx.save(),Id(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=ju(this.ctx)}executeOperatorList(e,t,n,i){const r=e.argsArray,s=e.fnArray;let a=t||0;const o=r.length;if(o===a)return a;const l=o-a>10&&"function"===typeof n,c=l?Date.now()+15:0;let u=0;const d=this.commonObjs,h=this.objs;let p;for(;;){if(void 0!==i&&a===i.nextBreakPoint)return i.breakIt(a,n),a;if(p=s[a],p!==Rc.dependency)this[p].apply(this,r[a]);else for(const e of r[a]){const t=e.startsWith("g_")?d:h;if(!t.has(e))return t.get(e,n),a}if(a++,a===o)return a;if(l&&++u>10){if(Date.now()>c)return n(),a;u=0}}}#Pt(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#Pt(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#Lt()}#Lt(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const n=e.width,i=e.height;let r,s,a=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=n,c=i,u="prescale1";for(;a>2&&l>1||o>2&&c>1;){let t=l,n=c;a>2&&l>1&&(t=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),a/=l/t),o>2&&c>1&&(n=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/n),r=this.cachedCanvases.getCanvas(u,t,n),s=r.context,s.clearRect(0,0,t,n),s.drawImage(e,0,0,l,c,0,0,t,n),e=r.canvas,l=t,c=n,u="prescale1"===u?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:i}=e,r=this.current.fillColor,s=this.current.patternFill,a=ju(t);let o,l,c,u;if((e.bitmap||e.data)&&e.count>1){const t=e.bitmap||e.data.buffer;l=JSON.stringify(s?a:[a.slice(0,4),r]),o=this._cachedBitmapsMap.get(t),o||(o=new Map,this._cachedBitmapsMap.set(t,o));const n=o.get(l);if(n&&!s){return{canvas:n,offsetX:Math.round(Math.min(a[0],a[2])+a[4]),offsetY:Math.round(Math.min(a[1],a[3])+a[5])}}c=n}c||(u=this.cachedCanvases.getCanvas("maskCanvas",n,i),Pd(u.context,e));let d=Zc.transform(a,[1/n,0,0,-1/i,0,0]);d=Zc.transform(d,[1,0,0,1,0,-i]);const[h,p,f,g]=Zc.getAxialAlignedBoundingBox([0,0,n,i],d),m=Math.round(f-h)||1,v=Math.round(g-p)||1,b=this.cachedCanvases.getCanvas("fillCanvas",m,v),y=b.context,w=h,_=p;y.translate(-w,-_),y.transform(...d),c||(c=this._scaleImage(u.canvas,zu(y)),c=c.img,o&&s&&o.set(l,c)),y.imageSmoothingEnabled=Dd(ju(y),e.interpolate),Td(y,c,0,0,c.width,c.height,0,0,n,i),y.globalCompositeOperation="source-in";const S=Zc.transform(zu(y),[1,0,0,1,-w,-_]);return y.fillStyle=s?r.getPattern(t,this,S,hd):r,y.fillRect(0,0,n,i),o&&!s&&(this.cachedCanvases.delete("fillCanvas"),o.set(l,b.canvas)),{canvas:b.canvas,offsetX:Math.round(w),offsetY:Math.round(_)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=Nd[e]}setLineJoin(e){this.ctx.lineJoin=Fd[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const r=this.ctx;r.setTransform(...ju(this.suspendedCtx)),Ld(this.suspendedCtx,r),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,i,r,s,a){t.transform(e,n,i,r,s,a),this.__originalTransform(e,n,i,r,s,a)},e.setTransform=function(e,n,i,r,s,a){t.setTransform(e,n,i,r,s,a),this.__originalSetTransform(e,n,i,r,s,a)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,i,r,s,a){t.bezierCurveTo(e,n,i,r,s,a),this.__originalBezierCurveTo(e,n,i,r,s,a)},e.rect=function(e,n,i,r){t.rect(e,n,i,r),this.__originalRect(e,n,i,r)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ld(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const r=i[0],s=i[1],a=i[2]-r,o=i[3]-s;0!==a&&0!==o&&(this.genericComposeSMask(t.context,n,a,o,t.subtype,t.backdrop,t.transferMap,r,s,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,r,s,a,o,l,c,u){let d=e.canvas,h=o-c,p=l-u;if(s)if(h<0||p<0||h+n>d.width||p+i>d.height){const e=this.cachedCanvases.getCanvas("maskExtension",n,i),t=e.context;t.drawImage(d,-h,-p),s.some((e=>0!==e))&&(t.globalCompositeOperation="destination-atop",t.fillStyle=Zc.makeHexColor(...s),t.fillRect(0,0,n,i),t.globalCompositeOperation="source-over"),d=e.canvas,h=p=0}else if(s.some((e=>0!==e))){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const t=new Path2D;t.rect(h,p,n,i),e.clip(t),e.globalCompositeOperation="destination-atop",e.fillStyle=Zc.makeHexColor(...s),e.fillRect(h,p,n,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),"Alpha"===r&&a?t.filter=this.filterFactory.addAlphaFilter(a):"Luminosity"===r&&(t.filter=this.filterFactory.addLuminosityFilter(a));const f=new Path2D;f.rect(o,l,n,i),t.clip(f),t.globalCompositeOperation="destination-in",t.drawImage(d,h,p,n,i,o,l,n,i),t.restore()}save(){this.inSMaskMode?(Ld(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Ld(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,i,r,s){this.ctx.transform(e,t,n,i,r,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const i=this.ctx,r=this.current;let s,a,o=r.x,l=r.y;const c=ju(i),u=0===c[0]&&0===c[3]||0===c[1]&&0===c[2],d=u?n.slice(0):null;for(let h=0,p=0,f=e.length;h<f;h++)switch(0|e[h]){case Rc.rectangle:o=t[p++],l=t[p++];const e=t[p++],n=t[p++],h=o+e,f=l+n;i.moveTo(o,l),0===e||0===n?i.lineTo(h,f):(i.lineTo(h,l),i.lineTo(h,f),i.lineTo(o,f)),u||r.updateRectMinMax(c,[o,l,h,f]),i.closePath();break;case Rc.moveTo:o=t[p++],l=t[p++],i.moveTo(o,l),u||r.updatePathMinMax(c,o,l);break;case Rc.lineTo:o=t[p++],l=t[p++],i.lineTo(o,l),u||r.updatePathMinMax(c,o,l);break;case Rc.curveTo:s=o,a=l,o=t[p+4],l=t[p+5],i.bezierCurveTo(t[p],t[p+1],t[p+2],t[p+3],o,l),r.updateCurvePathMinMax(c,s,a,t[p],t[p+1],t[p+2],t[p+3],o,l,d),p+=6;break;case Rc.curveTo2:s=o,a=l,i.bezierCurveTo(o,l,t[p],t[p+1],t[p+2],t[p+3]),r.updateCurvePathMinMax(c,s,a,o,l,t[p],t[p+1],t[p+2],t[p+3],d),o=t[p+2],l=t[p+3],p+=4;break;case Rc.curveTo3:s=o,a=l,o=t[p+2],l=t[p+3],i.bezierCurveTo(t[p],t[p+1],o,l,o,l),r.updateCurvePathMinMax(c,s,a,t[p],t[p+1],o,l,o,l,d),p+=4;break;case Rc.closePath:i.closePath()}u&&r.updateScalingPathMinMax(c,d),r.setCurrentPoint(o,l)}closePath(){this.ctx.closePath()}stroke(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof n&&n?.getPattern?(t.save(),t.strokeStyle=n.getPattern(t,this,zu(t),pd),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.fillColor;let i=!1;this.current.patternFill&&(t.save(),t.fillStyle=n.getPattern(t,this,zu(t),hd),i=!0);const r=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==r&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),i&&t.restore(),e&&this.consumePath(r)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Od}eoClip(){this.pendingClip=jd}beginText(){this.current.textMatrix=Ol,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){const n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=n.fontMatrix||jl,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||Nc("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const r=n.loadedName||"sans-serif",s=n.systemFontInfo?.css||`"${r}", ${n.fallbackName}`;let a="normal";n.black?a="900":n.bold&&(a="bold");const o=n.italic?"italic":"normal";let l=t;t<16?l=16:t>100&&(l=100),this.current.fontSizeScale=t/l,this.ctx.font=`${o} ${a} ${l}px ${s}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,i,r,s){this.current.textMatrix=[e,t,n,i,r,s],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,i){const r=this.ctx,s=this.current,a=s.font,o=s.textRenderingMode,l=s.fontSize/s.fontSizeScale,c=o&tc,u=!!(o&nc),d=s.patternFill&&!a.missingFile;let h;if((a.disableFontFace||u||d)&&(h=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||d?(r.save(),r.translate(t,n),r.beginPath(),h(r,l),i&&r.setTransform(...i),c!==Ql&&c!==Zl||r.fill(),c!==Jl&&c!==Zl||r.stroke(),r.restore()):(c!==Ql&&c!==Zl||r.fillText(e,t,n),c!==Jl&&c!==Zl||r.strokeText(e,t,n)),u){(this.pendingTextPaths||=[]).push({transform:ju(r),x:t,y:n,fontSize:l,addToPath:h})}}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return zc(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(0===i)return;const r=this.ctx,s=t.fontSizeScale,a=t.charSpacing,o=t.wordSpacing,l=t.fontDirection,c=t.textHScale*l,u=e.length,d=n.vertical,h=d?1:-1,p=n.defaultVMetrics,f=i*t.fontMatrix[0],g=t.textRenderingMode===Ql&&!n.disableFontFace&&!t.patternFill;let m;if(r.save(),r.transform(...t.textMatrix),r.translate(t.x,t.y+t.textRise),l>0?r.scale(c,-1):r.scale(c,1),t.patternFill){r.save();const e=t.fillColor.getPattern(r,this,zu(r),hd);m=ju(r),r.restore(),r.fillStyle=e}let v=t.lineWidth;const b=t.textMatrixScale;if(0===b||0===v){const e=t.textRenderingMode&tc;e!==Jl&&e!==Zl||(v=this.getSinglePixelWidth())}else v/=b;if(1!==s&&(r.scale(s,s),v/=s),r.lineWidth=v,n.isInvalidPDFjsFont){const n=[];let i=0;for(const t of e)n.push(t.unicode),i+=t.width;return r.fillText(n.join(""),0,0),t.x+=i*f*c,r.restore(),void this.compose()}let y,w=0;for(y=0;y<u;++y){const t=e[y];if("number"===typeof t){w+=h*t*i/1e3;continue}let c=!1;const u=(t.isSpace?o:0)+a,v=t.fontChar,b=t.accent;let _,S,x=t.width;if(d){const e=t.vmetric||p,n=-(t.vmetric?e[1]:.5*x)*f,i=e[2]*f;x=e?-e[0]:x,_=n/s,S=(w+i)/s}else _=w/s,S=0;if(n.remeasure&&x>0){const e=1e3*r.measureText(v).width/i*s;if(x<e&&this.isFontSubpixelAAEnabled){const t=x/e;c=!0,r.save(),r.scale(t,1),_/=t}else x!==e&&(_+=(x-e)/2e3*i/s)}if(this.contentVisible&&(t.isInFont||n.missingFile))if(g&&!b)r.fillText(v,_,S);else if(this.paintChar(v,_,S,m),b){const e=_+i*b.offset.x/s,t=S-i*b.offset.y/s;this.paintChar(b.fontChar,e,t,m)}w+=d?x*f-u*l:x*f+u*l,c&&r.restore()}d?t.y-=w:t.x+=w*c,r.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,i=n.font,r=n.fontSize,s=n.fontDirection,a=i.vertical?1:-1,o=n.charSpacing,l=n.wordSpacing,c=n.textHScale*s,u=n.fontMatrix||jl,d=e.length;let h,p,f,g;if(!(n.textRenderingMode===ec)&&0!==r){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(c,s),h=0;h<d;++h){if(p=e[h],"number"===typeof p){g=a*p*r/1e3,this.ctx.translate(g,0),n.x+=g*c;continue}const s=(p.isSpace?l:0)+o,d=i.charProcOperatorList[p.operatorListId];if(!d){Nc(`Type3 character "${p.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=p,this.save(),t.scale(r,r),t.transform(...u),this.executeOperatorList(d),this.restore());f=Zc.applyTransform([p.width,0],u)[0]*r+s,t.translate(f,0),n.x+=f*c}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,i,r,s){this.ctx.rect(n,i,r-n,s-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const n=e[1],i=this.baseTransform||ju(this.ctx),r={createCanvasGraphics:e=>new zd(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Ad(e,n,this.ctx,r,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){const i=Zc.makeHexColor(e,t,n);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,t,n){const i=Zc.makeHexColor(e,t,n);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(e)?t=this.cachedPatterns.get(e):(t=function(e){switch(e[0]){case"RadialAxial":return new vd(e);case"Mesh":return new wd(e);case"Dummy":return new _d}throw new Error(`Unknown IR type: ${e[0]}`)}(this.getObject(e)),this.cachedPatterns.set(e,t)),n&&(t.matrix=n),t}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,zu(t),fd);const i=zu(t);if(i){const{width:e,height:n}=t.canvas,[r,s,a,o]=Zc.getAxialAlignedBoundingBox([0,0,e,n],i);this.ctx.fillRect(r,s,a-r,o-s)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Fc("Should not call beginInlineImage")}beginImageData(){Fc("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=ju(this.ctx),t)){const e=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],e,n),this.current.updateRectMinMax(ju(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||Dc("TODO: Support non-isolated groups."),e.knockout&&Nc("Knockout groups not supported.");const n=ju(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Zc.getAxialAlignedBoundingBox(e.bbox,ju(t));const r=[0,0,t.canvas.width,t.canvas.height];i=Zc.intersect(i,r)||[0,0,0,0];const s=Math.floor(i[0]),a=Math.floor(i[1]),o=Math.max(Math.ceil(i[2])-s,1),l=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,o,l]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const u=this.cachedCanvases.getCanvas(c,o,l),d=u.context;d.translate(-s,-a),d.transform(...n),e.smask?this.smaskStack.push({canvas:u.canvas,context:d,offsetX:s,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(s,a),t.save()),Ld(t,d),this.ctx=d,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const e=ju(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...e);const n=Zc.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,n,i,r){if(this.#Pt(),Id(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const i=t[2]-t[0],s=t[3]-t[1];if(r&&this.annotationCanvasMap){(n=n.slice())[4]-=t[0],n[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=i,t[3]=s;const[r,a]=Zc.singularValueDecompose2dScale(ju(this.ctx)),{viewportScale:o}=this,l=Math.ceil(i*this.outputScaleX*o),c=Math.ceil(s*this.outputScaleY*o);this.annotationCanvas=this.canvasFactory.create(l,c);const{canvas:u,context:d}=this.annotationCanvas;this.annotationCanvasMap.set(e,u),this.annotationCanvas.savedCtx=this.ctx,this.ctx=d,this.ctx.save(),this.ctx.setTransform(r,0,0,-a,0,s*a),Id(this.ctx)}else Id(this.ctx),this.ctx.rect(t[0],t[1],i,s),this.ctx.clip(),this.endPath()}this.current=new Rd(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#Lt(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const n=this.ctx,i=this.processingType3;if(i&&(void 0===i.compiled&&(i.compiled=function(e){const{width:t,height:n}=e;if(t>1e3||n>1e3)return null;const i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=t+1;let s,a,o,l=new Uint8Array(r*(n+1));const c=t+7&-8;let u=new Uint8Array(c*n),d=0;for(const g of e.data){let e=128;for(;e>0;)u[d++]=g&e?0:255,e>>=1}let h=0;for(d=0,0!==u[d]&&(l[0]=1,++h),a=1;a<t;a++)u[d]!==u[d+1]&&(l[a]=u[d]?2:1,++h),d++;for(0!==u[d]&&(l[a]=2,++h),s=1;s<n;s++){d=s*c,o=s*r,u[d-c]!==u[d]&&(l[o]=u[d]?1:8,++h);let e=(u[d]?4:0)+(u[d-c]?8:0);for(a=1;a<t;a++)e=(e>>2)+(u[d+1]?4:0)+(u[d-c+1]?8:0),i[e]&&(l[o+a]=i[e],++h),d++;if(u[d-c]!==u[d]&&(l[o+a]=u[d]?2:4,++h),h>1e3)return null}for(d=c*(n-1),o=s*r,0!==u[d]&&(l[o]=8,++h),a=1;a<t;a++)u[d]!==u[d+1]&&(l[o+a]=u[d]?4:8,++h),d++;if(0!==u[d]&&(l[o+a]=4,++h),h>1e3)return null;const p=new Int32Array([0,r,-1,0,-r,0,0,0,1]),f=new Path2D;for(s=0;h&&s<=n;s++){let e=s*r;const n=e+t;for(;e<n&&!l[e];)e++;if(e===n)continue;f.moveTo(e%r,s);const i=e;let a=l[e];do{const t=p[a];do{e+=t}while(!l[e]);const n=l[e];5!==n&&10!==n?(a=n,l[e]=0):(a=n&51*a>>4,l[e]&=a>>2|a<<2),f.lineTo(e%r,e/r|0),l[e]||--h}while(i!==e);--s}return u=null,l=null,function(e){e.save(),e.scale(1/t,-1/n),e.translate(0,-n),e.fill(f),e.beginPath(),e.restore()}}(e)),i.compiled))return void i.compiled(n);const r=this._createMaskCanvas(e),s=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(s,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const o=ju(a);a.transform(t,n,i,r,0,0);const l=this._createMaskCanvas(e);a.setTransform(1,0,0,1,l.offsetX-o[4],l.offsetY-o[5]);for(let c=0,u=s.length;c<u;c+=2){const e=Zc.transform(o,[t,n,i,r,s[c],s[c+1]]),[u,d]=Zc.applyTransform([0,0],e);a.drawImage(l.canvas,u,d)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const r of e){const{data:e,width:s,height:a,transform:o}=r,l=this.cachedCanvases.getCanvas("maskCanvas",s,a),c=l.context;c.save();Pd(c,this.getObject(e,r)),c.globalCompositeOperation="source-in",c.fillStyle=i?n.getPattern(c,this,zu(t),hd):n,c.fillRect(0,0,s,a),c.restore(),t.save(),t.transform(...o),t.scale(1,-1),Td(t,l.canvas,0,0,s,a,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):Nc("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,n,i){if(!this.contentVisible)return;const r=this.getObject(e);if(!r)return void Nc("Dependent image isn't ready yet");const s=r.width,a=r.height,o=[];for(let l=0,c=i.length;l<c;l+=2)o.push({transform:[t,0,0,n,i[l],i[l+1]],x:0,y:0,w:s,h:a});this.paintInlineImageXObjectGroup(r,o)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:n,height:i}=e,r=this.cachedCanvases.getCanvas("inlineImage",n,i),s=r.context;return s.filter=this.current.transferMaps,s.drawImage(t,0,0),s.filter="none",r.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,i=this.ctx;if(this.save(),!Fl){const{filter:e}=i;"none"!==e&&""!==e&&(i.filter="none")}let r;if(i.scale(1/t,-1/n),e.bitmap)r=this.applyTransferMapsToBitmap(e);else if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)r=e;else{const i=this.cachedCanvases.getCanvas("inlineImage",t,n).context;Md(i,e),r=this.applyTransferMapsToCanvas(i)}const s=this._scaleImage(r,zu(i));i.imageSmoothingEnabled=Dd(ju(i),e.interpolate),Td(i,s.img,0,0,s.paintWidth,s.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const t=e.width,n=e.height,r=this.cachedCanvases.getCanvas("inlineImage",t,n).context;Md(r,e),i=this.applyTransferMapsToCanvas(r)}for(const r of t)n.save(),n.transform(...r.transform),n.scale(1,-1),Td(n,i,r.x,r.y,r.w,r.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===jd?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=ju(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:r}=this.ctx.getTransform();let s,a;if(0===n&&0===i){const n=Math.abs(t),i=Math.abs(r);if(n===i)if(0===e)s=a=1/n;else{const t=n*e;s=a=t<1?1/t:1}else if(0===e)s=1/n,a=1/i;else{const t=n*e,r=i*e;s=t<1?1/t:1,a=r<1?1/r:1}}else{const o=Math.abs(t*r-n*i),l=Math.hypot(t,n),c=Math.hypot(i,r);if(0===e)s=c/o,a=l/o;else{const t=e*o;s=c>t?c/t:1,a=l>t?l/t:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[i,r]=this.getScaleForStroking();if(t.lineWidth=n||1,1===i&&1===r)return void t.stroke();const s=t.getLineDash();if(e&&t.save(),t.scale(i,r),s.length>0){const e=Math.max(i,r);t.setLineDash(s.map((t=>t/e))),t.lineDashOffset/=e}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const n in Rc)void 0!==zd.prototype[n]&&(zd.prototype[Rc[n]]=zd.prototype[n]);class Bd{static#It=null;static#Dt="";static get workerPort(){return this.#It}static set workerPort(e){if(!("undefined"!==typeof Worker&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");this.#It=e}static get workerSrc(){return this.#Dt}static set workerSrc(e){if("string"!==typeof e)throw new Error("Invalid `workerSrc` type.");this.#Dt=e}}const Ud=1,Vd=2,Hd=1,$d=2,Wd=3,Gd=4,qd=5,Kd=6,Xd=7,Yd=8;function Qd(e){switch(e instanceof Error||"object"===typeof e&&null!==e||Fc('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new qc(e.message);case"MissingPDFException":return new $c(e.message);case"PasswordException":return new Uc(e.message,e.code);case"UnexpectedResponseException":return new Wc(e.message,e.status);case"UnknownErrorException":return new Vc(e.message,e.details);default:return new Vc(e.message,e.toString())}}class Jd{constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=e=>{const t=e.data;if(t.targetName!==this.sourceName)return;if(t.stream)return void this.#Nt(t);if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error(`Cannot resolve callback ${e}`);if(delete this.callbackCapabilities[e],t.callback===Ud)n.resolve(t.data);else{if(t.callback!==Vd)throw new Error("Unexpected callback case");n.reject(Qd(t.reason))}return}const i=this.actionHandler[t.action];if(!i)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const e=this.sourceName,r=t.sourceName;new Promise((function(e){e(i(t.data))})).then((function(i){n.postMessage({sourceName:e,targetName:r,callback:Ud,callbackId:t.callbackId,data:i})}),(function(i){n.postMessage({sourceName:e,targetName:r,callback:Vd,callbackId:t.callbackId,reason:Qd(i)})}))}else t.streamId?this.#Ft(t):i(t.data)},n.addEventListener("message",this._onComObjOnMessage)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[i]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(s){r.reject(s)}return r.promise}sendWithStream(e,t,n,i){const r=this.streamId++,s=this.sourceName,a=this.targetName,o=this.comObj;return new ReadableStream({start:n=>{const l=Promise.withResolvers();return this.streamControllers[r]={controller:n,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:s,targetName:a,action:e,streamId:r,data:t,desiredSize:n.desiredSize},i),l.promise},pull:e=>{const t=Promise.withResolvers();return this.streamControllers[r].pullCall=t,o.postMessage({sourceName:s,targetName:a,stream:Kd,streamId:r,desiredSize:e.desiredSize}),t.promise},cancel:e=>{Oc(e instanceof Error,"cancel must have a valid reason");const t=Promise.withResolvers();return this.streamControllers[r].cancelCall=t,this.streamControllers[r].isClosed=!0,o.postMessage({sourceName:s,targetName:a,stream:Hd,streamId:r,reason:Qd(e)}),t.promise}},n)}#Ft(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,r=this.comObj,s=this,a=this.actionHandler[e.action],o={enqueue(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=s,o>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:n,targetName:i,stream:Gd,streamId:t,chunk:e},a)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:Wd,streamId:t}),delete s.streamSinks[t])},error(e){Oc(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:qd,streamId:t,reason:Qd(e)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[t]=o,new Promise((function(t){t(a(e.data,o))})).then((function(){r.postMessage({sourceName:n,targetName:i,stream:Yd,streamId:t,success:!0})}),(function(e){r.postMessage({sourceName:n,targetName:i,stream:Yd,streamId:t,reason:Qd(e)})}))}#Nt(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,r=this.comObj,s=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case Yd:e.success?s.startCall.resolve():s.startCall.reject(Qd(e.reason));break;case Xd:e.success?s.pullCall.resolve():s.pullCall.reject(Qd(e.reason));break;case Kd:if(!a){r.postMessage({sourceName:n,targetName:i,stream:Xd,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise((function(e){e(a.onPull?.())})).then((function(){r.postMessage({sourceName:n,targetName:i,stream:Xd,streamId:t,success:!0})}),(function(e){r.postMessage({sourceName:n,targetName:i,stream:Xd,streamId:t,reason:Qd(e)})}));break;case Gd:if(Oc(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case Wd:if(Oc(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),this.#Ot(s,t);break;case qd:Oc(s,"error should have stream controller"),s.controller.error(Qd(e.reason)),this.#Ot(s,t);break;case $d:e.success?s.cancelCall.resolve():s.cancelCall.reject(Qd(e.reason)),this.#Ot(s,t);break;case Hd:if(!a)break;new Promise((function(t){t(a.onCancel?.(Qd(e.reason)))})).then((function(){r.postMessage({sourceName:n,targetName:i,stream:$d,streamId:t,success:!0})}),(function(e){r.postMessage({sourceName:n,targetName:i,stream:$d,streamId:t,reason:Qd(e)})})),a.sinkCapability.reject(Qd(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#Ot(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}class Zd{#jt;#zt;constructor(e){let{parsedData:t,rawData:n}=e;this.#jt=t,this.#zt=n}getRaw(){return this.#zt}get(e){return this.#jt.get(e)??null}getAll(){return Yc(this.#jt)}has(e){return this.#jt.has(e)}}const eh=Symbol("INTERNAL");class th{#Bt=!1;#Ut=!1;#Vt=!1;#Ht=!0;constructor(e,t){let{name:n,intent:i,usage:r}=t;this.#Bt=!!(e&Ul),this.#Ut=!!(e&Vl),this.name=n,this.intent=i,this.usage=r}get visible(){if(this.#Vt)return this.#Ht;if(!this.#Ht)return!1;const{print:e,view:t}=this.usage;return this.#Bt?"OFF"!==t?.viewState:!this.#Ut||"OFF"!==e?.printState}_setVisible(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e!==eh&&Fc("Internal method `_setVisible` called."),this.#Vt=n,this.#Ht=t}}class nh{#$t=null;#Wt=new Map;#Gt=null;#qt=null;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ul;if(this.renderingIntent=t,this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,this.#qt=e.order;for(const n of e.groups)this.#Wt.set(n.id,new th(t,n));if("OFF"===e.baseState)for(const e of this.#Wt.values())e._setVisible(eh,!1);for(const t of e.on)this.#Wt.get(t)._setVisible(eh,!0);for(const t of e.off)this.#Wt.get(t)._setVisible(eh,!1);this.#Gt=this.getHash()}}#Kt(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const t=e[i];let r;if(Array.isArray(t))r=this.#Kt(t);else{if(!this.#Wt.has(t))return Nc(`Optional content group not found: ${t}`),!0;r=this.#Wt.get(t).visible}switch(n){case"And":if(!r)return!1;break;case"Or":if(r)return!0;break;case"Not":return!r;default:return!0}}return"And"===n}isVisible(e){if(0===this.#Wt.size)return!0;if(!e)return Dc("Optional content group not defined."),!0;if("OCG"===e.type)return this.#Wt.has(e.id)?this.#Wt.get(e.id).visible:(Nc(`Optional content group not found: ${e.id}`),!0);if("OCMD"===e.type){if(e.expression)return this.#Kt(e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!this.#Wt.has(t))return Nc(`Optional content group not found: ${t}`),!0;if(this.#Wt.get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!this.#Wt.has(t))return Nc(`Optional content group not found: ${t}`),!0;if(!this.#Wt.get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!this.#Wt.has(t))return Nc(`Optional content group not found: ${t}`),!0;if(!this.#Wt.get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!this.#Wt.has(t))return Nc(`Optional content group not found: ${t}`),!0;if(this.#Wt.get(t).visible)return!1}return!0}return Nc(`Unknown optional content policy ${e.policy}.`),!0}return Nc(`Unknown group type ${e.type}.`),!0}setVisibility(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.#Wt.get(e);n?(n._setVisible(eh,!!t,!0),this.#$t=null):Nc(`Optional content group not found: ${e}`)}setOCGState(e){let t,{state:n,preserveRB:i}=e;for(const r of n){switch(r){case"ON":case"OFF":case"Toggle":t=r;continue}const e=this.#Wt.get(r);if(e)switch(t){case"ON":e._setVisible(eh,!0);break;case"OFF":e._setVisible(eh,!1);break;case"Toggle":e._setVisible(eh,!e.visible)}}this.#$t=null}get hasInitialVisibility(){return null===this.#Gt||this.getHash()===this.#Gt}getOrder(){return this.#Wt.size?this.#qt?this.#qt.slice():[...this.#Wt.keys()]:null}getGroups(){return this.#Wt.size>0?Yc(this.#Wt):null}getGroup(e){return this.#Wt.get(e)||null}getHash(){if(null!==this.#$t)return this.#$t;const e=new nd;for(const[t,n]of this.#Wt)e.update(`${t}:${n.visible}`);return this.#$t=e.hexdigest()}}class ih{constructor(e,t){let{disableRange:n=!1,disableStream:i=!1}=t;Oc(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,s?.length>0){const e=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!n,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener(((e,t)=>{this._onReceiveData({begin:e,chunk:t})})),e.addProgressListener(((e,t)=>{this._onProgress({loaded:e,total:t})})),e.addProgressiveReadListener((e=>{this._onReceiveData({chunk:e})})),e.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),e.transportReady()}_onReceiveData(e){let{begin:t,chunk:n}=e;const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===t)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{Oc(this._rangeReaders.some((function(e){return e._begin===t&&(e._enqueue(i),!0)})),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){void 0===e.total?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Oc(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new rh(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new sh(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class rh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=e,this._done=n||!1,this._filename=Cu(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunks.push(e);this._loaded+=e.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class sh{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function ah(e){let{getResponseHeader:t,isHttp:n,rangeChunkSize:i,disableRange:r}=e;const s={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t("Content-Length"),10);if(!Number.isInteger(a))return s;if(s.suggestedLength=a,a<=2*i)return s;if(r||!n)return s;if("bytes"!==t("Accept-Ranges"))return s;return"identity"!==(t("Content-Encoding")||"identity")||(s.allowRangeRequests=!0),s}function oh(e){const t=e("Content-Disposition");if(t){let e=function(e){let t=!0,n=i("filename\\*","i").exec(e);if(n){n=n[1];let e=a(n);return e=unescape(e),e=o(e),e=l(e),s(e)}if(n=function(e){const t=[];let n;const r=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=r.exec(e));){let[,e,i,r]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[i,r]}const s=[];for(let i=0;i<t.length&&i in t;++i){let[e,n]=t[i];n=a(n),e&&(n=unescape(n),0===i&&(n=o(n))),s.push(n)}return s.join("")}(e),n)return s(l(n));if(n=i("filename","i").exec(e),n){n=n[1];let e=a(n);return e=l(e),s(e)}function i(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function r(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(e,{fatal:!0}),r=Xc(n);n=i.decode(r),t=!1}catch{}}return n}function s(e){return t&&/[\x80-\xff]/.test(e)&&(e=r("utf-8",e),t&&(e=r("iso-8859-1",e))),e}function a(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function o(e){const t=e.indexOf("'");return-1===t?e:r(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function l(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,i){if("q"===n||"Q"===n)return r(t,i=(i=i.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{i=atob(i)}catch{}return r(t,i)}))}return""}(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Cu(e))return e}return null}function lh(e,t){return 404===e||0===e&&t.startsWith("file:")?new $c('Missing PDF "'+t+'".'):new Wc(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e)}function ch(e){return 200===e||206===e}function uh(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function dh(e){const t=new Headers;for(const n in e){const i=e[n];void 0!==i&&t.append(n,i)}return t}function hh(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(Nc(`getArrayBuffer - unexpected data format: ${e}`),new Uint8Array(e).buffer)}class ph{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Oc(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new fh(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new gh(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class fh{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=dh(this._stream.httpHeaders);const n=t.url;fetch(n,uh(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!ch(e.status))throw lh(e.status,n);this._reader=e.body.getReader(),this._headersCapability.resolve();const t=t=>e.headers.get(t),{allowRangeRequests:i,suggestedLength:r}=ah({getResponseHeader:t,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=r||this._contentLength,this._filename=oh(t),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new qc("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:hh(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class gh{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=dh(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${n-1}`);const r=i.url;fetch(r,uh(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!ch(e.status))throw lh(e.status,r);this._readCapability.resolve(),this._reader=e.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:hh(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class mh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const i={begin:e,end:t};for(const r in n)i[r]=n[r];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const r in this.httpHeaders){const e=this.httpHeaders[r];void 0!==e&&t.setRequestHeader(r,e)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=206):i.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===i.status&&this.isHttp)return void n.onError?.(i.status);const r=i.status||200;if(!(200===r&&206===n.expectedStatus)&&r!==n.expectedStatus)return void n.onError?.(i.status);const s=function(e){const t=e.response;return"string"!==typeof t?t:Xc(t).buffer}(i);if(206===r){const e=i.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);n.onDone({begin:parseInt(t[1],10),chunk:s})}else s?n.onDone({begin:0,chunk:s}):n.onError?.(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class vh{constructor(e){this._source=e,this._manager=new mh(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Oc(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new bh(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new yh(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class bh{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=e=>t.getResponseHeader(e),{allowRangeRequests:i,suggestedLength:r}=ah({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=oh(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e)if(this._requests.length>0){this._requests.shift().resolve({value:e.chunk,done:!1})}else this._cachedChunks.push(e.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=lh(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class yh{constructor(e,t,n){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunk=t;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=lh(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const wh=/^file:\/\/\/[a-zA-Z]:\//;class _h{constructor(e){this.source=e,this.url=function(e){const t=ud.get("url"),n=t.parse(e);return"file:"===n.protocol||n.host?n:/^[a-z]:[/\\]/i.test(e)?t.parse(`file:///${e}`):(n.host||(n.protocol="file:"),n)}(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Oc(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Ch(this):new Eh(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new Th(this,e,t):new kh(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class Sh{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(e).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new qc("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class xh{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,this.onProgress?.({loaded:this._loaded});return{value:new Uint8Array(e).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}function Ah(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}class Eh extends Sh{constructor(e){super(e);const t=t=>{if(404===t.statusCode){const e=new $c(`Missing PDF "${this._url}".`);return this._storedError=e,void this._headersCapability.reject(e)}this._headersCapability.resolve(),this._setReadableStream(t);const n=e=>this._readableStream.headers[e.toLowerCase()],{allowRangeRequests:i,suggestedLength:r}=ah({getResponseHeader:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=r||this._contentLength,this._filename=oh(n)};if(this._request=null,"http:"===this._url.protocol){const n=ud.get("http");this._request=n.request(Ah(this._url,e.httpHeaders),t)}else{const n=ud.get("https");this._request=n.request(Ah(this._url,e.httpHeaders),t)}this._request.on("error",(e=>{this._storedError=e,this._headersCapability.reject(e)})),this._request.end()}}class kh extends xh{constructor(e,t,n){super(e),this._httpHeaders={};for(const r in e.httpHeaders){const t=e.httpHeaders[r];void 0!==t&&(this._httpHeaders[r]=t)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;const i=e=>{if(404!==e.statusCode)this._setReadableStream(e);else{const e=new $c(`Missing PDF "${this._url}".`);this._storedError=e}};if(this._request=null,"http:"===this._url.protocol){const e=ud.get("http");this._request=e.request(Ah(this._url,this._httpHeaders),i)}else{const e=ud.get("https");this._request=e.request(Ah(this._url,this._httpHeaders),i)}this._request.on("error",(e=>{this._storedError=e})),this._request.end()}}class Ch extends Sh{constructor(e){super(e);let t=decodeURIComponent(this._url.path);wh.test(this._url.href)&&(t=t.replace(/^\//,""));const n=ud.get("fs");n.promises.lstat(t).then((e=>{this._contentLength=e.size,this._setReadableStream(n.createReadStream(t)),this._headersCapability.resolve()}),(e=>{"ENOENT"===e.code&&(e=new $c(`Missing PDF "${t}".`)),this._storedError=e,this._headersCapability.reject(e)}))}}class Th extends xh{constructor(e,t,n){super(e);let i=decodeURIComponent(this._url.path);wh.test(this._url.href)&&(i=i.replace(/^\//,""));const r=ud.get("fs");this._setReadableStream(r.createReadStream(i,{start:t,end:n-1}))}}const Rh=30;class Mh{#Xt=Promise.withResolvers();#me=null;#Yt=!1;#Qt=!!globalThis.FontInspector?.enabled;#Jt=null;#Zt=null;#en=0;#tn=0;#nn=null;#in=null;#rn=0;#sn=0;#an=Object.create(null);#on=[];#ln=null;#cn=[];#un=new WeakMap;#dn=null;static#hn=new Map;static#pn=new Map;static#fn=null;static#gn=new Set;constructor(e){let{textContentSource:t,container:n,viewport:i}=e;if(t instanceof ReadableStream)this.#ln=t;else{if("object"!==typeof t)throw new Error('No "textContentSource" parameter specified.');this.#ln=new ReadableStream({start(e){e.enqueue(t),e.close()}})}this.#me=this.#in=n,this.#sn=i.scale*(globalThis.devicePixelRatio||1),this.#rn=i.rotation,this.#Zt={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:s,pageX:a,pageY:o}=i.rawDims;this.#dn=[1,0,0,-1,-a,o+s],this.#tn=r,this.#en=s,Mh.#mn(),Bu(n,i),this.#Xt.promise.catch((()=>{})).then((()=>{Mh.#gn.delete(this),this.#Zt=null,this.#an=null}))}render(){const e=()=>{this.#nn.read().then((t=>{let{value:n,done:i}=t;i?this.#Xt.resolve():(this.#Jt??=n.lang,Object.assign(this.#an,n.styles),this.#vn(n.items),e())}),this.#Xt.reject)};return this.#nn=this.#ln.getReader(),Mh.#gn.add(this),e(),this.#Xt.promise}update(e){let{viewport:t,onBefore:n=null}=e;const i=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==this.#rn&&(n?.(),this.#rn=r,Bu(this.#in,{rotation:r})),i!==this.#sn){n?.(),this.#sn=i;const e={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:Mh.#bn(this.#Jt)};for(const t of this.#cn)e.properties=this.#un.get(t),e.div=t,this.#yn(e)}}cancel(){const e=new qc("TextLayer task cancelled.");this.#nn?.cancel(e).catch((()=>{})),this.#nn=null,this.#Xt.reject(e)}get textDivs(){return this.#cn}get textContentItemsStr(){return this.#on}#vn(e){if(this.#Yt)return;this.#Zt.ctx??=Mh.#bn(this.#Jt);const t=this.#cn,n=this.#on;for(const i of e){if(t.length>1e5)return Nc("Ignoring additional textDivs for performance reasons."),void(this.#Yt=!0);if(void 0!==i.str)n.push(i.str),this.#wn(i);else if("beginMarkedContentProps"===i.type||"beginMarkedContent"===i.type){const e=this.#me;this.#me=document.createElement("span"),this.#me.classList.add("markedContent"),null!==i.id&&this.#me.setAttribute("id",`${i.id}`),e.append(this.#me)}else"endMarkedContent"===i.type&&(this.#me=this.#me.parentNode)}}#wn(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0};this.#cn.push(t);const i=Zc.transform(this.#dn,e.transform);let r=Math.atan2(i[1],i[0]);const s=this.#an[e.fontName];s.vertical&&(r+=Math.PI/2);const a=this.#Qt&&s.fontSubstitution||s.fontFamily,o=Math.hypot(i[2],i[3]),l=o*Mh.#_n(a,this.#Jt);let c,u;0===r?(c=i[4],u=i[5]-l):(c=i[4]+l*Math.sin(r),u=i[5]-l*Math.cos(r));const d="calc(var(--scale-factor)*",h=t.style;this.#me===this.#in?(h.left=`${(100*c/this.#tn).toFixed(2)}%`,h.top=`${(100*u/this.#en).toFixed(2)}%`):(h.left=`${d}${c.toFixed(2)}px)`,h.top=`${d}${u.toFixed(2)}px)`),h.fontSize=`${d}${(Mh.#fn*o).toFixed(2)}px)`,h.fontFamily=a,n.fontSize=o,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#Qt&&(t.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),0!==r&&(n.angle=r*(180/Math.PI));let p=!1;if(e.str.length>1)p=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const t=Math.abs(e.transform[0]),n=Math.abs(e.transform[3]);t!==n&&Math.max(t,n)/Math.min(t,n)>1.5&&(p=!0)}if(p&&(n.canvasWidth=s.vertical?e.height:e.width),this.#un.set(t,n),this.#Zt.div=t,this.#Zt.properties=n,this.#yn(this.#Zt),n.hasText&&this.#me.append(t),n.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),this.#me.append(e)}}#yn(e){const{div:t,properties:n,ctx:i,prevFontSize:r,prevFontFamily:s}=e,{style:a}=t;let o="";if(Mh.#fn>1&&(o=`scale(${1/Mh.#fn})`),0!==n.canvasWidth&&n.hasText){const{fontFamily:l}=a,{canvasWidth:c,fontSize:u}=n;r===u&&s===l||(i.font=`${u*this.#sn}px ${l}`,e.prevFontSize=u,e.prevFontFamily=l);const{width:d}=i.measureText(t.textContent);d>0&&(o=`scaleX(${c*this.#sn/d}) ${o}`)}0!==n.angle&&(o=`rotate(${n.angle}deg) ${o}`),o.length>0&&(a.transform=o)}static cleanup(){if(!(this.#gn.size>0)){this.#hn.clear();for(const{canvas:e}of this.#pn.values())e.remove();this.#pn.clear()}}static#bn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.#pn.get(e||="");if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#pn.set(e,t)}return t}static#mn(){if(null!==this.#fn)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),this.#fn=e.getBoundingClientRect().height,e.remove()}static#_n(e,t){const n=this.#hn.get(e);if(n)return n;const i=this.#bn(t),r=i.font;i.canvas.width=i.canvas.height=Rh,i.font=`30px ${e}`;const s=i.measureText("");let a=s.fontBoundingBoxAscent,o=Math.abs(s.fontBoundingBoxDescent);if(a){const t=a/(a+o);return this.#hn.set(e,t),i.canvas.width=i.canvas.height=0,i.font=r,t}i.strokeStyle="red",i.clearRect(0,0,Rh,Rh),i.strokeText("g",0,0);let l=i.getImageData(0,0,Rh,Rh).data;o=0;for(let u=l.length-1-3;u>=0;u-=4)if(l[u]>0){o=Math.ceil(u/4/Rh);break}i.clearRect(0,0,Rh,Rh),i.strokeText("A",0,Rh),l=i.getImageData(0,0,Rh,Rh).data,a=0;for(let u=0,d=l.length;u<d;u+=4)if(l[u]>0){a=Rh-Math.floor(u/4/Rh);break}i.canvas.width=i.canvas.height=0,i.font=r;const c=a?a/(a+o):.8;return this.#hn.set(e,c),c}}function Ph(){Iu("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:e,container:t,viewport:n,...i}=arguments[0],r=Object.keys(i);r.length>0&&Nc("Ignoring `renderTextLayer` parameters: "+r.join(", "));const s=new Mh({textContentSource:e,container:t,viewport:n}),{textDivs:a,textContentItemsStr:o}=s;return{promise:s.render(),textDivs:a,textContentItemsStr:o}}function Lh(){Iu("`updateTextLayer`, please use `TextLayer` instead.")}class Ih{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};return function e(n){if(!n)return;let i=null;const r=n.name;if("#text"===r)i=n.value;else{if(!Ih.shouldBuildText(r))return;n?.attributes?.textContent?i=n.attributes.textContent:n.value&&(i=n.value)}if(null!==i&&t.push({str:i}),n.children)for(const t of n.children)e(t)}(e),n}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}const Dh=65536,Nh=Fl?class extends fu{_createCanvas(e,t){return ud.get("canvas").createCanvas(e,t)}}:class extends fu{constructor(){let{ownerDocument:e=globalThis.document,enableHWA:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}},Fh=Fl?class extends gu{_fetchData(e,t){return dd(e).then((e=>({cMapData:e,compressionType:t})))}}:_u,Oh=Fl?class extends pu{}:class extends pu{#Sn;#xn;#An;#En;#kn;#v=0;constructor(){let{docId:e,ownerDocument:t=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.#An=e,this.#En=t}get#y(){return this.#Sn||=new Map}get#Cn(){return this.#kn||=new Map}get#Tn(){if(!this.#xn){const e=this.#En.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const n=this.#En.createElementNS(bu,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#xn=this.#En.createElementNS(bu,"defs"),e.append(n),n.append(this.#xn),this.#En.body.append(e)}return this.#xn}#Rn(e){if(1===e.length){const t=e[0],n=new Array(256);for(let e=0;e<256;e++)n[e]=t[e]/255;const i=n.join(",");return[i,i,i]}const[t,n,i]=e,r=new Array(256),s=new Array(256),a=new Array(256);for(let o=0;o<256;o++)r[o]=t[o]/255,s[o]=n[o]/255,a[o]=i[o]/255;return[r.join(","),s.join(","),a.join(",")]}addFilter(e){if(!e)return"none";let t=this.#y.get(e);if(t)return t;const[n,i,r]=this.#Rn(e),s=1===e.length?n:`${n}${i}${r}`;if(t=this.#y.get(s),t)return this.#y.set(e,t),t;const a=`g_${this.#An}_transfer_map_${this.#v++}`,o=`url(#${a})`;this.#y.set(e,o),this.#y.set(s,o);const l=this.#Mn(a);return this.#Pn(n,i,r,l),o}addHCMFilter(e,t){const n=`${e}-${t}`,i="base";let r=this.#Cn.get(i);if(r?.key===n)return r.url;if(r?(r.filter?.remove(),r.key=n,r.url="none",r.filter=null):(r={key:n,url:"none",filter:null},this.#Cn.set(i,r)),!e||!t)return r.url;const s=this.#Ln(e);e=Zc.makeHexColor(...s);const a=this.#Ln(t);if(t=Zc.makeHexColor(...a),this.#Tn.style.color="","#000000"===e&&"#ffffff"===t||e===t)return r.url;const o=new Array(256);for(let h=0;h<=255;h++){const e=h/255;o[h]=e<=.03928?e/12.92:((e+.055)/1.055)**2.4}const l=o.join(","),c=`g_${this.#An}_hcm_filter`,u=r.filter=this.#Mn(c);this.#Pn(l,l,l,u),this.#In(u);const d=(e,t)=>{const n=s[e]/255,i=a[e]/255,r=new Array(t+1);for(let s=0;s<=t;s++)r[s]=n+s/t*(i-n);return r.join(",")};return this.#Pn(d(0,5),d(1,5),d(2,5),u),r.url=`url(#${c})`,r.url}addAlphaFilter(e){let t=this.#y.get(e);if(t)return t;const[n]=this.#Rn([e]),i=`alpha_${n}`;if(t=this.#y.get(i),t)return this.#y.set(e,t),t;const r=`g_${this.#An}_alpha_map_${this.#v++}`,s=`url(#${r})`;this.#y.set(e,s),this.#y.set(i,s);const a=this.#Mn(r);return this.#Dn(n,a),s}addLuminosityFilter(e){let t,n,i=this.#y.get(e||"luminosity");if(i)return i;if(e?([t]=this.#Rn([e]),n=`luminosity_${t}`):n="luminosity",i=this.#y.get(n),i)return this.#y.set(e,i),i;const r=`g_${this.#An}_luminosity_map_${this.#v++}`,s=`url(#${r})`;this.#y.set(e,s),this.#y.set(n,s);const a=this.#Mn(r);return this.#Nn(a),e&&this.#Dn(t,a),s}addHighlightHCMFilter(e,t,n,i,r){const s=`${t}-${n}-${i}-${r}`;let a=this.#Cn.get(e);if(a?.key===s)return a.url;if(a?(a.filter?.remove(),a.key=s,a.url="none",a.filter=null):(a={key:s,url:"none",filter:null},this.#Cn.set(e,a)),!t||!n)return a.url;const[o,l]=[t,n].map(this.#Ln.bind(this));let c=Math.round(.2126*o[0]+.7152*o[1]+.0722*o[2]),u=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),[d,h]=[i,r].map(this.#Ln.bind(this));u<c&&([c,u,d,h]=[u,c,h,d]),this.#Tn.style.color="";const p=(e,t,n)=>{const i=new Array(256),r=(u-c)/n,s=e/255,a=(t-e)/(255*n);let o=0;for(let l=0;l<=n;l++){const e=Math.round(c+l*r),t=s+l*a;for(let n=o;n<=e;n++)i[n]=t;o=e+1}for(let l=o;l<256;l++)i[l]=i[o-1];return i.join(",")},f=`g_${this.#An}_hcm_${e}_filter`,g=a.filter=this.#Mn(f);return this.#In(g),this.#Pn(p(d[0],h[0],5),p(d[1],h[1],5),p(d[2],h[2],5),g),a.url=`url(#${f})`,a.url}destroy(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&0!==this.#Cn.size||(this.#xn&&(this.#xn.parentNode.parentNode.remove(),this.#xn=null),this.#Sn&&(this.#Sn.clear(),this.#Sn=null),this.#v=0)}#Nn(e){const t=this.#En.createElementNS(bu,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#In(e){const t=this.#En.createElementNS(bu,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#Mn(e){const t=this.#En.createElementNS(bu,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#Tn.append(t),t}#Fn(e,t,n){const i=this.#En.createElementNS(bu,t);i.setAttribute("type","discrete"),i.setAttribute("tableValues",n),e.append(i)}#Pn(e,t,n,i){const r=this.#En.createElementNS(bu,"feComponentTransfer");i.append(r),this.#Fn(r,"feFuncR",e),this.#Fn(r,"feFuncG",t),this.#Fn(r,"feFuncB",n)}#Dn(e,t){const n=this.#En.createElementNS(bu,"feComponentTransfer");t.append(n),this.#Fn(n,"feFuncA",e)}#Ln(e){return this.#Tn.style.color=e,Ou(getComputedStyle(this.#Tn).getPropertyValue("color"))}},jh=Fl?class extends mu{_fetchData(e){return dd(e)}}:Su;function zh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof e||e instanceof URL?e={url:e}:(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});const t=new Uh,{docId:n}=t,i=e.url?function(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch{if(Fl&&"string"===typeof e)return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(e.url):null,r=e.data?function(e){if(Fl&&"undefined"!==typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"===typeof e)return Xc(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||"object"===typeof e&&!isNaN(e?.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(e.data):null,s=e.httpHeaders||null,a=!0===e.withCredentials,o=e.password??null,l=e.range instanceof Vh?e.range:null,c=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:Dh;let u=e.worker instanceof qh?e.worker:null;const d=e.verbosity,h="string"!==typeof e.docBaseUrl||ku(e.docBaseUrl)?null:e.docBaseUrl,p="string"===typeof e.cMapUrl?e.cMapUrl:null,f=!1!==e.cMapPacked,g=e.CMapReaderFactory||Fh,m="string"===typeof e.standardFontDataUrl?e.standardFontDataUrl:null,v=e.StandardFontDataFactory||jh,b=!0!==e.stopAtErrors,y=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,w=!1!==e.isEvalSupported,_="boolean"===typeof e.isOffscreenCanvasSupported?e.isOffscreenCanvasSupported:!Fl,S=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,x="boolean"===typeof e.disableFontFace?e.disableFontFace:Fl,A=!0===e.fontExtraProperties,E=!0===e.enableXfa,k=e.ownerDocument||globalThis.document,C=!0===e.disableRange,T=!0===e.disableStream,R=!0===e.disableAutoFetch,M=!0===e.pdfBug,P=!0===e.enableHWA,L=l?l.length:e.length??NaN,I="boolean"===typeof e.useSystemFonts?e.useSystemFonts:!Fl&&!x,D="boolean"===typeof e.useWorkerFetch?e.useWorkerFetch:g===_u&&v===Su&&p&&m&&Pu(p,document.baseURI)&&Pu(m,document.baseURI),N=e.canvasFactory||new Nh({ownerDocument:k,enableHWA:P}),F=e.filterFactory||new Oh({docId:n,ownerDocument:k});Lc(d);const O={canvasFactory:N,filterFactory:F};if(D||(O.cMapReaderFactory=new g({baseUrl:p,isCompressed:f}),O.standardFontDataFactory=new v({baseUrl:m})),!u){const e={verbosity:d,port:Bd.workerPort};u=e.port?qh.fromPort(e):new qh(e),t._worker=u}const j={docId:n,apiVersion:"4.4.168",data:r,password:o,disableAutoFetch:R,rangeChunkSize:c,length:L,docBaseUrl:h,enableXfa:E,evaluatorOptions:{maxImageSize:y,disableFontFace:x,ignoreErrors:b,isEvalSupported:w,isOffscreenCanvasSupported:_,canvasMaxAreaInBytes:S,fontExtraProperties:A,useSystemFonts:I,cMapUrl:D?p:null,standardFontDataUrl:D?m:null}},z={disableFontFace:x,fontExtraProperties:A,ownerDocument:k,pdfBug:M,styleElement:null,loadingParams:{disableAutoFetch:R,enableXfa:E}};return u.promise.then((function(){if(t.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const e=u.messageHandler.sendWithPromise("GetDocRequest",j,r?[r.buffer]:null);let o;if(l)o=new ih(l,{disableRange:C,disableStream:T});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");o=(e=>{if(Fl){return function(){return"undefined"!==typeof fetch&&"undefined"!==typeof Response&&"body"in Response.prototype}()&&Pu(e.url)?new ph(e):new _h(e)}return Pu(e.url)?new ph(e):new vh(e)})({url:i,length:L,httpHeaders:s,withCredentials:a,rangeChunkSize:c,disableRange:C,disableStream:T})}return e.then((e=>{if(t.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const i=new Jd(n,e,u.port),r=new Kh(i,t,o,z,O);t._transport=r,i.send("Ready",null)}))})).catch(t._capability.reject),t}function Bh(e){return"object"===typeof e&&Number.isInteger(e?.num)&&e.num>=0&&Number.isInteger(e?.gen)&&e.gen>=0}class Uh{static#An=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId="d"+Uh.#An++,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await(this._transport?.destroy())}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}class Vh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(e,t)}))}onDataProgressiveRead(e){this._readyCapability.promise.then((()=>{for(const t of this._progressiveReadListeners)t(e)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const e of this._progressiveDoneListeners)e()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Fc("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Hh{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return zc(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class $h{#On=null;#jn=!1;constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new Mu:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new Yh,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Au({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:r})}getAnnotations(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return zc(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render(e){let{canvasContext:t,viewport:n,intent:i="display",annotationMode:r=ql.ENABLE,transform:s=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:u=null}=e;this._stats?.time("Overall");const d=this._transport.getRenderingIntent(i,r,u),{renderingIntent:h,cacheKey:p}=d;this.#jn=!1,this.#zn(),o||=this._transport.getOptionalContentConfig(h);let f=this._intentStates.get(p);f||(f=Object.create(null),this._intentStates.set(p,f)),f.streamReaderCancelTimeout&&(clearTimeout(f.streamReaderCancelTimeout),f.streamReaderCancelTimeout=null);const g=!!(h&Vl);f.displayReadyCapability||(f.displayReadyCapability=Promise.withResolvers(),f.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(d));const m=e=>{f.renderTasks.delete(v),(this._maybeCleanupAfterRender||g)&&(this.#jn=!0),this.#Bn(!g),e?(v.capability.reject(e),this._abortOperatorList({intentState:f,reason:e instanceof Error?e:new Error(e)})):v.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},v=new Jh({callback:m,params:{canvasContext:t,viewport:n,transform:s,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:f.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!g,pdfBug:this._pdfBug,pageColors:c});(f.renderTasks||=new Set).add(v);const b=v.task;return Promise.all([f.displayReadyCapability.promise,o]).then((e=>{let[t,n]=e;if(this.destroyed)m();else{if(this._stats?.time("Rendering"),!(n.renderingIntent&h))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");v.initializeGraphics({transparency:t,optionalContentConfig:n}),v.operatorListChanged()}})).catch(m),b}getOperatorList(){let{intent:e="display",annotationMode:t=ql.ENABLE,printAnnotationStorage:n=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this._transport.getRenderingIntent(e,t,n,!0);let r,s=this._intentStates.get(i.cacheKey);return s||(s=Object.create(null),this._intentStates.set(i.cacheKey,s)),s.opListReadCapability||(r=Object.create(null),r.operatorListChanged=function(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(r))},s.opListReadCapability=Promise.withResolvers(),(s.renderTasks||=new Set).add(r),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(i)),s.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:e=!1,disableNormalization:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((e=>Ih.textContent(e)));const t=this.streamTextContent(e);return new Promise((function(e,n){const i=t.getReader(),r={items:[],styles:Object.create(null),lang:null};!function t(){i.read().then((function(n){let{value:i,done:s}=n;s?e(r):(r.lang??=i.lang,Object.assign(r.styles,i.styles),r.items.push(...i.items),t())}),n)}()}))}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#jn=!1,this.#zn(),Promise.all(e)}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#jn=!0;const t=this.#Bn(!1);return e&&t&&(this._stats&&=new Mu),t}#Bn(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.#zn(),!this.#jn||this.destroyed)return!1;if(e)return this.#On=setTimeout((()=>{this.#On=null,this.#Bn(!1)}),5e3),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#jn=!1,!0}#zn(){this.#On&&(clearTimeout(this.#On),this.#On=null)}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&this.#Bn(!0)}_pumpOperatorList(e){let{renderingIntent:t,cacheKey:n,annotationStorageSerializable:i}=e;const{map:r,transfer:s}=i,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:r},s).getReader(),o=this._intentStates.get(n);o.streamReader=a;const l=()=>{a.read().then((e=>{let{value:t,done:n}=e;n?o.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,o),l())}),(e=>{if(o.streamReader=null,!this._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;for(const e of o.renderTasks)e.operatorListChanged();this.#Bn(!0)}if(o.displayReadyCapability)o.displayReadyCapability.reject(e);else{if(!o.opListReadCapability)throw e;o.opListReadCapability.reject(e)}}}))};l()}_abortOperatorList(e){let{intentState:t,reason:n,force:i=!1}=e;if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(n instanceof Eu){let e=100;return n.extraDelay>0&&n.extraDelay<1e3&&(e+=n.extraDelay),void(t.streamReaderCancelTimeout=setTimeout((()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})}),e))}}if(t.streamReader.cancel(new qc(n.message)).catch((()=>{})),t.streamReader=null,!this._transport.destroyed){for(const[e,n]of this._intentStates)if(n===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}class Wh{#Un=new Set;#Vn=Promise.resolve();postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};this.#Vn.then((()=>{for(const e of this.#Un)e.call(this,n)}))}addEventListener(e,t){this.#Un.add(t)}removeEventListener(e,t){this.#Un.delete(t)}terminate(){this.#Un.clear()}}const Gh={isWorkerDisabled:!1,fakeWorkerId:0};Fl&&(Gh.isWorkerDisabled=!0,Bd.workerSrc||="./pdf.worker.mjs"),Gh.isSameOrigin=function(e,t){let n;try{if(n=new URL(e),!n.origin||"null"===n.origin)return!1}catch{return!1}const i=new URL(t,n);return n.origin===i.origin},Gh.createCDNWrapper=function(e){const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};class qh{static#Hn;constructor(){let{name:e=null,port:t=null,verbosity:n=Ic()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if(qh.#Hn?.has(t))throw new Error("Cannot use more than one PDFWorker per port.");return(qh.#Hn||=new WeakMap).set(t,this),void this._initializeFromPort(t)}this._initialize()}get promise(){return Fl?Promise.all([ud.promise,this._readyCapability.promise]):this._readyCapability.promise}#$n(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Jd("main","worker",e),this._messageHandler.on("ready",(function(){})),this.#$n()}_initialize(){if(Gh.isWorkerDisabled||qh.#Wn)return void this._setupFakeWorker();let{workerSrc:e}=qh;try{Gh.isSameOrigin(window.location.href,e)||(e=Gh.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Jd("main","worker",t),i=()=>{r.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=new AbortController;t.addEventListener("error",(()=>{this._webWorker||i()}),{signal:r.signal}),n.on("test",(e=>{r.abort(),!this.destroyed&&e?(this._messageHandler=n,this._port=t,this._webWorker=t,this.#$n()):i()})),n.on("ready",(e=>{if(r.abort(),this.destroyed)i();else try{s()}catch{this._setupFakeWorker()}}));const s=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void s()}catch{Dc("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Gh.isWorkerDisabled||(Nc("Setting up fake worker."),Gh.isWorkerDisabled=!0),qh._setupFakeWorkerGlobal.then((e=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const t=new Wh;this._port=t;const n="fake"+Gh.fakeWorkerId++,i=new Jd(n+"_worker",n,t);e.setup(i,t),this._messageHandler=new Jd(n,n+"_worker",t),this.#$n()})).catch((e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))}))}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),qh.#Hn?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const t=this.#Hn?.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new qh(e)}static get workerSrc(){if(Bd.workerSrc)return Bd.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#Wn(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return zc(this,"_setupFakeWorkerGlobal",(async()=>{if(this.#Wn)return this.#Wn;return(await import(this.workerSrc)).WorkerMessageHandler})())}}class Kh{#Gn=new Map;#qn=new Map;#Kn=new Map;#Xn=new Map;#Yn=null;constructor(e,t,n,i,r){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Yh,this.fontLoader=new ad({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#Qn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.#Gn.get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return this.#Gn.set(e,i),i}get annotationStorage(){return zc(this,"annotationStorage",new rd)}getRenderingIntent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ql.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=Ul,s=id;switch(e){case"any":r=Bl;break;case"display":break;case"print":r=Vl;break;default:Nc(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case ql.DISABLE:r+=Wl;break;case ql.ENABLE:break;case ql.ENABLE_FORMS:r+=Hl;break;case ql.ENABLE_STORAGE:r+=$l;s=(r&Vl&&n instanceof sd?n:this.annotationStorage).serializable;break;default:Nc(`getRenderingIntent - invalid annotationMode: ${t}`)}return i&&(r+=Gl),{renderingIntent:r,cacheKey:`${r}_${s.hash}`,annotationStorageSerializable:s}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#Yn?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const n of this.#qn.values())e.push(n._destroy());this.#qn.clear(),this.#Kn.clear(),this.#Xn.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then((()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#Gn.clear(),this.filterFactory.destroy(),Mh.cleanup(),this._networkStream?.cancelAllRequests(new qc("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",((e,t)=>{Oc(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then((function(e){let{value:n,done:i}=e;i?t.close():(Oc(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}})),e.on("ReaderHeadersReady",(e=>{const n=Promise.withResolvers(),i=this._fullReader;return i.headersReady.then((()=>{i.isStreamingSupported&&i.isRangeSupported||(this._lastProgress&&t.onProgress?.(this._lastProgress),i.onProgress=e=>{t.onProgress?.({loaded:e.loaded,total:e.total})}),n.resolve({isStreamingSupported:i.isStreamingSupported,isRangeSupported:i.isRangeSupported,contentLength:i.contentLength})}),n.reject),n.promise})),e.on("GetRangeReader",((e,t)=>{Oc(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then((function(e){let{value:n,done:i}=e;i?t.close():(Oc(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{n.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}):t.close()})),e.on("GetDoc",(e=>{let{pdfInfo:n}=e;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new Hh(n,this))})),e.on("DocException",(function(e){let n;switch(e.name){case"PasswordException":n=new Uc(e.message,e.code);break;case"InvalidPDFException":n=new Hc(e.message);break;case"MissingPDFException":n=new $c(e.message);break;case"UnexpectedResponseException":n=new Wc(e.message,e.status);break;case"UnknownErrorException":n=new Vc(e.message,e.details);break;default:Fc("DocException - expected a valid Error.")}t._capability.reject(n)})),e.on("PasswordRequest",(e=>{if(this.#Yn=Promise.withResolvers(),t.onPassword){const i=e=>{e instanceof Error?this.#Yn.reject(e):this.#Yn.resolve({password:e})};try{t.onPassword(i,e.code)}catch(n){this.#Yn.reject(n)}}else this.#Yn.reject(new Uc(e.message,e.code));return this.#Yn.promise})),e.on("DataLoaded",(e=>{t.onProgress?.({loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(e=>{if(this.destroyed)return;this.#qn.get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)})),e.on("commonobj",(t=>{let[n,i,r]=t;if(this.destroyed)return null;if(this.commonObjs.has(n))return null;switch(i){case"Font":const{disableFontFace:t,fontExtraProperties:s,pdfBug:a}=this._params;if("error"in r){const e=r.error;Nc(`Error during font loading: ${e}`),this.commonObjs.resolve(n,e);break}const o=a&&globalThis.FontInspector?.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null,l=new od(r,{disableFontFace:t,inspectFont:o});this.fontLoader.bind(l).catch((()=>e.sendWithPromise("FontFallback",{id:n}))).finally((()=>{!s&&l.data&&(l.data=null),this.commonObjs.resolve(n,l)}));break;case"CopyLocalImage":const{imageRef:c}=r;Oc(c,"The imageRef must be defined.");for(const e of this.#qn.values())for(const[,t]of e.objs)if(t?.ref===c)return t.dataLen?(this.commonObjs.resolve(n,structuredClone(t)),t.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,r);break;default:throw new Error(`Got unknown common object type ${i}`)}return null})),e.on("obj",(e=>{let[t,n,i,r]=e;if(this.destroyed)return;const s=this.#qn.get(n);if(!s.objs.has(t))if(0!==s._intentStates.size)switch(i){case"Image":s.objs.resolve(t,r),r?.dataLen>1e7&&(s._maybeCleanupAfterRender=!0);break;case"Pattern":s.objs.resolve(t,r);break;default:throw new Error(`Got unknown object type ${i}`)}else r?.bitmap?.close()})),e.on("DocProgress",(e=>{this.destroyed||t.onProgress?.({loaded:e.loaded,total:e.total})})),e.on("FetchBuiltInCMap",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.")))),e.on("FetchStandardFontData",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Nc("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally((()=>{this.annotationStorage.resetModified()}))}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#Kn.get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then((n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&this.#Xn.set(n.refStr,e);const i=new $h(t,n,this,this._params.pdfBug);return this.#qn.set(t,i),i}));return this.#Kn.set(t,i),i}getPageIndex(e){return Bh(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#Qn("GetFieldObjects")}hasJSActions(){return this.#Qn("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#Qn("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#Qn("GetOptionalContentConfig").then((t=>new nh(t,e)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#Gn.get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then((e=>({info:e[0],metadata:e[1]?new Zd(e[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})));return this.#Gn.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#qn.values()){if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`)}this.commonObjs.clear(),e||this.fontLoader.clear(),this.#Gn.clear(),this.filterFactory.destroy(!0),Mh.cleanup()}}cachedPageNumber(e){if(!Bh(e))return null;const t=0===e.gen?`${e.num}R`:`${e.num}R${e.gen}`;return this.#Xn.get(t)??null}}const Xh=Symbol("INITIAL_DATA");class Yh{#Jn=Object.create(null);#Zn(e){return this.#Jn[e]||={...Promise.withResolvers(),data:Xh}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){const n=this.#Zn(e);return n.promise.then((()=>t(n.data))),null}const n=this.#Jn[e];if(!n||n.data===Xh)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this.#Jn[e];return!!t&&t.data!==Xh}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.#Zn(e);n.data=t,n.resolve()}clear(){for(const e in this.#Jn){const{data:t}=this.#Jn[e];t?.bitmap?.close()}this.#Jn=Object.create(null)}*[Symbol.iterator](){for(const e in this.#Jn){const{data:t}=this.#Jn[e];t!==Xh&&(yield[e,t])}}}class Qh{#ei=null;constructor(e){this.#ei=e,this.onContinue=null}get promise(){return this.#ei.capability.promise}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.#ei.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#ei.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#ei;return e.form||e.canvas&&t?.size>0}}class Jh{#ti=null;static#ni=new WeakSet;constructor(e){let{callback:t,params:n,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:h=null}=e;this.callback=t,this.params=n,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===u&&"undefined"!==typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Qh(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics(e){let{transparency:t=!1,optionalContentConfig:n}=e;if(this.cancelled)return;if(this._canvas){if(Jh.#ni.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Jh.#ni.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:r,transform:s,background:a}=this.params;this.gfx=new zd(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:t,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#ti&&(window.cancelAnimationFrame(this.#ti),this.#ti=null),Jh.#ni.delete(this._canvas),this.callback(e||new Eu(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#ti=window.requestAnimationFrame((()=>{this.#ti=null,this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Jh.#ni.delete(this._canvas),this.callback())))}}const Zh="4.4.168",ep="19fbc8998";function tp(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function np(e){return Math.max(0,Math.min(255,255*e))}class ip{static CMYK_G(e){let[t,n,i,r]=e;return["G",1-Math.min(1,.3*t+.59*i+.11*n+r)]}static G_CMYK(e){let[t]=e;return["CMYK",0,0,0,1-t]}static G_RGB(e){let[t]=e;return["RGB",t,t,t]}static G_rgb(e){let[t]=e;return t=np(t),[t,t,t]}static G_HTML(e){let[t]=e;const n=tp(t);return`#${n}${n}${n}`}static RGB_G(e){let[t,n,i]=e;return["G",.3*t+.59*n+.11*i]}static RGB_rgb(e){return e.map(np)}static RGB_HTML(e){return`#${e.map(tp).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(e){let[t,n,i,r]=e;return["RGB",1-Math.min(1,t+r),1-Math.min(1,i+r),1-Math.min(1,n+r)]}static CMYK_rgb(e){let[t,n,i,r]=e;return[np(1-Math.min(1,t+r)),np(1-Math.min(1,i+r)),np(1-Math.min(1,n+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK(e){let[t,n,i]=e;const r=1-t,s=1-n,a=1-i;return["CMYK",r,s,a,Math.min(r,s,a)]}}class rp{static setupStorage(e,t,n,i,r){const s=i.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==s.value&&(e.textContent=s.value),"print"===r)break;e.addEventListener("input",(e=>{i.setValue(t,{value:e.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(s.value===n.attributes.xfaOn?e.setAttribute("checked",!0):s.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===r)break;e.addEventListener("change",(e=>{i.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})}))}else{if(null!==s.value&&e.setAttribute("value",s.value),"print"===r)break;e.addEventListener("input",(e=>{i.setValue(t,{value:e.target.value})}))}break;case"select":if(null!==s.value){e.setAttribute("value",s.value);for(const e of n.children)e.attributes.value===s.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}e.addEventListener("input",(e=>{const n=e.target.options,r=-1===n.selectedIndex?"":n[n.selectedIndex].value;i.setValue(t,{value:r})}))}}static setAttributes(e){let{html:t,element:n,storage:i=null,intent:r,linkService:s}=e;const{attributes:a}=n,o=t instanceof HTMLAnchorElement;"radio"===a.type&&(a.name=`${a.name}-${r}`);for(const[l,c]of Object.entries(a))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&t.setAttribute(l,c)}o&&s.addLinkAttributes(t,a.href,a.newWindow),i&&a.dataId&&this.setupStorage(t,a.dataId,n,i)}static render(e){const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,r=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:r,linkService:n});const a="richText"!==r,o=e.div;if(o.append(s),e.viewport){const t=`matrix(${e.viewport.transform.join(",")})`;o.style.transform=t}a&&o.setAttribute("class","xfaLayer xfaFont");const l=[];if(0===i.children.length){if(i.value){const e=document.createTextNode(i.value);s.append(e),a&&Ih.shouldBuildText(i.name)&&l.push(e)}return{textDivs:l}}const c=[[i,-1,s]];for(;c.length>0;){const[e,i,s]=c.at(-1);if(i+1===e.children.length){c.pop();continue}const o=e.children[++c.at(-1)[1]];if(null===o)continue;const{name:u}=o;if("#text"===u){const e=document.createTextNode(o.value);l.push(e),s.append(e);continue}const d=o?.attributes?.xmlns?document.createElementNS(o.attributes.xmlns,u):document.createElement(u);if(s.append(d),o.attributes&&this.setAttributes({html:d,element:o,storage:t,intent:r,linkService:n}),o.children?.length>0)c.push([o,-1,d]);else if(o.value){const e=document.createTextNode(o.value);a&&Ih.shouldBuildText(u)&&l.push(e),d.append(e)}}for(const u of o.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))u.setAttribute("readOnly",!0);return{textDivs:l}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const sp=1e3,ap=new WeakSet;function op(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class lp{static create(e){switch(e.data.annotationType){case sc:return new up(e);case rc:return new dp(e);case _c:switch(e.data.fieldType){case"Tx":return new pp(e);case"Btn":return e.data.radioButton?new mp(e):e.data.checkBox?new gp(e):new vp(e);case"Ch":return new bp(e);case"Sig":return new fp(e)}return new hp(e);case yc:return new yp(e);case ac:return new _p(e);case oc:return new Sp(e);case lc:return new xp(e);case cc:return new Ap(e);case dc:return new Ep(e);case vc:return new Cp(e);case bc:return new Tp(e);case uc:return new kp(e);case hc:return new Rp(e);case pc:return new Mp(e);case fc:return new Pp(e);case gc:return new Lp(e);case mc:return new Ip(e);case wc:return new Dp(e);default:return new cp(e)}}}class cp{#ii=null;#ri=!1;#si=null;constructor(e){let{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData(e){let{titleObj:t,contentsObj:n,richText:i}=e;return!!(t?.str||n?.str||i?.str)}get hasPopupData(){return cp._hasPopupData(this.data)}updateEdited(e){if(!this.container)return;this.#ii||={rect:this.data.rect.slice(0)};const{rect:t}=e;t&&this.#ai(t),this.#si?.popup.updateEdited(e)}resetEdited(){this.#ii&&(this.#ai(this.#ii.rect),this.#si?.popup.resetEdited(),this.#ii=null)}#ai(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:s,pageX:a,pageY:o}}}}=this;n?.splice(0,4,...e);const{width:l,height:c}=op(e);t.left=100*(e[0]-a)/r+"%",t.top=100*(s-e[3]+o)/s+"%",0===i?(t.width=100*l/r+"%",t.height=100*c/s+"%"):this.setRotation(i)}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",t.id),this instanceof hp||(r.tabIndex=sp);const{style:s}=r;if(s.zIndex=this.parent.zIndex++,t.popupRef&&r.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(r.title=t.alternativeText),t.noRotate&&r.classList.add("norotate"),!t.rect||this instanceof yp){const{rotation:e}=t;return t.hasOwnCanvas||0===e||this.setRotation(e,r),r}const{width:a,height:o}=op(t.rect);if(!e&&t.borderStyle.width>0){s.borderWidth=`${t.borderStyle.width}px`;const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t=`calc(${e}px * var(--scale-factor)) / calc(${n}px * var(--scale-factor))`;s.borderRadius=t}else if(this instanceof mp){const e=`calc(${a}px * var(--scale-factor)) / calc(${o}px * var(--scale-factor))`;s.borderRadius=e}switch(t.borderStyle.style){case Sc:s.borderStyle="solid";break;case xc:s.borderStyle="dashed";break;case Ac:Nc("Unimplemented border style: beveled");break;case Ec:Nc("Unimplemented border style: inset");break;case kc:s.borderBottomStyle="solid"}const i=t.borderColor||null;i?(this.#ri=!0,s.borderColor=Zc.makeHexColor(0|i[0],0|i[1],0|i[2])):s.borderWidth=0}const l=Zc.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:u,pageX:d,pageY:h}=i.rawDims;s.left=100*(l[0]-d)/c+"%",s.top=100*(l[1]-h)/u+"%";const{rotation:p}=t;return t.hasOwnCanvas||0===p?(s.width=100*a/c+"%",s.height=100*o/u+"%"):this.setRotation(p,r),r}setRotation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims,{width:r,height:s}=op(this.data.rect);let a,o;e%180===0?(a=100*r/n,o=100*s/i):(a=100*s/n,o=100*r/i),t.style.width=`${a}%`,t.style.height=`${o}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const i=n.detail[e],r=i[0],s=i.slice(1);n.target.style[t]=ip[`${r}_HTML`](s),this.annotationStorage.setValue(this.data.id,{[t]:ip[`${r}_rgb`](s)})};return zc(this,"_commonActions",{display:e=>{const{display:t}=e.detail,n=t%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===t||2===t})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:t}=e.detail;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:t,noView:t})},focus:e=>{setTimeout((()=>e.target.focus({preventScroll:!1})),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail)){const r=e[i]||n[i];r?.(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,r]of Object.entries(t)){const s=n[i];if(s){s({detail:{[i]:r},target:e}),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,r]=this.data.rect.map((e=>Math.fround(e)));if(8===e.length){const[s,a,o,l]=e.subarray(2,6);if(i===s&&r===a&&t===o&&n===l)return}const{style:s}=this.container;let a;if(this.#ri){const{borderColor:e,borderWidth:t}=s;s.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${e}" stroke-width="${t}">`],this.container.classList.add("hasBorder")}const o=i-t,l=r-n,{svgFactory:c}=this,u=c.createElement("svg");u.classList.add("quadrilateralsContainer"),u.setAttribute("width",0),u.setAttribute("height",0);const d=c.createElement("defs");u.append(d);const h=c.createElement("clipPath"),p=`clippath_${this.data.id}`;h.setAttribute("id",p),h.setAttribute("clipPathUnits","objectBoundingBox"),d.append(h);for(let f=2,g=e.length;f<g;f+=8){const n=e[f],i=e[f+1],s=e[f+2],u=e[f+3],d=c.createElement("rect"),p=(s-t)/o,g=(r-i)/l,m=(n-s)/o,v=(i-u)/l;d.setAttribute("x",p),d.setAttribute("y",g),d.setAttribute("width",m),d.setAttribute("height",v),h.append(d),a?.push(`<rect vector-effect="non-scaling-stroke" x="${p}" y="${g}" width="${m}" height="${v}"/>`)}this.#ri&&(a.push("</g></svg>')"),s.backgroundImage=a.join("")),this.container.append(u),this.container.style.clipPath=`url(#${p})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const n=this.#si=new yp({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(n.render())}render(){Fc("Abstract method `AnnotationElement.render` called")}_getElementsByName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:e,id:r,exportValues:s}of i){if(-1===e)continue;if(r===t)continue;const i="string"===typeof s?s:null,a=document.querySelector(`[data-element-id="${r}"]`);!a||ap.has(a)?n.push({id:r,exportValue:i,domElement:a}):Nc(`_getElementsByName - element not allowed: ${r}`)}return n}for(const i of document.getElementsByName(e)){const{exportValue:e}=i,r=i.getAttribute("data-element-id");r!==t&&(ap.has(i)&&n.push({id:r,exportValue:e,domElement:i}))}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",(()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})}))}}class up extends cp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let i=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(n,e.action),i=!0):e.attachment?(this.#oi(n,e.attachment,e.attachmentDest),i=!0):e.setOCGState?(this.#li(n,e.setOCGState),i=!0):e.dest?(this._bindLink(n,e.dest),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),i=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(n,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(n),this.container}#ci(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&this.#ci()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#ci()}#oi(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,n),!1),this.#ci()}#li(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#ci()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(t.actions)){const r=n.get(i);r&&(e[r]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:i}}),!1))}e.onclick||(e.onclick=()=>!1),this.#ci()}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),this.#ci(),!this._fieldObjects)return Nc('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=()=>!1));e.onclick=()=>{n?.();const{fields:e,refs:i,include:r}=t,s=[];if(0!==e.length||0!==i.length){const t=new Set(i);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===r&&s.push(n)}else for(const t of Object.values(this._fieldObjects))s.push(...t);const a=this.annotationStorage,o=[];for(const t of s){const{id:e}=t;switch(o.push(e),t.type){case"text":{const n=t.defaultValue||"";a.setValue(e,{value:n});break}case"checkbox":case"radiobutton":{const n=t.defaultValue===t.exportValues;a.setValue(e,{value:n});break}case"combobox":case"listbox":{const n=t.defaultValue||"";a.setValue(e,{value:n});break}default:continue}const n=document.querySelector(`[data-element-id="${e}"]`);n&&(ap.has(n)?n.dispatchEvent(new Event("resetform")):Nc(`_bindResetFormAction - element not allowed: ${e}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:o,name:"ResetForm"}}),!1}}}class dp extends cp{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class hp extends cp{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&("CANVAS"===e.previousSibling?.nodeName&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Qc.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,r){n.includes("mouse")?e.addEventListener(n,(e=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})})):e.addEventListener(n,(e=>{if("blur"===n){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===n){if(t.focused)return;t.focused=!0}r&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(e)}})}))}_setEventListeners(e,t,n,i){for(const[r,s]of n)("Action"===s||this.data.actions?.[s])&&("Focus"!==s&&"Blur"!==s||(t||={focused:!1}),this._setEventListener(e,t,r,s,i),"Focus"!==s||this.data.actions?.Blur?"Blur"!==s||this.data.actions?.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":Zc.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||9,r=e.style;let s;const a=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(zl*i))||1);s=Math.min(i,a(t/zl))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);s=Math.min(i,a(e/zl))}r.fontSize=`calc(${s}px * var(--scale-factor))`,r.color=Zc.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(r.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class pp extends hp{constructor(e){super(e,{isRenderable:e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,i){const r=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[t]=n),r.setValue(s.id,{[i]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const i=e.getValue(t,{value:this.data.fieldValue});let r=i.value||"";const s=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;s&&r.length>s&&(r=r.slice(0,s));let a=i.formattedValue||this.data.textContent?.join("\n")||null;a&&this.data.comb&&(a=a.replaceAll(/\s+/g,""));const o={userValue:r,formattedValue:a,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=a??r,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",a??r),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),ap.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=sp,this._setRequired(n,this.data.required),s&&(n.maxLength=s),n.addEventListener("input",(i=>{e.setValue(t,{value:i.target.value}),this.setPropertyOnSiblings(n,"value",i.target.value,"value"),o.formattedValue=null})),n.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue??"";n.value=o.userValue=t,o.formattedValue=null}));let l=e=>{const{formattedValue:t}=o;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",(e=>{if(o.focused)return;const{target:t}=e;o.userValue&&(t.value=o.userValue),o.lastCommittedValue=t.value,o.commitKey=1,this.data.actions?.Focus||(o.focused=!0)})),n.addEventListener("updatefromsandbox",(n=>{this.showElementAndHideCanvas(n.target);const i={value(n){o.userValue=n.detail.value??"",e.setValue(t,{value:o.userValue.toString()}),n.target.value=o.userValue},formattedValue(n){const{formattedValue:i}=n.detail;o.formattedValue=i,null!==i&&void 0!==i&&n.target!==document.activeElement&&(n.target.value=i),e.setValue(t,{formattedValue:i})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:n=>{const{charLimit:i}=n.detail,{target:r}=n;if(0===i)return void r.removeAttribute("maxLength");r.setAttribute("maxLength",i);let s=o.userValue;!s||s.length<=i||(s=s.slice(0,i),r.value=o.userValue=s,e.setValue(t,{value:s}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:s,willCommit:!0,commitKey:1,selStart:r.selectionStart,selEnd:r.selectionEnd}}))}};this._dispatchEventFromSandbox(i,n)})),n.addEventListener("keydown",(e=>{o.commitKey=1;let n=-1;if("Escape"===e.key?n=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(o.commitKey=3):n=2,-1===n)return;const{value:i}=e.target;o.lastCommittedValue!==i&&(o.lastCommittedValue=i,o.userValue=i,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:n,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))}));const i=l;l=null,n.addEventListener("blur",(e=>{if(!o.focused||!e.relatedTarget)return;this.data.actions?.Blur||(o.focused=!1);const{value:n}=e.target;o.userValue=n,o.lastCommittedValue!==n&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:n,willCommit:!0,commitKey:o.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}),i(e)})),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",(e=>{o.lastCommittedValue=null;const{data:n,target:i}=e,{value:r,selectionStart:s,selectionEnd:a}=i;let l=s,c=a;switch(e.inputType){case"deleteWordBackward":{const e=r.substring(0,s).match(/\w*[^\w]*$/);e&&(l-=e[0].length);break}case"deleteWordForward":{const e=r.substring(s).match(/^[^\w]*\w*/);e&&(c+=e[0].length);break}case"deleteContentBackward":s===a&&(l-=1);break;case"deleteContentForward":s===a&&(c+=1)}e.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:r,change:n||"",willCommit:!1,selStart:l,selEnd:c}})})),this._setEventListeners(n,o,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.value))}if(l&&n.addEventListener("blur",l),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/s;n.classList.add("comb"),n.style.letterSpacing=`calc(${e}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class fp extends hp{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class gp extends hp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"===typeof i&&(i="Off"!==i,e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return ap.add(r),r.setAttribute("data-element-id",n),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.setAttribute("exportValue",t.exportValue),r.tabIndex=sp,r.addEventListener("change",(i=>{const{name:r,checked:s}=i.target;for(const a of this._getElementsByName(r,n)){const n=s&&a.exportValue===t.exportValue;a.domElement&&(a.domElement.checked=n),e.setValue(a.id,{value:n})}e.setValue(n,{value:s})})),r.addEventListener("resetform",(e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue})),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",(t=>{const i={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(i,t)})),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class mp extends hp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if("string"===typeof i&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const s of this._getElementsByName(t.fieldName,n))e.setValue(s.id,{value:!1});const r=document.createElement("input");if(ap.add(r),r.setAttribute("data-element-id",n),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.tabIndex=sp,r.addEventListener("change",(t=>{const{name:i,checked:r}=t.target;for(const s of this._getElementsByName(i,n))e.setValue(s.id,{value:!1});e.setValue(n,{value:r})})),r.addEventListener("resetform",(e=>{const n=t.defaultFieldValue;e.target.checked=null!==n&&void 0!==n&&n===t.buttonValue})),this.enableScripting&&this.hasJSActions){const i=t.buttonValue;r.addEventListener("updatefromsandbox",(t=>{const r={value:t=>{const r=i===t.detail.value;for(const i of this._getElementsByName(t.target.name)){const t=r&&i.id===n;i.domElement&&(i.domElement.checked=t),e.setValue(i.id,{value:t})}}};this._dispatchEventFromSandbox(r,t)})),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class vp extends up{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",(e=>{this._dispatchEventFromSandbox({},e)}))),e}}class bp extends hp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");ap.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=sp;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue;for(const n of i.options)n.selected=n.value===t}));for(const c of this.data.options){const e=document.createElement("option");e.textContent=c.displayValue,e.value=c.exportValue,n.value.includes(c.exportValue)&&(e.setAttribute("selected",!0),r=!1),i.append(e)}let s=null;if(r){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),i.prepend(e),s=()=>{e.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}const a=e=>{const t=e?"value":"textContent",{options:n,multiple:r}=i;return r?Array.prototype.filter.call(n,(e=>e.selected)).map((e=>e[t])):-1===n.selectedIndex?null:n[n.selectedIndex][t]};let o=a(!1);const l=e=>{const t=e.target.options;return Array.prototype.map.call(t,(e=>({displayValue:e.textContent,exportValue:e.value})))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",(n=>{const r={value(n){s?.();const r=n.detail.value,l=new Set(Array.isArray(r)?r:[r]);for(const e of i.options)e.selected=l.has(e.value);e.setValue(t,{value:a(!0)}),o=a(!1)},multipleSelection(e){i.multiple=!0},remove(n){const r=i.options,s=n.detail.remove;if(r[s].selected=!1,i.remove(s),r.length>0){-1===Array.prototype.findIndex.call(r,(e=>e.selected))&&(r[0].selected=!0)}e.setValue(t,{value:a(!0),items:l(n)}),o=a(!1)},clear(n){for(;0!==i.length;)i.remove(0);e.setValue(t,{value:null,items:[]}),o=a(!1)},insert(n){const{index:r,displayValue:s,exportValue:c}=n.detail.insert,u=i.children[r],d=document.createElement("option");d.textContent=s,d.value=c,u?u.before(d):i.append(d),e.setValue(t,{value:a(!0),items:l(n)}),o=a(!1)},items(n){const{items:r}=n.detail;for(;0!==i.length;)i.remove(0);for(const e of r){const{displayValue:t,exportValue:n}=e,r=document.createElement("option");r.textContent=t,r.value=n,i.append(r)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:l(n)}),o=a(!1)},indices(n){const i=new Set(n.detail.indices);for(const e of n.target.options)e.selected=i.has(e.index);e.setValue(t,{value:a(!0)}),o=a(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(r,n)})),i.addEventListener("input",(n=>{const i=a(!0),r=a(!1);e.setValue(t,{value:i}),n.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,change:r,changeEx:i,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(e=>e.target.value))):i.addEventListener("input",(function(n){e.setValue(t,{value:a(!0)})})),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class yp extends cp{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:cp._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new wp({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map((e=>`${iu}${e}`)).join(",")),this.container}}class wp{#ui=this.#di.bind(this);#hi=this.#pi.bind(this);#fi=this.#gi.bind(this);#mi=this.#vi.bind(this);#bi=null;#me=null;#yi=null;#wi=null;#_i=null;#Si=null;#xi=null;#Ai=!1;#Ei=null;#A=null;#ki=null;#Ci=null;#Ti=null;#ii=null;#Ri=!1;constructor(e){let{container:t,color:n,elements:i,titleObj:r,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:c,parentRect:u,open:d}=e;this.#me=t,this.#Ti=r,this.#yi=a,this.#Ci=o,this.#Si=l,this.#bi=n,this.#ki=c,this.#xi=u,this.#_i=i,this.#wi=Nu.toDateObject(s),this.trigger=i.flatMap((e=>e.getElementsToTriggerPopup()));for(const h of this.trigger)h.addEventListener("click",this.#mi),h.addEventListener("mouseenter",this.#fi),h.addEventListener("mouseleave",this.#hi),h.classList.add("popupTriggerArea");for(const h of i)h.container?.addEventListener("keydown",this.#ui);this.#me.hidden=!0,d&&this.#vi()}render(){if(this.#Ei)return;const e=this.#Ei=document.createElement("div");if(e.className="popup",this.#bi){const t=e.style.outlineColor=Zc.makeHexColor(...this.#bi);if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))e.style.backgroundColor=`color-mix(in srgb, ${t} 30%, white)`;else{const t=.7;e.style.backgroundColor=Zc.makeHexColor(...this.#bi.map((e=>Math.floor(t*(255-e)+e))))}}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),({dir:n.dir,str:n.textContent}=this.#Ti),e.append(t),this.#wi){const e=document.createElement("span");e.classList.add("popupDate"),e.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),e.setAttribute("data-l10n-args",JSON.stringify({date:this.#wi.toLocaleDateString(),time:this.#wi.toLocaleTimeString()})),t.append(e)}const i=this.#Mi;if(i)rp.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const t=this._formatContents(this.#yi);e.append(t)}this.#me.append(e)}get#Mi(){const e=this.#Ci,t=this.#yi;return!e?.str||t?.str&&t.str!==e.str?null:this.#Ci.html||null}get#Pi(){return this.#Mi?.attributes?.style?.fontSize||0}get#Li(){return this.#Mi?.attributes?.style?.color||null}#Ii(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:this.#Li,fontSize:this.#Pi?`calc(${this.#Pi}px * var(--scale-factor))`:""}};for(const r of e.split("\n"))t.push({name:"span",value:r,attributes:i});return n}_formatContents(e){let{str:t,dir:n}=e;const i=document.createElement("p");i.classList.add("popupContent"),i.dir=n;const r=t.split(/(?:\r\n?|\n)/);for(let s=0,a=r.length;s<a;++s){const e=r[s];i.append(document.createTextNode(e)),s<a-1&&i.append(document.createElement("br"))}return i}#di(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&this.#Ai)&&this.#vi()}updateEdited(e){let{rect:t,popupContent:n}=e;this.#ii||={contentsObj:this.#yi,richText:this.#Ci},t&&(this.#A=null),n&&(this.#Ci=this.#Ii(n),this.#yi=null),this.#Ei?.remove(),this.#Ei=null}resetEdited(){this.#ii&&(({contentsObj:this.#yi,richText:this.#Ci}=this.#ii),this.#ii=null,this.#Ei?.remove(),this.#Ei=null,this.#A=null)}#Di(){if(null!==this.#A)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:r}}}=this.#Si;let s=!!this.#xi,a=s?this.#xi:this.#ki;for(const h of this.#_i)if(!a||null!==Zc.intersect(h.data.rect,a)){a=h.data.rect,s=!0;break}const o=Zc.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),l=s?a[2]-a[0]+5:0,c=o[0]+l,u=o[1];this.#A=[100*(c-i)/t,100*(u-r)/n];const{style:d}=this.#me;d.left=`${this.#A[0]}%`,d.top=`${this.#A[1]}%`}#vi(){this.#Ai=!this.#Ai,this.#Ai?(this.#gi(),this.#me.addEventListener("click",this.#mi),this.#me.addEventListener("keydown",this.#ui)):(this.#pi(),this.#me.removeEventListener("click",this.#mi),this.#me.removeEventListener("keydown",this.#ui))}#gi(){this.#Ei||this.render(),this.isVisible?this.#Ai&&this.#me.classList.add("focused"):(this.#Di(),this.#me.hidden=!1,this.#me.style.zIndex=parseInt(this.#me.style.zIndex)+1e3)}#pi(){this.#me.classList.remove("focused"),!this.#Ai&&this.isVisible&&(this.#me.hidden=!0,this.#me.style.zIndex=parseInt(this.#me.style.zIndex)-1e3)}forceHide(){this.#Ri=this.isVisible,this.#Ri&&(this.#me.hidden=!0)}maybeShow(){this.#Ri&&(this.#Ei||this.#gi(),this.#Ri=!1,this.#me.hidden=!1)}get isVisible(){return!1===this.#me.hidden}}class _p extends cp{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Kl.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}class Sp extends cp{#Ni=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:t,height:n}=op(e.rect),i=this.svgFactory.create(t,n,!0),r=this.#Ni=this.svgFactory.createElement("svg:line");return r.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),r.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),r.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),r.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),r.setAttribute("stroke-width",e.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),i.append(r),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Ni}addHighlightArea(){this.container.classList.add("highlightArea")}}class xp extends cp{#Fi=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:t,height:n}=op(e.rect),i=this.svgFactory.create(t,n,!0),r=e.borderStyle.width,s=this.#Fi=this.svgFactory.createElement("svg:rect");return s.setAttribute("x",r/2),s.setAttribute("y",r/2),s.setAttribute("width",t-r),s.setAttribute("height",n-r),s.setAttribute("stroke-width",r||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Fi}addHighlightArea(){this.container.classList.add("highlightArea")}}class Ap extends cp{#Oi=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:t,height:n}=op(e.rect),i=this.svgFactory.create(t,n,!0),r=e.borderStyle.width,s=this.#Oi=this.svgFactory.createElement("svg:ellipse");return s.setAttribute("cx",t/2),s.setAttribute("cy",n/2),s.setAttribute("rx",t/2-r/2),s.setAttribute("ry",n/2-r/2),s.setAttribute("stroke-width",r||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Oi}addHighlightArea(){this.container.classList.add("highlightArea")}}class Ep extends cp{#ji=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:i}}=this;if(!t)return this.container;const{width:r,height:s}=op(e),a=this.svgFactory.create(r,s,!0);let o=[];for(let c=0,u=t.length;c<u;c+=2){const n=t[c]-e[0],i=e[3]-t[c+1];o.push(`${n},${i}`)}o=o.join(" ");const l=this.#ji=this.svgFactory.createElement(this.svgElementName);return l.setAttribute("points",o),l.setAttribute("stroke-width",n.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#ji}addHighlightArea(){this.container.classList.add("highlightArea")}}class kp extends Ep{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Cp extends cp{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Tp extends cp{#zi=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Kl.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:t,borderStyle:n,popupRef:i}}=this,{width:r,height:s}=op(e),a=this.svgFactory.create(r,s,!0);for(const o of t){let t=[];for(let n=0,i=o.length;n<i;n+=2){const i=o[n]-e[0],r=e[3]-o[n+1];t.push(`${i},${r}`)}t=t.join(" ");const r=this.svgFactory.createElement(this.svgElementName);this.#zi.push(r),r.setAttribute("points",t),r.setAttribute("stroke-width",n.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),!i&&this.hasPopupData&&this._createPopup(),a.append(r)}return this.container.append(a),this.container}getElementsToTriggerPopup(){return this.#zi}addHighlightArea(){this.container.classList.add("highlightArea")}}class Rp extends cp{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Mp extends cp{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Pp extends cp{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Lp extends cp{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Ip extends cp{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Dp extends cp{#Bi=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||0===t.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(100*t.fillAlpha)}%);`)),n.addEventListener("dblclick",this.#Ui.bind(this)),this.#Bi=n;const{isMac:i}=Qc.platform;return e.addEventListener("keydown",(e=>{"Enter"===e.key&&(i?e.metaKey:e.ctrlKey)&&this.#Ui()})),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return this.#Bi}addHighlightArea(){this.container.classList.add("highlightArea")}#Ui(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class Np{#Vi=null;#Hi=null;#$i=new Map;constructor(e){let{div:t,accessibilityManager:n,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:a}=e;this.div=t,this.#Vi=n,this.#Hi=i,this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=r}#Wi(e,t){const n=e.firstChild||e;n.id=`${iu}${t}`,this.div.append(e),this.#Vi?.moveElementInDOM(this.div,e,n,!1)}async render(e){const{annotations:t}=e,n=this.div;Bu(n,this.viewport);const i=new Map,r={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new xu,annotationStorage:e.annotationStorage||new rd,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const s of t){if(s.noHTML)continue;const e=s.annotationType===yc;if(e){const e=i.get(s.id);if(!e)continue;r.elements=e}else{const{width:e,height:t}=op(s.rect);if(e<=0||t<=0)continue}r.data=s;const t=lp.create(r);if(!t.isRenderable)continue;if(!e&&s.popupRef){const e=i.get(s.popupRef);e?e.push(t):i.set(s.popupRef,[t])}const n=t.render();s.hidden&&(n.style.visibility="hidden"),this.#Wi(n,s.id),t.annotationEditorType>0&&(this.#$i.set(t.data.id,t),this._annotationEditorUIManager?.renderAnnotationElement(t))}this.#Gi()}update(e){let{viewport:t}=e;const n=this.div;this.viewport=t,Bu(n,{rotation:t.rotation}),this.#Gi(),n.hidden=!1}#Gi(){if(!this.#Hi)return;const e=this.div;for(const[t,n]of this.#Hi){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:r}=i;r?"CANVAS"===r.nodeName?r.replaceWith(n):r.classList.contains("annotationContent")?r.after(n):r.before(n):i.append(n)}this.#Hi.clear()}getEditableAnnotations(){return Array.from(this.#$i.values())}getEditableAnnotation(e){return this.#$i.get(e)}}const Fp=/\r\n?|\n/g;class Op extends Qu{#qi=this.editorDivBlur.bind(this);#Ki=this.editorDivFocus.bind(this);#Xi=this.editorDivInput.bind(this);#Yi=this.editorDivKeydown.bind(this);#Qi=this.editorDivPaste.bind(this);#bi;#Ji="";#Zi=`${this.id}-editor`;#Pi;#er=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=Op.prototype,t=e=>e.isEmpty(),n=Xu.TRANSLATE_SMALL,i=Xu.TRANSLATE_BIG;return zc(this,"_keyboardManager",new qu([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}]]))}static _type="freetext";static _editorType=Kl.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.#bi=e.color||Op._defaultColor||Qu._defaultLineColor,this.#Pi=e.fontSize||Op._defaultFontSize}static initialize(e,t){Qu.initialize(e,t,{strings:["pdfjs-free-text-default-content"]});const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case Xl.FREETEXT_SIZE:Op._defaultFontSize=t;break;case Xl.FREETEXT_COLOR:Op._defaultColor=t}}updateParams(e,t){switch(e){case Xl.FREETEXT_SIZE:this.#tr(t);break;case Xl.FREETEXT_COLOR:this.#nr(t)}}static get defaultPropertiesToUpdate(){return[[Xl.FREETEXT_SIZE,Op._defaultFontSize],[Xl.FREETEXT_COLOR,Op._defaultColor||Qu._defaultLineColor]]}get propertiesToUpdate(){return[[Xl.FREETEXT_SIZE,this.#Pi],[Xl.FREETEXT_COLOR,this.#bi]]}#tr(e){const t=e=>{this.editorDiv.style.fontSize=`calc(${e}px * var(--scale-factor))`,this.translate(0,-(e-this.#Pi)*this.parentScale),this.#Pi=e,this.#ir()},n=this.#Pi;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xl.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#nr(e){const t=e=>{this.#bi=this.editorDiv.style.color=e},n=this.#bi;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xl.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-Op._internalPadding*e,-(Op._internalPadding+this.#Pi)*e]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Kl.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const e=this._uiManager._signal;this.editorDiv.addEventListener("keydown",this.#Yi,{signal:e}),this.editorDiv.addEventListener("focus",this.#Ki,{signal:e}),this.editorDiv.addEventListener("blur",this.#qi,{signal:e}),this.editorDiv.addEventListener("input",this.#Xi,{signal:e}),this.editorDiv.addEventListener("paste",this.#Qi,{signal:e})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#Zi),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#Yi),this.editorDiv.removeEventListener("focus",this.#Ki),this.editorDiv.removeEventListener("blur",this.#qi),this.editorDiv.removeEventListener("input",this.#Xi),this.editorDiv.removeEventListener("paste",this.#Qi),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#rr(){const e=[];this.editorDiv.normalize();for(const t of this.editorDiv.childNodes)e.push(Op.#sr(t));return e.join("\n")}#ir(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,i=t.style.display,r=t.classList.contains("hidden");t.classList.remove("hidden"),t.style.display="hidden",e.div.append(this.div),n=t.getBoundingClientRect(),t.remove(),t.style.display=i,t.classList.toggle("hidden",r)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#Ji,t=this.#Ji=this.#rr().trimEnd();if(e===t)return;const n=e=>{this.#Ji=e,e?(this.#ar(),this._uiManager.rebuild(this),this.#ir()):this.remove()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),this.#ir()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Op._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#Zi),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Qu._l10nPromise.get("pdfjs-free-text-default-content").then((e=>this.editorDiv?.setAttribute("default-content",e))),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#Pi}px * var(--scale-factor))`,n.color=this.#bi,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Hu(this,this.div,["dblclick","keydown"]),this.width){const[n,i]=this.parentDimensions;if(this.annotationElementId){const{position:r}=this.#er;let[s,a]=this.getInitialTranslation();[s,a]=this.pageTranslationToScreen(s,a);const[o,l]=this.pageDimensions,[c,u]=this.pageTranslation;let d,h;switch(this.rotation){case 0:d=e+(r[0]-c)/o,h=t+this.height-(r[1]-u)/l;break;case 90:d=e+(r[0]-c)/o,h=t-(r[1]-u)/l,[s,a]=[a,-s];break;case 180:d=e-this.width+(r[0]-c)/o,h=t-(r[1]-u)/l,[s,a]=[-s,-a];break;case 270:d=e+(r[0]-c-this.height*l)/o,h=t+(r[1]-u-this.width*o)/l,[s,a]=[-a,s]}this.setAt(d*n,h*i,s,a)}else this.setAt(e*n,t*i,this.width*n,this.height*i);this.#ar(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#sr(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Fp,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(1===n.length&&"text/plain"===n[0])return;e.preventDefault();const i=Op.#or(t.getData("text")||"").replaceAll(Fp,"\n");if(!i)return;const r=window.getSelection();if(!r.rangeCount)return;this.editorDiv.normalize(),r.deleteFromDocument();const s=r.getRangeAt(0);if(!i.includes("\n"))return s.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),void r.collapseToStart();const{startContainer:a,startOffset:o}=s,l=[],c=[];if(a.nodeType===Node.TEXT_NODE){const e=a.parentElement;if(c.push(a.nodeValue.slice(o).replaceAll(Fp,"")),e!==this.editorDiv){let t=l;for(const n of this.editorDiv.childNodes)n!==e?t.push(Op.#sr(n)):t=c}l.push(a.nodeValue.slice(0,o).replaceAll(Fp,""))}else if(a===this.editorDiv){let e=l,t=0;for(const n of this.editorDiv.childNodes)t++===o&&(e=c),e.push(Op.#sr(n))}this.#Ji=`${l.join("\n")}${i}${c.join("\n")}`,this.#ar();const u=new Range;let d=l.reduce(((e,t)=>e+t.length),0);for(const{firstChild:h}of this.editorDiv.childNodes)if(h.nodeType===Node.TEXT_NODE){const e=h.nodeValue.length;if(d<=e){u.setStart(h,d),u.setEnd(h,d);break}d-=e}r.removeAllRanges(),r.addRange(u)}#ar(){if(this.editorDiv.replaceChildren(),this.#Ji)for(const e of this.#Ji.split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#lr(){return this.#Ji.replaceAll("\xa0"," ")}static#or(e){return e.replaceAll(" ","\xa0")}get contentDiv(){return this.editorDiv}static deserialize(e,t,n){let i=null;if(e instanceof _p){const{data:{defaultAppearanceData:{fontSize:t,fontColor:n},rect:r,rotation:s,id:a},textContent:o,textPosition:l,parent:{page:{pageNumber:c}}}=e;if(!o||0===o.length)return null;i=e={annotationType:Kl.FREETEXT,color:Array.from(n),fontSize:t,value:o.join("\n"),position:l,pageIndex:c-1,rect:r.slice(0),rotation:s,id:a,deleted:!1}}const r=super.deserialize(e,t,n);return r.#Pi=e.fontSize,r.#bi=Zc.makeHexColor(...e.color),r.#Ji=Op.#or(e.value),r.annotationElementId=e.id||null,r.#er=i,r}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const t=Op._internalPadding*this.parentScale,n=this.getRect(t,t),i=Qu._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#bi),r={annotationType:Kl.FREETEXT,color:i,fontSize:this.#Pi,value:this.#lr(),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?r:this.annotationElementId&&!this.#cr(r)?null:(r.id=this.annotationElementId,r)}#cr(e){const{value:t,fontSize:n,color:i,pageIndex:r}=this.#er;return this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some(((e,t)=>e!==i[t]))||e.pageIndex!==r}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(this.deleted)return t;const{style:n}=t;n.fontSize=`calc(${this.#Pi}px * var(--scale-factor))`,n.color=this.#bi,t.replaceChildren();for(const r of this.#Ji.split("\n")){const e=document.createElement("div");e.append(r?document.createTextNode(r):document.createElement("br")),t.append(e)}const i=Op._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(i,i),popupContent:this.#Ji}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class jp{#ur;#dr=[];#hr=[];constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=1/0,s=-1/0,a=1/0,o=-1/0;const l=10**-4;for(const{x:g,y:m,width:v,height:b}of e){const e=Math.floor((g-t)/l)*l,n=Math.ceil((g+v+t)/l)*l,i=Math.floor((m-t)/l)*l,c=Math.ceil((m+b+t)/l)*l,u=[e,i,c,!0],d=[n,i,c,!1];this.#dr.push(u,d),r=Math.min(r,e),s=Math.max(s,n),a=Math.min(a,i),o=Math.max(o,c)}const c=s-r+2*n,u=o-a+2*n,d=r-n,h=a-n,p=this.#dr.at(i?-1:-2),f=[p[0],p[2]];for(const g of this.#dr){const[e,t,n]=g;g[0]=(e-d)/c,g[1]=(t-h)/u,g[2]=(n-h)/u}this.#ur={x:d,y:h,width:c,height:u,lastPoint:f}}getOutlines(){this.#dr.sort(((e,t)=>e[0]-t[0]||e[1]-t[1]||e[2]-t[2]));const e=[];for(const t of this.#dr)t[3]?(e.push(...this.#pr(t)),this.#fr(t)):(this.#gr(t),e.push(...this.#pr(t)));return this.#mr(e)}#mr(e){const t=[],n=new Set;for(const s of e){const[e,n,i]=s;t.push([e,n,s],[e,i,s])}t.sort(((e,t)=>e[1]-t[1]||e[0]-t[0]));for(let s=0,a=t.length;s<a;s+=2){const e=t[s][2],i=t[s+1][2];e.push(i),i.push(e),n.add(e),n.add(i)}const i=[];let r;for(;n.size>0;){const e=n.values().next().value;let[t,s,a,o,l]=e;n.delete(e);let c=t,u=s;for(r=[t,a],i.push(r);;){let e;if(n.has(o))e=o;else{if(!n.has(l))break;e=l}n.delete(e),[t,s,a,o,l]=e,c!==t&&(r.push(c,u,t,u===s?s:a),c=t),u=u===s?a:s}r.push(c,u)}return new Bp(i,this.#ur)}#vr(e){const t=this.#hr;let n=0,i=t.length-1;for(;n<=i;){const r=n+i>>1,s=t[r][0];if(s===e)return r;s<e?n=r+1:i=r-1}return i+1}#fr(e){let[,t,n]=e;const i=this.#vr(t);this.#hr.splice(i,0,[t,n])}#gr(e){let[,t,n]=e;const i=this.#vr(t);for(let r=i;r<this.#hr.length;r++){const[e,i]=this.#hr[r];if(e!==t)break;if(e===t&&i===n)return void this.#hr.splice(r,1)}for(let r=i-1;r>=0;r--){const[e,i]=this.#hr[r];if(e!==t)break;if(e===t&&i===n)return void this.#hr.splice(r,1)}}#pr(e){const[t,n,i]=e,r=[[t,n,i]],s=this.#vr(i);for(let a=0;a<s;a++){const[e,n]=this.#hr[a];for(let i=0,s=r.length;i<s;i++){const[,a,o]=r[i];if(!(n<=a||o<=e))if(a>=e)if(o>n)r[i][1]=n;else{if(1===s)return[];r.splice(i,1),i--,s--}else r[i][2]=e,o>n&&r.push([t,n,o])}}return r}}class zp{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof Vp}}class Bp extends zp{#ur;#br;constructor(e,t){super(),this.#br=e,this.#ur=t}toSVGPath(){const e=[];for(const t of this.#br){let[n,i]=t;e.push(`M${n} ${i}`);for(let r=2;r<t.length;r+=2){const s=t[r],a=t[r+1];s===n?(e.push(`V${a}`),i=a):a===i&&(e.push(`H${s}`),n=s)}e.push("Z")}return e.join(" ")}serialize(e,t){let[n,i,r,s]=e;const a=[],o=r-n,l=s-i;for(const c of this.#br){const e=new Array(c.length);for(let t=0;t<c.length;t+=2)e[t]=n+c[t]*o,e[t+1]=s-c[t+1]*l;a.push(e)}return a}get box(){return this.#ur}}class Up{#ur;#yr=[];#wr;#_r;#Sr=[];#xr=new Float64Array(18);#Ar;#Er;#kr;#Cr;#Tr;#Rr;#Mr=[];static#Pr=8;static#Lr=2;static#Ir=Up.#Pr+Up.#Lr;constructor(e,t,n,i,r){let{x:s,y:a}=e,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;this.#ur=t,this.#Rr=i*n,this.#_r=r,this.#xr.set([NaN,NaN,NaN,NaN,s,a],6),this.#wr=o,this.#Cr=Up.#Pr*n,this.#kr=Up.#Ir*n,this.#Tr=n,this.#Mr.push(s,a)}get free(){return!0}isEmpty(){return isNaN(this.#xr[8])}#Dr(){const e=this.#xr.subarray(4,6),t=this.#xr.subarray(16,18),[n,i,r,s]=this.#ur;return[(this.#Ar+(e[0]-t[0])/2-n)/r,(this.#Er+(e[1]-t[1])/2-i)/s,(this.#Ar+(t[0]-e[0])/2-n)/r,(this.#Er+(t[1]-e[1])/2-i)/s]}add(e){let{x:t,y:n}=e;this.#Ar=t,this.#Er=n;const[i,r,s,a]=this.#ur;let[o,l,c,u]=this.#xr.subarray(8,12);const d=t-c,h=n-u,p=Math.hypot(d,h);if(p<this.#kr)return!1;const f=p-this.#Cr,g=f/p,m=g*d,v=g*h;let b=o,y=l;o=c,l=u,c+=m,u+=v,this.#Mr?.push(t,n);const w=m/f,_=-v/f*this.#Rr,S=w*this.#Rr;if(this.#xr.set(this.#xr.subarray(2,8),0),this.#xr.set([c+_,u+S],4),this.#xr.set(this.#xr.subarray(14,18),12),this.#xr.set([c-_,u-S],16),isNaN(this.#xr[6]))return 0===this.#Sr.length&&(this.#xr.set([o+_,l+S],2),this.#Sr.push(NaN,NaN,NaN,NaN,(o+_-i)/s,(l+S-r)/a),this.#xr.set([o-_,l-S],14),this.#yr.push(NaN,NaN,NaN,NaN,(o-_-i)/s,(l-S-r)/a)),this.#xr.set([b,y,o,l,c,u],6),!this.isEmpty();this.#xr.set([b,y,o,l,c,u],6);return Math.abs(Math.atan2(y-l,b-o)-Math.atan2(v,m))<Math.PI/2?([o,l,c,u]=this.#xr.subarray(2,6),this.#Sr.push(NaN,NaN,NaN,NaN,((o+c)/2-i)/s,((l+u)/2-r)/a),[o,l,b,y]=this.#xr.subarray(14,18),this.#yr.push(NaN,NaN,NaN,NaN,((b+o)/2-i)/s,((y+l)/2-r)/a),!0):([b,y,o,l,c,u]=this.#xr.subarray(0,6),this.#Sr.push(((b+5*o)/6-i)/s,((y+5*l)/6-r)/a,((5*o+c)/6-i)/s,((5*l+u)/6-r)/a,((o+c)/2-i)/s,((l+u)/2-r)/a),[c,u,o,l,b,y]=this.#xr.subarray(12,18),this.#yr.push(((b+5*o)/6-i)/s,((y+5*l)/6-r)/a,((5*o+c)/6-i)/s,((5*l+u)/6-r)/a,((o+c)/2-i)/s,((l+u)/2-r)/a),!0)}toSVGPath(){if(this.isEmpty())return"";const e=this.#Sr,t=this.#yr,n=this.#xr.subarray(4,6),i=this.#xr.subarray(16,18),[r,s,a,o]=this.#ur,[l,c,u,d]=this.#Dr();if(isNaN(this.#xr[6])&&!this.isEmpty())return`M${(this.#xr[2]-r)/a} ${(this.#xr[3]-s)/o} L${(this.#xr[4]-r)/a} ${(this.#xr[5]-s)/o} L${l} ${c} L${u} ${d} L${(this.#xr[16]-r)/a} ${(this.#xr[17]-s)/o} L${(this.#xr[14]-r)/a} ${(this.#xr[15]-s)/o} Z`;const h=[];h.push(`M${e[4]} ${e[5]}`);for(let p=6;p<e.length;p+=6)isNaN(e[p])?h.push(`L${e[p+4]} ${e[p+5]}`):h.push(`C${e[p]} ${e[p+1]} ${e[p+2]} ${e[p+3]} ${e[p+4]} ${e[p+5]}`);h.push(`L${(n[0]-r)/a} ${(n[1]-s)/o} L${l} ${c} L${u} ${d} L${(i[0]-r)/a} ${(i[1]-s)/o}`);for(let p=t.length-6;p>=6;p-=6)isNaN(t[p])?h.push(`L${t[p+4]} ${t[p+5]}`):h.push(`C${t[p]} ${t[p+1]} ${t[p+2]} ${t[p+3]} ${t[p+4]} ${t[p+5]}`);return h.push(`L${t[4]} ${t[5]} Z`),h.join(" ")}getOutlines(){const e=this.#Sr,t=this.#yr,n=this.#xr,i=n.subarray(4,6),r=n.subarray(16,18),[s,a,o,l]=this.#ur,c=new Float64Array((this.#Mr?.length??0)+2);for(let m=0,v=c.length-2;m<v;m+=2)c[m]=(this.#Mr[m]-s)/o,c[m+1]=(this.#Mr[m+1]-a)/l;c[c.length-2]=(this.#Ar-s)/o,c[c.length-1]=(this.#Er-a)/l;const[u,d,h,p]=this.#Dr();if(isNaN(n[6])&&!this.isEmpty()){const e=new Float64Array(36);return e.set([NaN,NaN,NaN,NaN,(n[2]-s)/o,(n[3]-a)/l,NaN,NaN,NaN,NaN,(n[4]-s)/o,(n[5]-a)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,(n[16]-s)/o,(n[17]-a)/l,NaN,NaN,NaN,NaN,(n[14]-s)/o,(n[15]-a)/l],0),new Vp(e,c,this.#ur,this.#Tr,this.#wr,this.#_r)}const f=new Float64Array(this.#Sr.length+24+this.#yr.length);let g=e.length;for(let m=0;m<g;m+=2)isNaN(e[m])?f[m]=f[m+1]=NaN:(f[m]=e[m],f[m+1]=e[m+1]);f.set([NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/l],g),g+=24;for(let m=t.length-6;m>=6;m-=6)for(let e=0;e<6;e+=2)isNaN(t[m+e])?(f[g]=f[g+1]=NaN,g+=2):(f[g]=t[m+e],f[g+1]=t[m+e+1],g+=2);return f.set([NaN,NaN,NaN,NaN,t[4],t[5]],g),new Vp(f,c,this.#ur,this.#Tr,this.#wr,this.#_r)}}class Vp extends zp{#ur;#Nr=null;#wr;#_r;#Mr;#Tr;#Fr;constructor(e,t,n,i,r,s){super(),this.#Fr=e,this.#Mr=t,this.#ur=n,this.#Tr=i,this.#wr=r,this.#_r=s,this.#Or(s);const{x:a,y:o,width:l,height:c}=this.#Nr;for(let u=0,d=e.length;u<d;u+=2)e[u]=(e[u]-a)/l,e[u+1]=(e[u+1]-o)/c;for(let u=0,d=t.length;u<d;u+=2)t[u]=(t[u]-a)/l,t[u+1]=(t[u+1]-o)/c}toSVGPath(){const e=[`M${this.#Fr[4]} ${this.#Fr[5]}`];for(let t=6,n=this.#Fr.length;t<n;t+=6)isNaN(this.#Fr[t])?e.push(`L${this.#Fr[t+4]} ${this.#Fr[t+5]}`):e.push(`C${this.#Fr[t]} ${this.#Fr[t+1]} ${this.#Fr[t+2]} ${this.#Fr[t+3]} ${this.#Fr[t+4]} ${this.#Fr[t+5]}`);return e.push("Z"),e.join(" ")}serialize(e,t){let[n,i,r,s]=e;const a=r-n,o=s-i;let l,c;switch(t){case 0:l=this.#jr(this.#Fr,n,s,a,-o),c=this.#jr(this.#Mr,n,s,a,-o);break;case 90:l=this.#zr(this.#Fr,n,i,a,o),c=this.#zr(this.#Mr,n,i,a,o);break;case 180:l=this.#jr(this.#Fr,r,i,-a,o),c=this.#jr(this.#Mr,r,i,-a,o);break;case 270:l=this.#zr(this.#Fr,r,s,-a,-o),c=this.#zr(this.#Mr,r,s,-a,-o)}return{outline:Array.from(l),points:[Array.from(c)]}}#jr(e,t,n,i,r){const s=new Float64Array(e.length);for(let a=0,o=e.length;a<o;a+=2)s[a]=t+e[a]*i,s[a+1]=n+e[a+1]*r;return s}#zr(e,t,n,i,r){const s=new Float64Array(e.length);for(let a=0,o=e.length;a<o;a+=2)s[a]=t+e[a+1]*i,s[a+1]=n+e[a]*r;return s}#Or(e){const t=this.#Fr;let n=t[4],i=t[5],r=n,s=i,a=n,o=i,l=n,c=i;const u=e?Math.max:Math.min;for(let g=6,m=t.length;g<m;g+=6){if(isNaN(t[g]))r=Math.min(r,t[g+4]),s=Math.min(s,t[g+5]),a=Math.max(a,t[g+4]),o=Math.max(o,t[g+5]),c<t[g+5]?(l=t[g+4],c=t[g+5]):c===t[g+5]&&(l=u(l,t[g+4]));else{const e=Zc.bezierBoundingBox(n,i,...t.slice(g,g+6));r=Math.min(r,e[0]),s=Math.min(s,e[1]),a=Math.max(a,e[2]),o=Math.max(o,e[3]),c<e[3]?(l=e[2],c=e[3]):c===e[3]&&(l=u(l,e[2]))}n=t[g+4],i=t[g+5]}const d=r-this.#wr,h=s-this.#wr,p=a-r+2*this.#wr,f=o-s+2*this.#wr;this.#Nr={x:d,y:h,width:p,height:f,lastPoint:[l,c]}}get box(){return this.#Nr}getNewOutline(e,t){const{x:n,y:i,width:r,height:s}=this.#Nr,[a,o,l,c]=this.#ur,u=r*l,d=s*c,h=n*l+a,p=i*c+o,f=new Up({x:this.#Mr[0]*u+h,y:this.#Mr[1]*d+p},this.#ur,this.#Tr,e,this.#_r,t??this.#wr);for(let g=2;g<this.#Mr.length;g+=2)f.add({x:this.#Mr[g]*u+h,y:this.#Mr[g+1]*d+p});return f.getOutlines()}}class Hp{#ui=this.#di.bind(this);#Br=this.#o.bind(this);#Ur=null;#Vr=null;#Hr;#$r=null;#Wr=!1;#Gr=!1;#s=null;#qr;#p=null;#Kr;static get _keyboardManager(){return zc(this,"_keyboardManager",new qu([[["Escape","mac+Escape"],Hp.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Hp.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Hp.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Hp.prototype._moveToPrevious],[["Home","mac+Home"],Hp.prototype._moveToBeginning],[["End","mac+End"],Hp.prototype._moveToEnd]]))}constructor(e){let{editor:t=null,uiManager:n=null}=e;t?(this.#Gr=!1,this.#Kr=Xl.HIGHLIGHT_COLOR,this.#s=t):(this.#Gr=!0,this.#Kr=Xl.HIGHLIGHT_DEFAULT_COLOR),this.#p=t?._uiManager||n,this.#qr=this.#p._eventBus,this.#Hr=t?.color||this.#p?.highlightColors.values().next().value||"#FFFF98"}renderButton(){const e=this.#Ur=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=this.#p._signal;e.addEventListener("click",this.#Xr.bind(this),{signal:t}),e.addEventListener("keydown",this.#ui,{signal:t});const n=this.#Vr=document.createElement("span");return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=this.#Hr,e.append(n),e}renderMainDropdown(){const e=this.#$r=this.#Yr();return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}#Yr(){const e=document.createElement("div"),t=this.#p._signal;e.addEventListener("contextmenu",Lu,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,i]of this.#p.highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",i),r.title=n,r.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${n}`);const s=document.createElement("span");r.append(s),s.className="swatch",s.style.backgroundColor=i,r.setAttribute("aria-selected",i===this.#Hr),r.addEventListener("click",this.#Qr.bind(this,i),{signal:t}),e.append(r)}return e.addEventListener("keydown",this.#ui,{signal:t}),e}#Qr(e,t){t.stopPropagation(),this.#qr.dispatch("switchannotationeditorparams",{source:this,type:this.#Kr,value:e})}_colorSelectFromKeyboard(e){if(e.target===this.#Ur)return void this.#Xr(e);const t=e.target.getAttribute("data-color");t&&this.#Qr(t,e)}_moveToNext(e){this.#Jr?e.target!==this.#Ur?e.target.nextSibling?.focus():this.#$r.firstChild?.focus():this.#Xr(e)}_moveToPrevious(e){e.target!==this.#$r?.firstChild&&e.target!==this.#Ur?(this.#Jr||this.#Xr(e),e.target.previousSibling?.focus()):this.#Jr&&this._hideDropdownFromKeyboard()}_moveToBeginning(e){this.#Jr?this.#$r.firstChild?.focus():this.#Xr(e)}_moveToEnd(e){this.#Jr?this.#$r.lastChild?.focus():this.#Xr(e)}#di(e){Hp._keyboardManager.exec(this,e)}#Xr(e){if(this.#Jr)return void this.hideDropdown();if(this.#Wr=0===e.detail,window.addEventListener("pointerdown",this.#Br,{signal:this.#p._signal}),this.#$r)return void this.#$r.classList.remove("hidden");const t=this.#$r=this.#Yr();this.#Ur.append(t)}#o(e){this.#$r?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#$r?.classList.add("hidden"),window.removeEventListener("pointerdown",this.#Br)}get#Jr(){return this.#$r&&!this.#$r.classList.contains("hidden")}_hideDropdownFromKeyboard(){this.#Gr||(this.#Jr?(this.hideDropdown(),this.#Ur.focus({preventScroll:!0,focusVisible:this.#Wr})):this.#s?.unselect())}updateColor(e){if(this.#Vr&&(this.#Vr.style.backgroundColor=e),!this.#$r)return;const t=this.#p.highlightColors.values();for(const n of this.#$r.children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){this.#Ur?.remove(),this.#Ur=null,this.#Vr=null,this.#$r?.remove(),this.#$r=null}}class $p extends Qu{#Zr=null;#es=0;#ts;#ns=null;#r=null;#is=null;#rs=null;#ss=0;#as=null;#os=null;#v=null;#ls=!1;#oe=this.#cs.bind(this);#us=null;#ds;#hs=null;#ps="";#Rr;#fs="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _l10nPromise;static _type="highlight";static _editorType=Kl.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=$p.prototype;return zc(this,"_keyboardManager",new qu([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||$p._defaultColor,this.#Rr=e.thickness||$p._defaultThickness,this.#ds=e.opacity||$p._defaultOpacity,this.#ts=e.boxes||null,this.#fs=e.methodOfCreation||"",this.#ps=e.text||"",this._isDraggable=!1,e.highlightId>-1?(this.#ls=!0,this.#gs(e),this.#ms()):(this.#Zr=e.anchorNode,this.#es=e.anchorOffset,this.#rs=e.focusNode,this.#ss=e.focusOffset,this.#vs(),this.#ms(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#ls?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#Rr,methodOfCreation:this.#fs}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#vs(){const e=new jp(this.#ts,.001);this.#os=e.getOutlines(),({x:this.x,y:this.y,width:this.width,height:this.height}=this.#os.box);const t=new jp(this.#ts,.0025,.001,"ltr"===this._uiManager.direction);this.#is=t.getOutlines();const{lastPoint:n}=this.#is.box;this.#us=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}#gs(e){let{highlightOutlines:t,highlightId:n,clipPathId:i}=e;this.#os=t;if(this.#is=t.getNewOutline(this.#Rr/2+1.5,.0025),n>=0)this.#v=n,this.#ns=i,this.parent.drawLayer.finalizeLine(n,t),this.#hs=this.parent.drawLayer.highlightOutline(this.#is);else if(this.parent){const e=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(this.#v,t),this.parent.drawLayer.updateBox(this.#v,$p.#bs(this.#os.box,(e-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#hs,this.#is),this.parent.drawLayer.updateBox(this.#hs,$p.#bs(this.#is.box,e))}const{x:r,y:s,width:a,height:o}=t.box;switch(this.rotation){case 0:this.x=r,this.y=s,this.width=a,this.height=o;break;case 90:{const[e,t]=this.parentDimensions;this.x=s,this.y=1-r,this.width=a*t/e,this.height=o*e/t;break}case 180:this.x=1-r,this.y=1-s,this.width=a,this.height=o;break;case 270:{const[e,t]=this.parentDimensions;this.x=1-s,this.y=r,this.width=a*t/e,this.height=o*e/t;break}}const{lastPoint:l}=this.#is.box;this.#us=[(l[0]-r)/a,(l[1]-s)/o]}static initialize(e,t){Qu.initialize(e,t),$p._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case Xl.HIGHLIGHT_DEFAULT_COLOR:$p._defaultColor=t;break;case Xl.HIGHLIGHT_THICKNESS:$p._defaultThickness=t}}translateInPage(e,t){}get toolbarPosition(){return this.#us}updateParams(e,t){switch(e){case Xl.HIGHLIGHT_COLOR:this.#nr(t);break;case Xl.HIGHLIGHT_THICKNESS:this.#ys(t)}}static get defaultPropertiesToUpdate(){return[[Xl.HIGHLIGHT_DEFAULT_COLOR,$p._defaultColor],[Xl.HIGHLIGHT_THICKNESS,$p._defaultThickness]]}get propertiesToUpdate(){return[[Xl.HIGHLIGHT_COLOR,this.color||$p._defaultColor],[Xl.HIGHLIGHT_THICKNESS,this.#Rr||$p._defaultThickness],[Xl.HIGHLIGHT_FREE,this.#ls]]}#nr(e){const t=e=>{this.color=e,this.parent?.drawLayer.changeColor(this.#v,e),this.#r?.updateColor(e)},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xl.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}#ys(e){const t=this.#Rr,n=e=>{this.#Rr=e,this.#ws(e)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xl.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(this.#r=new Hp({editor:this}),e.addColorPicker(this.#r)),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#_s())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#_s())}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#Ss(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.#ms(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#Ss():e&&(this.#ms(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#ws(e){if(!this.#ls)return;this.#gs({highlightOutlines:this.#os.getNewOutline(e/2)}),this.fixAndSetPosition();const[t,n]=this.parentDimensions;this.setDims(this.width*t,this.height*n)}#Ss(){null!==this.#v&&this.parent&&(this.parent.drawLayer.remove(this.#v),this.#v=null,this.parent.drawLayer.remove(this.#hs),this.#hs=null)}#ms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null===this.#v&&(({id:this.#v,clipPathId:this.#ns}=e.drawLayer.highlight(this.#os,this.color,this.#ds)),this.#hs=e.drawLayer.highlightOutline(this.#is),this.#as&&(this.#as.style.clipPath=this.#ns))}static#bs(e,t){let{x:n,y:i,width:r,height:s}=e;switch(t){case 90:return{x:1-i-s,y:n,width:s,height:r};case 180:return{x:1-n-r,y:1-i-s,width:r,height:s};case 270:return{x:i,y:1-n-r,width:s,height:r}}return{x:n,y:i,width:r,height:s}}rotate(e){const{drawLayer:t}=this.parent;let n;this.#ls?(e=(e-this.rotation+360)%360,n=$p.#bs(this.#os.box,e)):n=$p.#bs(this,e),t.rotate(this.#v,e),t.rotate(this.#hs,e),t.updateBox(this.#v,n),t.updateBox(this.#hs,$p.#bs(this.#is.box,e))}render(){if(this.div)return this.div;const e=super.render();this.#ps&&(e.setAttribute("aria-label",this.#ps),e.setAttribute("role","mark")),this.#ls?e.classList.add("free"):this.div.addEventListener("keydown",this.#oe,{signal:this._uiManager._signal});const t=this.#as=document.createElement("div");e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#ns;const[n,i]=this.parentDimensions;return this.setDims(this.width*n,this.height*i),Hu(this,this.#as,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.parent.drawLayer.addClass(this.#hs,"hovered")}pointerleave(){this.parent.drawLayer.removeClass(this.#hs,"hovered")}#cs(e){$p._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#xs(!0);break;case 1:case 3:this.#xs(!1)}}#xs(e){if(!this.#Zr)return;const t=window.getSelection();e?t.setPosition(this.#Zr,this.#es):t.setPosition(this.#rs,this.#ss)}select(){super.select(),this.#hs&&(this.parent?.drawLayer.removeClass(this.#hs,"hovered"),this.parent?.drawLayer.addClass(this.#hs,"selected"))}unselect(){super.unselect(),this.#hs&&(this.parent?.drawLayer.removeClass(this.#hs,"selected"),this.#ls||this.#xs(!1))}get _mustFixPosition(){return!this.#ls}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;super.show(e),this.parent&&(this.parent.drawLayer.show(this.#v,e),this.parent.drawLayer.show(this.#hs,e))}#_s(){return this.#ls?this.rotation:0}#As(){if(this.#ls)return null;const[e,t]=this.pageDimensions,n=this.#ts,i=new Float32Array(8*n.length);let r=0;for(const{x:s,y:a,width:o,height:l}of n){const n=s*e,c=(1-a-l)*t;i[r]=i[r+4]=n,i[r+1]=i[r+3]=c,i[r+2]=i[r+6]=n+o*e,i[r+5]=i[r+7]=c+l*t,r+=8}return i}#Es(e){return this.#os.serialize(e,this.#_s())}static startHighlighting(e,t,n){let{target:i,x:r,y:s}=n;const{x:a,y:o,width:l,height:c}=i.getBoundingClientRect(),u=t=>{this.#ks(e,t)},d=e._signal,h={capture:!0,passive:!1,signal:d},p=e=>{e.preventDefault(),e.stopPropagation()},f=t=>{i.removeEventListener("pointermove",u),window.removeEventListener("blur",f),window.removeEventListener("pointerup",f),window.removeEventListener("pointerdown",p,h),window.removeEventListener("contextmenu",Lu),this.#Cs(e,t)};window.addEventListener("blur",f,{signal:d}),window.addEventListener("pointerup",f,{signal:d}),window.addEventListener("pointerdown",p,h),window.addEventListener("contextmenu",Lu,{signal:d}),i.addEventListener("pointermove",u,{signal:d}),this._freeHighlight=new Up({x:r,y:s},[a,o,l,c],e.scale,this._defaultThickness/2,t,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0))}static#ks(e,t){this._freeHighlight.add(t)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#Cs(e,t){this._freeHighlight.isEmpty()?e.drawLayer.removeFreeHighlight(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(e,t,n){const i=super.deserialize(e,t,n),{rect:[r,s,a,o],color:l,quadPoints:c}=e;i.color=Zc.makeHexColor(...l),i.#ds=e.opacity;const[u,d]=i.pageDimensions;i.width=(a-r)/u,i.height=(o-s)/d;const h=i.#ts=[];for(let p=0;p<c.length;p+=8)h.push({x:(c[4]-a)/u,y:(o-(1-c[p+5]))/d,width:(c[p+2]-c[p])/u,height:(c[p+5]-c[p+1])/d});return i.#vs(),i}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||e)return null;const t=this.getRect(0,0),n=Qu._colorManager.convert(this.color);return{annotationType:Kl.HIGHLIGHT,color:n,opacity:this.#ds,thickness:this.#Rr,quadPoints:this.#As(),outlines:this.#Es(t),pageIndex:this.pageIndex,rect:t,rotation:this.#_s(),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}}class Wp extends Qu{#Ts=0;#Rs=0;#Ms=this.canvasPointermove.bind(this);#Ps=this.canvasPointerleave.bind(this);#Ls=this.canvasPointerup.bind(this);#Is=this.canvasPointerdown.bind(this);#Ds=null;#Ns=new Path2D;#Fs=!1;#Os=!1;#js=!1;#zs=null;#Bs=0;#Us=0;#Vs=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=Kl.INK;constructor(e){super({...e,name:"inkEditor"}),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,t){Qu.initialize(e,t)}static updateDefaultParams(e,t){switch(e){case Xl.INK_THICKNESS:Wp._defaultThickness=t;break;case Xl.INK_COLOR:Wp._defaultColor=t;break;case Xl.INK_OPACITY:Wp._defaultOpacity=t/100}}updateParams(e,t){switch(e){case Xl.INK_THICKNESS:this.#ys(t);break;case Xl.INK_COLOR:this.#nr(t);break;case Xl.INK_OPACITY:this.#Hs(t)}}static get defaultPropertiesToUpdate(){return[[Xl.INK_THICKNESS,Wp._defaultThickness],[Xl.INK_COLOR,Wp._defaultColor||Qu._defaultLineColor],[Xl.INK_OPACITY,Math.round(100*Wp._defaultOpacity)]]}get propertiesToUpdate(){return[[Xl.INK_THICKNESS,this.thickness||Wp._defaultThickness],[Xl.INK_COLOR,this.color||Wp._defaultColor||Qu._defaultLineColor],[Xl.INK_OPACITY,Math.round(100*(this.opacity??Wp._defaultOpacity))]]}#ys(e){const t=e=>{this.thickness=e,this.#$s()},n=this.thickness;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xl.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#nr(e){const t=e=>{this.color=e,this.#Ws()},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xl.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#Hs(e){const t=e=>{this.opacity=e,this.#Ws()};e/=100;const n=this.opacity;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xl.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(this.#Gs(),this.#qs()),this.isAttachedToDOM||(this.parent.add(this),this.#Ks()),this.#$s()))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#Ds&&(clearTimeout(this.#Ds),this.#Ds=null),this.#zs?.disconnect(),this.#zs=null,super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,t]=this.parentDimensions,n=this.width*e,i=this.height*t;this.setDimensions(n,i)}enableEditMode(){this.#Fs||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#Is,{signal:this._uiManager._signal}))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#Is))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#Xs(){const{parentRotation:e,parentDimensions:[t,n]}=this;switch(e){case 90:return[0,n,n,t];case 180:return[t,n,t,n];case 270:return[t,0,n,t];default:return[0,0,t,n]}}#Ys(){const{ctx:e,color:t,opacity:n,thickness:i,parentScale:r,scaleFactor:s}=this;e.lineWidth=i*r/s,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${t}${function(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")}(n)}`}#Qs(e,t){const n=this._uiManager._signal;this.canvas.addEventListener("contextmenu",Lu,{signal:n}),this.canvas.addEventListener("pointerleave",this.#Ps,{signal:n}),this.canvas.addEventListener("pointermove",this.#Ms,{signal:n}),this.canvas.addEventListener("pointerup",this.#Ls,{signal:n}),this.canvas.removeEventListener("pointerdown",this.#Is),this.isEditing=!0,this.#js||(this.#js=!0,this.#Ks(),this.thickness||=Wp._defaultThickness,this.color||=Wp._defaultColor||Qu._defaultLineColor,this.opacity??=Wp._defaultOpacity),this.currentPath.push([e,t]),this.#Os=!1,this.#Ys(),this.#Vs=()=>{this.#Js(),this.#Vs&&window.requestAnimationFrame(this.#Vs)},window.requestAnimationFrame(this.#Vs)}#Zs(e,t){const[n,i]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===n&&t===i)return;const r=this.currentPath;let s=this.#Ns;if(r.push([e,t]),this.#Os=!0,r.length<=2)return s.moveTo(...r[0]),void s.lineTo(e,t);3===r.length&&(this.#Ns=s=new Path2D,s.moveTo(...r[0])),this.#ea(s,...r.at(-3),...r.at(-2),e,t)}#ta(){if(0===this.currentPath.length)return;const e=this.currentPath.at(-1);this.#Ns.lineTo(...e)}#na(e,t){let n;if(this.#Vs=null,e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),this.#Zs(e,t),this.#ta(),1!==this.currentPath.length)n=this.#ia();else{const i=[e,t];n=[[i,i.slice(),i.slice(),i]]}const i=this.#Ns,r=this.currentPath;this.currentPath=[],this.#Ns=new Path2D;this.addCommands({cmd:()=>{this.allRawPaths.push(r),this.paths.push(n),this.bezierPath2D.push(i),this._uiManager.rebuild(this)},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#Gs(),this.#qs()),this.#$s())},mustExec:!0})}#Js(){if(!this.#Os)return;this.#Os=!1;const e=Math.ceil(this.thickness*this.parentScale),t=this.currentPath.slice(-3),n=t.map((e=>e[0])),i=t.map((e=>e[1])),{ctx:r}=(Math.min(...n),Math.max(...n),Math.min(...i),Math.max(...i),this);r.save(),r.clearRect(0,0,this.canvas.width,this.canvas.height);for(const s of this.bezierPath2D)r.stroke(s);r.stroke(this.#Ns),r.restore()}#ea(e,t,n,i,r,s,a){const o=(t+i)/2,l=(n+r)/2,c=(i+s)/2,u=(r+a)/2;e.bezierCurveTo(o+2*(i-o)/3,l+2*(r-l)/3,c+2*(i-c)/3,u+2*(r-u)/3,c,u)}#ia(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const t=[];let n,[i,r]=e[0];for(n=1;n<e.length-2;n++){const[s,a]=e[n],[o,l]=e[n+1],c=(s+o)/2,u=(a+l)/2,d=[i+2*(s-i)/3,r+2*(a-r)/3],h=[c+2*(s-c)/3,u+2*(a-u)/3];t.push([[i,r],d,h,[c,u]]),[i,r]=[c,u]}const[s,a]=e[n],[o,l]=e[n+1],c=[i+2*(s-i)/3,r+2*(a-r)/3],u=[o+2*(s-o)/3,l+2*(a-l)/3];return t.push([[i,r],c,u,[o,l]]),t}#Ws(){if(this.isEmpty())return void this.#ra();this.#Ys();const{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),this.#ra();for(const n of this.bezierPath2D)t.stroke(n)}commit(){this.#Fs||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#Fs=!0,this.div.classList.add("disabled"),this.#$s(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){0===e.button&&this.isInEditMode()&&!this.#Fs&&(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#Qs(e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),this.#Zs(e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),this.#sa(e)}canvasPointerleave(e){this.#sa(e)}#sa(e){this.canvas.removeEventListener("pointerleave",this.#Ps),this.canvas.removeEventListener("pointermove",this.#Ms),this.canvas.removeEventListener("pointerup",this.#Ls),this.canvas.addEventListener("pointerdown",this.#Is,{signal:this._uiManager._signal}),this.#Ds&&clearTimeout(this.#Ds),this.#Ds=setTimeout((()=>{this.#Ds=null,this.canvas.removeEventListener("contextmenu",Lu)}),10),this.#na(e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#Gs(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#qs(){this.#zs=new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)})),this.#zs.observe(this.div),this._uiManager._signal.addEventListener("abort",(()=>{this.#zs?.disconnect(),this.#zs=null}),{once:!0})}get isResizable(){return!this.isEmpty()&&this.#Fs}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[n,i,r,s]=this.#Xs();if(this.setAt(n,i,0,0),this.setDims(r,s),this.#Gs(),this.width){const[n,i]=this.parentDimensions;this.setAspectRatio(this.width*n,this.height*i),this.setAt(e*n,t*i,this.width*n,this.height*i),this.#js=!0,this.#Ks(),this.setDims(this.width*n,this.height*i),this.#Ws(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#qs(),this.div}#Ks(){if(!this.#js)return;const[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),this.#ra()}setDimensions(e,t){const n=Math.round(e),i=Math.round(t);if(this.#Bs===n&&this.#Us===i)return;this.#Bs=n,this.#Us=i,this.canvas.style.visibility="hidden";const[r,s]=this.parentDimensions;this.width=e/r,this.height=t/s,this.fixAndSetPosition(),this.#Fs&&this.#aa(e,t),this.#Ks(),this.#Ws(),this.canvas.style.visibility="visible",this.fixDims()}#aa(e,t){const n=this.#oa(),i=(e-n)/this.#Rs,r=(t-n)/this.#Ts;this.scaleFactor=Math.min(i,r)}#ra(){const e=this.#oa()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}static#la(e){const t=new Path2D;for(let n=0,i=e.length;n<i;n++){const[i,r,s,a]=e[n];0===n&&t.moveTo(...i),t.bezierCurveTo(r[0],r[1],s[0],s[1],a[0],a[1])}return t}static#ca(e,t,n){const[i,r,s,a]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]+=i,e[t+1]=a-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]+i,e[t+1]=n+r}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=s-e[t],e[t+1]+=r;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=s-e[t+1],e[t+1]=a-n}break;default:throw new Error("Invalid rotation")}return e}static#ua(e,t,n){const[i,r,s,a]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]-=i,e[t+1]=a-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]-r,e[t+1]=n-i}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=s-e[t],e[t+1]-=r;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=a-e[t+1],e[t+1]=s-n}break;default:throw new Error("Invalid rotation")}return e}#da(e,t,n,i){const r=[],s=this.thickness/2,a=e*t+s,o=e*n+s;for(const l of this.paths){const t=[],n=[];for(let i=0,r=l.length;i<r;i++){const[s,c,u,d]=l[i];if(s[0]===d[0]&&s[1]===d[1]&&1===r){const i=e*s[0]+a,r=e*s[1]+o;t.push(i,r),n.push(i,r);break}const h=e*s[0]+a,p=e*s[1]+o,f=e*c[0]+a,g=e*c[1]+o,m=e*u[0]+a,v=e*u[1]+o,b=e*d[0]+a,y=e*d[1]+o;0===i&&(t.push(h,p),n.push(h,p)),t.push(f,g,m,v,b,y),n.push(f,g),i===r-1&&n.push(b,y)}r.push({bezier:Wp.#ca(t,i,this.rotation),points:Wp.#ca(n,i,this.rotation)})}return r}#ha(){let e=1/0,t=-1/0,n=1/0,i=-1/0;for(const r of this.paths)for(const[s,a,o,l]of r){const r=Zc.bezierBoundingBox(...s,...a,...o,...l);e=Math.min(e,r[0]),n=Math.min(n,r[1]),t=Math.max(t,r[2]),i=Math.max(i,r[3])}return[e,n,t,i]}#oa(){return this.#Fs?Math.ceil(this.thickness*this.parentScale):0}#$s(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return;if(!this.#Fs)return void this.#Ws();const t=this.#ha(),n=this.#oa();this.#Rs=Math.max(Qu.MIN_SIZE,t[2]-t[0]),this.#Ts=Math.max(Qu.MIN_SIZE,t[3]-t[1]);const i=Math.ceil(n+this.#Rs*this.scaleFactor),r=Math.ceil(n+this.#Ts*this.scaleFactor),[s,a]=this.parentDimensions;this.width=i/s,this.height=r/a,this.setAspectRatio(i,r);const o=this.translationX,l=this.translationY;this.translationX=-t[0],this.translationY=-t[1],this.#Ks(),this.#Ws(),this.#Bs=i,this.#Us=r,this.setDims(i,r);const c=e?n/this.scaleFactor/2:0;this.translate(o-this.translationX-c,l-this.translationY-c)}static deserialize(e,t,n){if(e instanceof Tp)return null;const i=super.deserialize(e,t,n);i.thickness=e.thickness,i.color=Zc.makeHexColor(...e.color),i.opacity=e.opacity;const[r,s]=i.pageDimensions,a=i.width*r,o=i.height*s,l=i.parentScale,c=e.thickness/2;i.#Fs=!0,i.#Bs=Math.round(a),i.#Us=Math.round(o);const{paths:u,rect:d,rotation:h}=e;for(let{bezier:f}of u){f=Wp.#ua(f,d,h);const e=[];i.paths.push(e);let t=l*(f[0]-c),n=l*(f[1]-c);for(let i=2,s=f.length;i<s;i+=6){const r=l*(f[i]-c),s=l*(f[i+1]-c),a=l*(f[i+2]-c),o=l*(f[i+3]-c),u=l*(f[i+4]-c),d=l*(f[i+5]-c);e.push([[t,n],[r,s],[a,o],[u,d]]),t=u,n=d}const r=this.#la(e);i.bezierPath2D.push(r)}const p=i.#ha();return i.#Rs=Math.max(Qu.MIN_SIZE,p[2]-p[0]),i.#Ts=Math.max(Qu.MIN_SIZE,p[3]-p[1]),i.#aa(a,o),i}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=Qu._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Kl.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:this.#da(this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}class Gp extends Qu{#pa=null;#fa=null;#ga=null;#ma=null;#va=null;#ba="";#ya=null;#zs=null;#wa=null;#_a=!1;#Sa=!1;static _type="stamp";static _editorType=Kl.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#ma=e.bitmapUrl,this.#va=e.bitmapFile}static initialize(e,t){Qu.initialize(e,t)}static get supportedTypes(){return zc(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map((e=>`image/${e}`)))}static get supportedTypesStr(){return zc(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(Kl.STAMP,{bitmapFile:e.getAsFile()})}#xa(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?(this.#pa=e.bitmap,t||(this.#fa=e.id,this.#_a=e.isSvg),e.file&&(this.#ba=e.file.name),this.#Gs()):this.remove()}#Aa(){this.#ga=null,this._uiManager.enableWaiting(!1),this.#ya&&this.div.focus()}#Ea(){if(this.#fa)return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(this.#fa).then((e=>this.#xa(e,!0))).finally((()=>this.#Aa()));if(this.#ma){const e=this.#ma;return this.#ma=null,this._uiManager.enableWaiting(!0),void(this.#ga=this._uiManager.imageManager.getFromUrl(e).then((e=>this.#xa(e))).finally((()=>this.#Aa())))}if(this.#va){const e=this.#va;return this.#va=null,this._uiManager.enableWaiting(!0),void(this.#ga=this._uiManager.imageManager.getFromFile(e).then((e=>this.#xa(e))).finally((()=>this.#Aa())))}const e=document.createElement("input");e.type="file",e.accept=Gp.supportedTypesStr;const t=this._uiManager._signal;this.#ga=new Promise((n=>{e.addEventListener("change",(async()=>{if(e.files&&0!==e.files.length){this._uiManager.enableWaiting(!0);const t=await this._uiManager.imageManager.getFromFile(e.files[0]);this.#xa(t)}else this.remove();n()}),{signal:t}),e.addEventListener("cancel",(()=>{this.remove(),n()}),{signal:t})})).finally((()=>this.#Aa())),e.click()}remove(){this.#fa&&(this.#pa=null,this._uiManager.imageManager.deleteId(this.#fa),this.#ya?.remove(),this.#ya=null,this.#zs?.disconnect(),this.#zs=null,this.#wa&&(clearTimeout(this.#wa),this.#wa=null)),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(this.#fa&&null===this.#ya&&this.#Ea(),this.isAttachedToDOM||this.parent.add(this))):this.#fa&&this.#Ea()}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#ga||this.#pa||this.#ma||this.#va||this.#fa)}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#pa?this.#Gs():this.#Ea(),this.width){const[n,i]=this.parentDimensions;this.setAt(e*n,t*i,this.width*n,this.height*i)}return this.div}#Gs(){const{div:e}=this;let{width:t,height:n}=this.#pa;const[i,r]=this.pageDimensions,s=.75;if(this.width)t=this.width*i,n=this.height*r;else if(t>s*i||n>s*r){const e=Math.min(s*i/t,s*r/n);t*=e,n*=e}const[a,o]=this.parentDimensions;this.setDims(t*a/i,n*o/r),this._uiManager.enableWaiting(!1);const l=this.#ya=document.createElement("canvas");e.append(l),e.hidden=!1,this.#ka(t,n),this.#qs(),this.#Sa||(this.parent.addUndoableEditor(this),this.#Sa=!0),this._reportTelemetry({action:"inserted_image"}),this.#ba&&l.setAttribute("aria-label",this.#ba)}#Ca(e,t){const[n,i]=this.parentDimensions;this.width=e/n,this.height=t/i,this.setDims(e,t),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==this.#wa&&clearTimeout(this.#wa);this.#wa=setTimeout((()=>{this.#wa=null,this.#ka(e,t)}),200)}#Ta(e,t){const{width:n,height:i}=this.#pa;let r=n,s=i,a=this.#pa;for(;r>2*e||s>2*t;){const n=r,i=s;r>2*e&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2)),s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2));const o=new OffscreenCanvas(r,s);o.getContext("2d").drawImage(a,0,0,n,i,0,0,r,s),a=o.transferToImageBitmap()}return a}#ka(e,t){e=Math.ceil(e),t=Math.ceil(t);const n=this.#ya;if(!n||n.width===e&&n.height===t)return;n.width=e,n.height=t;const i=this.#_a?this.#pa:this.#Ta(e,t);if(this._uiManager.hasMLManager&&!this.hasAltText()){const n=new OffscreenCanvas(e,t).getContext("2d");n.drawImage(i,0,0,i.width,i.height,0,0,e,t),this._uiManager.mlGuess({service:"image-to-text",request:{data:n.getImageData(0,0,e,t).data,width:e,height:t,channels:4}}).then((e=>{const t=e?.output||"";this.parent&&t&&!this.hasAltText()&&(this.altTextData={altText:t,decorative:!1})}))}const r=n.getContext("2d");r.filter=this._uiManager.hcmFilter,r.drawImage(i,0,0,i.width,i.height,0,0,e,t)}getImageForAltText(){return this.#ya}#Ra(e){if(e){if(this.#_a){const e=this._uiManager.imageManager.getSvgUrl(this.#fa);if(e)return e}const e=document.createElement("canvas");({width:e.width,height:e.height}=this.#pa);return e.getContext("2d").drawImage(this.#pa,0,0),e.toDataURL()}if(this.#_a){const[e,t]=this.pageDimensions,n=Math.round(this.width*e*yu.PDF_TO_CSS_UNITS),i=Math.round(this.height*t*yu.PDF_TO_CSS_UNITS),r=new OffscreenCanvas(n,i);return r.getContext("2d").drawImage(this.#pa,0,0,this.#pa.width,this.#pa.height,0,0,n,i),r.transferToImageBitmap()}return structuredClone(this.#pa)}#qs(){this._uiManager._signal&&(this.#zs=new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&this.#Ca(t.width,t.height)})),this.#zs.observe(this.div),this._uiManager._signal.addEventListener("abort",(()=>{this.#zs?.disconnect(),this.#zs=null}),{once:!0}))}static deserialize(e,t,n){if(e instanceof Ip)return null;const i=super.deserialize(e,t,n),{rect:r,bitmapUrl:s,bitmapId:a,isSvg:o,accessibilityData:l}=e;a&&n.imageManager.isValidId(a)?i.#fa=a:i.#ma=s,i.#_a=o;const[c,u]=i.pageDimensions;return i.width=(r[2]-r[0])/c,i.height=(r[3]-r[1])/u,l&&(i.altTextData=l),i}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;const n={annotationType:Kl.STAMP,bitmapId:this.#fa,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#_a,structTreeParentId:this._structTreeParentId};if(e)return n.bitmapUrl=this.#Ra(!0),n.accessibilityData=this.altTextData,n;const{decorative:i,altText:r}=this.altTextData;if(!i&&r&&(n.accessibilityData={type:"Figure",alt:r}),null===t)return n;t.stamps||=new Map;const s=this.#_a?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(t.stamps.has(this.#fa)){if(this.#_a){const e=t.stamps.get(this.#fa);s>e.area&&(e.area=s,e.serialized.bitmap.close(),e.serialized.bitmap=this.#Ra(!1))}}else t.stamps.set(this.#fa,{area:s,serialized:n}),n.bitmap=this.#Ra(!1);return n}}class qp{#Vi;#Ma=!1;#Pa=null;#La=null;#Ia=null;#Da=null;#Na=null;#Fa=new Map;#Oa=!1;#ja=!1;#za=!1;#Ba=null;#p;static _initialized=!1;static#O=new Map([Op,Wp,Gp,$p].map((e=>[e._editorType,e])));constructor(e){let{uiManager:t,pageIndex:n,div:i,accessibilityManager:r,annotationLayer:s,drawLayer:a,textLayer:o,viewport:l,l10n:c}=e;const u=[...qp.#O.values()];if(!qp._initialized){qp._initialized=!0;for(const e of u)e.initialize(c,t)}t.registerEditorTypes(u),this.#p=t,this.pageIndex=n,this.div=i,this.#Vi=r,this.#Pa=s,this.viewport=l,this.#Ba=o,this.drawLayer=a,this.#p.addLayer(this)}get isEmpty(){return 0===this.#Fa.size}get isInvisible(){return this.isEmpty&&this.#p.getMode()===Kl.NONE}updateToolbar(e){this.#p.updateToolbar(e)}updateMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.#p.getMode();switch(this.#Ua(),e){case Kl.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case Kl.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Kl.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of qp.#O.values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){return e===this.#Ba?.div}addInkEditorIfNeeded(e){if(this.#p.getMode()!==Kl.INK)return;if(!e)for(const t of this.#Fa.values())if(t.isEmpty())return void t.setInBackground();this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){this.#p.setEditingState(e)}addCommands(e){this.#p.addCommands(e)}togglePointerEvents(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#Pa?.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of this.#Fa.values())n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#p.removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!this.#Pa)return;const t=this.#Pa.getEditableAnnotations();for(const n of t){if(n.hide(),this.#p.isDeletedAnnotationElement(n.data.id))continue;if(e.has(n.data.id))continue;const t=this.deserialize(n);t&&(this.addOrRebuild(t),t.enableEditing())}}disable(){this.#za=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const i of this.#Fa.values())i.disableEditing(),i.annotationElementId&&(null===i.serialize()?(t.set(i.annotationElementId,i),this.getEditableAnnotation(i.annotationElementId)?.show(),i.remove()):e.set(i.annotationElementId,i));if(this.#Pa){const n=this.#Pa.getEditableAnnotations();for(const i of n){const{id:n}=i.data;if(this.#p.isDeletedAnnotationElement(n))continue;let r=t.get(n);r?(r.resetAnnotationElement(i),r.show(!1),i.show()):(r=e.get(n),r&&(this.#p.addChangedExistingAnnotation(r),r.renderAnnotationElement(i),r.show(!1)),i.show())}}this.#Ua(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const i of qp.#O.values())n.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#za=!1}getEditableAnnotation(e){return this.#Pa?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#p.getActive()!==e&&this.#p.setActiveEditor(e)}enableTextSelection(){this.div.tabIndex=-1,this.#Ba?.div&&!this.#Da&&(this.#Da=this.#Va.bind(this),this.#Ba.div.addEventListener("pointerdown",this.#Da,{signal:this.#p._signal}),this.#Ba.div.classList.add("highlighting"))}disableTextSelection(){this.div.tabIndex=0,this.#Ba?.div&&this.#Da&&(this.#Ba.div.removeEventListener("pointerdown",this.#Da),this.#Da=null,this.#Ba.div.classList.remove("highlighting"))}#Va(e){if(this.#p.unselectAll(),e.target===this.#Ba.div){const{isMac:t}=Qc.platform;if(0!==e.button||e.ctrlKey&&t)return;this.#p.showAllEditors("highlight",!0,!0),this.#Ba.div.classList.add("free"),$p.startHighlighting(this,"ltr"===this.#p.direction,e),this.#Ba.div.addEventListener("pointerup",(()=>{this.#Ba.div.classList.remove("free")}),{once:!0,signal:this.#p._signal}),e.preventDefault()}}enableClick(){if(this.#Ia)return;const e=this.#p._signal;this.#Ia=this.pointerdown.bind(this),this.#La=this.pointerup.bind(this),this.div.addEventListener("pointerdown",this.#Ia,{signal:e}),this.div.addEventListener("pointerup",this.#La,{signal:e})}disableClick(){this.#Ia&&(this.div.removeEventListener("pointerdown",this.#Ia),this.div.removeEventListener("pointerup",this.#La),this.#Ia=null,this.#La=null)}attach(e){this.#Fa.set(e.id,e);const{annotationElementId:t}=e;t&&this.#p.isDeletedAnnotationElement(t)&&this.#p.removeDeletedAnnotationElement(e)}detach(e){this.#Fa.delete(e.id),this.#Vi?.removePointerInTextLayer(e.contentDiv),!this.#za&&e.annotationElementId&&this.#p.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#p.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,this.#ja||this.addInkEditorIfNeeded(!1)}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#p.addDeletedAnnotationElement(e.annotationElementId),Qu.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(e.parent!==this||!e.isAttachedToDOM){if(this.changeParent(e),this.#p.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),this.#p.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#Na&&(e._focusEventsAllowed=!1,this.#Na=setTimeout((()=>{this.#Na=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0,signal:this.#p._signal}),t.focus())}),0)),e._structTreeParentId=this.#Vi?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return this.#p.getId()}get#Ha(){return qp.#O.get(this.#p.getMode())}get _signal(){return this.#p._signal}#$a(e){const t=this.#Ha;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#Ha?.canCreateNewEmptyEditor()}pasteEditor(e,t){this.#p.updateToolbar(e),this.#p.updateMode(e);const{offsetX:n,offsetY:i}=this.#Wa(),r=this.getNextId(),s=this.#$a({parent:this,id:r,x:n,y:i,uiManager:this.#p,isCentered:!0,...t});s&&this.add(s)}deserialize(e){return qp.#O.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#p)||null}createAndAddNewEditor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=this.getNextId(),r=this.#$a({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:this.#p,isCentered:t,...n});return r&&this.add(r),r}#Wa(){const{x:e,y:t,width:n,height:i}=this.div.getBoundingClientRect(),r=Math.max(0,e),s=Math.max(0,t),a=(r+Math.min(window.innerWidth,e+n))/2-e,o=(s+Math.min(window.innerHeight,t+i))/2-t,[l,c]=this.viewport.rotation%180===0?[a,o]:[o,a];return{offsetX:l,offsetY:c}}addNewEditor(){this.createAndAddNewEditor(this.#Wa(),!0)}setSelected(e){this.#p.setSelected(e)}toggleSelected(e){this.#p.toggleSelected(e)}isSelected(e){return this.#p.isSelected(e)}unselect(e){this.#p.unselect(e)}pointerup(e){const{isMac:t}=Qc.platform;0!==e.button||e.ctrlKey&&t||e.target===this.div&&this.#Oa&&(this.#Oa=!1,this.#Ma?this.#p.getMode()!==Kl.STAMP?this.createAndAddNewEditor(e,!1):this.#p.unselectAll():this.#Ma=!0)}pointerdown(e){if(this.#p.getMode()===Kl.HIGHLIGHT&&this.enableTextSelection(),this.#Oa)return void(this.#Oa=!1);const{isMac:t}=Qc.platform;if(0!==e.button||e.ctrlKey&&t)return;if(e.target!==this.div)return;this.#Oa=!0;const n=this.#p.getActive();this.#Ma=!n||n.isEmpty()}findNewParent(e,t,n){const i=this.#p.findParent(t,n);return null!==i&&i!==this&&(i.changeParent(e),!0)}destroy(){this.#p.getActive()?.parent===this&&(this.#p.commitOrRemove(),this.#p.setActiveEditor(null)),this.#Na&&(clearTimeout(this.#Na),this.#Na=null);for(const e of this.#Fa.values())this.#Vi?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#Fa.clear(),this.#p.removeLayer(this)}#Ua(){this.#ja=!0;for(const e of this.#Fa.values())e.isEmpty()&&e.remove();this.#ja=!1}render(e){let{viewport:t}=e;this.viewport=t,Bu(this.div,t);for(const n of this.#p.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update(e){let{viewport:t}=e;this.#p.commitOrRemove(),this.#Ua();const n=this.viewport.rotation,i=t.rotation;if(this.viewport=t,Bu(this.div,{rotation:i}),n!==i)for(const r of this.#Fa.values())r.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#p.viewParameters.realScale}}class Kp{#Si=null;#v=0;#Ga=new Map;#qa=new Map;constructor(e){let{pageIndex:t}=e;this.pageIndex=t}setParent(e){if(this.#Si){if(this.#Si!==e){if(this.#Ga.size>0)for(const t of this.#Ga.values())t.remove(),e.append(t);this.#Si=e}}else this.#Si=e}static get _svgFactory(){return zc(this,"_svgFactory",new xu)}static#Ka(e){let{x:t=0,y:n=0,width:i=1,height:r=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{style:s}=e;s.top=100*n+"%",s.left=100*t+"%",s.width=100*i+"%",s.height=100*r+"%"}#Xa(e){const t=Kp._svgFactory.create(1,1,!0);return this.#Si.append(t),t.setAttribute("aria-hidden",!0),Kp.#Ka(t,e),t}#Ya(e,t){const n=Kp._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const r=Kp._svgFactory.createElement("use");return n.append(r),r.setAttribute("href",`#${t}`),r.classList.add("clip"),i}highlight(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=this.#v++,s=this.#Xa(e.box);s.classList.add("highlight"),e.free&&s.classList.add("free");const a=Kp._svgFactory.createElement("defs");s.append(a);const o=Kp._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",l),o.setAttribute("d",e.toSVGPath()),i&&this.#qa.set(r,o);const c=this.#Ya(a,l),u=Kp._svgFactory.createElement("use");return s.append(u),s.setAttribute("fill",t),s.setAttribute("fill-opacity",n),u.setAttribute("href",`#${l}`),this.#Ga.set(r,s),{id:r,clipPathId:`url(#${c})`}}highlightOutline(e){const t=this.#v++,n=this.#Xa(e.box);n.classList.add("highlightOutline");const i=Kp._svgFactory.createElement("defs");n.append(i);const r=Kp._svgFactory.createElement("path");i.append(r);const s=`path_p${this.pageIndex}_${t}`;let a;if(r.setAttribute("id",s),r.setAttribute("d",e.toSVGPath()),r.setAttribute("vector-effect","non-scaling-stroke"),e.free){n.classList.add("free");const e=Kp._svgFactory.createElement("mask");i.append(e),a=`mask_p${this.pageIndex}_${t}`,e.setAttribute("id",a),e.setAttribute("maskUnits","objectBoundingBox");const r=Kp._svgFactory.createElement("rect");e.append(r),r.setAttribute("width","1"),r.setAttribute("height","1"),r.setAttribute("fill","white");const o=Kp._svgFactory.createElement("use");e.append(o),o.setAttribute("href",`#${s}`),o.setAttribute("stroke","none"),o.setAttribute("fill","black"),o.setAttribute("fill-rule","nonzero"),o.classList.add("mask")}const o=Kp._svgFactory.createElement("use");n.append(o),o.setAttribute("href",`#${s}`),a&&o.setAttribute("mask",`url(#${a})`);const l=o.cloneNode();return n.append(l),o.classList.add("mainOutline"),l.classList.add("secondaryOutline"),this.#Ga.set(t,n),t}finalizeLine(e,t){const n=this.#qa.get(e);this.#qa.delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){this.#Ga.get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),this.#qa.delete(e)}updatePath(e,t){this.#qa.get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){Kp.#Ka(this.#Ga.get(e),t)}show(e,t){this.#Ga.get(e).classList.toggle("hidden",!t)}rotate(e,t){this.#Ga.get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){this.#Ga.get(e).setAttribute("fill",t)}changeOpacity(e,t){this.#Ga.get(e).setAttribute("fill-opacity",t)}addClass(e,t){this.#Ga.get(e).classList.add(t)}removeClass(e,t){this.#Ga.get(e).classList.remove(t)}remove(e){null!==this.#Si&&(this.#Ga.get(e).remove(),this.#Ga.delete(e))}destroy(){this.#Si=null;for(const e of this.#Ga.values())e.remove();this.#Ga.clear()}}var Xp=Nl.AnnotationLayer,Yp=Nl.AnnotationMode,Qp=Nl.GlobalWorkerOptions,Jp=Nl.PDFDataRangeTransport,Zp=Nl.TextLayer,ef=Nl.getDocument;const tf=n.p+"static/media/cv_en.cefa0b3a2de760726dc5.pdf",nf=n.p+"static/media/cv_pl.96823cd69a79d5ec8c83.pdf",rf=Pl({key:"languageState",default:(()=>{const e=localStorage.getItem("language");return e||"en"})()}),sf=Pl({key:"neonState",default:"true"===localStorage.getItem("neon")}),af=Pl({key:"themeAtom",default:localStorage.getItem("theme")||"light"});var of=n(559);const lf=e=>{let{icon:t,color:n,classCss:i}=e;const r=Ll(af),s=t.replace("data:image/svg+xml;utf8,","");return(0,of.jsx)("div",{className:i,style:{fill:(null!==n&&void 0!==n?n:"dark"===r)?"white":"black"},dangerouslySetInnerHTML:{__html:s}})},cf=(0,t.forwardRef)(((e,t)=>{let{children:n,...i}=e;return(0,of.jsx)("button",{...i,ref:t,children:n})}));cf.defaultProps={children:void 0},cf.displayName="BaseButton";const uf=cf,df=e=>{let{onDiscoBallClick:n}=e;const i=(0,t.useRef)(null),r=30,s=Math.PI/18;(0,t.useEffect)((()=>{const e=i.current;if(e){e.style.width="60px",e.style.height="60px",e.style.marginLeft="-30px",e.innerHTML="";for(let e=0;e<Math.PI;e+=s){const t=r*Math.cos(e),n=r*Math.sin(e),i=2*Math.PI*n,s=Math.floor(i/4.8),o=2*Math.PI/s;for(let r=0;r<2*Math.PI;r+=o){const i=n*Math.cos(r),s=n*Math.sin(r);a(i,s,t,e,r)}}}}),[]);const a=(e,t,n,s,a)=>{const c=i.current;if(!c)return;const u=document.createElement("div");u.classList.add("mirror"),u.setAttribute("data-angle",s.toString()),u.style.width="4px",u.style.height="4px",u.style.transform=`translateX(${r+e-2}px) translateY(${r+t-2}px) translateZ(${n}px) rotateZ(${a}rad) rotateY(${s}rad)`,u.style.backgroundColor=o(s),u.style.animation=l(),c.appendChild(u)},o=e=>{const t=360*-e/Math.PI,n=Math.floor(20*Math.random())+30,i=Math.floor(40*Math.random())+30;return`hsl(${t}, 100%, ${e>1&&e<2?i:n}%)`},l=()=>`sparkle 1.5s ${Math.floor(3*Math.random())}s infinite`;return(0,of.jsxs)("div",{className:"ball-container hover:cursor-pointer",onClick:()=>n(),children:[(0,of.jsx)("div",{className:"string"}),(0,of.jsx)("div",{ref:i,className:"discoball"}),(0,of.jsx)("div",{className:"glow"})]})},hf="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M444.17 32H70.28C49.85 32 32 46.7 32 66.89v374.72C32 461.91 49.85 480 70.28 480h373.78c20.54 0 35.94-18.21 35.94-38.39V66.89C480.12 46.7 464.6 32 444.17 32zm-273.3 373.43h-64.18V205.88h64.18zM141 175.54h-.46c-20.54 0-33.84-15.29-33.84-34.43 0-19.49 13.65-34.42 34.65-34.42s33.85 14.82 34.31 34.42c-.01 19.14-13.31 34.43-34.66 34.43zm264.43 229.89h-64.18V296.32c0-26.14-9.34-44-32.56-44-17.74 0-28.24 12-32.91 23.69-1.75 4.2-2.22 9.92-2.22 15.76v113.66h-64.18V205.88h64.18v27.77c9.34-13.3 23.93-32.44 57.88-32.44 42.13 0 74 27.77 74 87.64z'/></svg>";const pf=n.p+"static/media/information.47322d33ec82b678028abe7f96213655.svg",ff=()=>{const e=te(),[n,i]=Il(af),[r,s]=Il(sf),[a,o]=Il(rf),[,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[p,f]=(0,t.useState)(0),g=window.location.hash;(0,t.useEffect)((()=>{let e,t;return p>0&&(e=setTimeout((()=>{f(0)}),3e3)),5===p&&"dark"===n&&(u(!0),f(0)),c&&(t=setInterval((()=>{s((e=>!e))}),300)),()=>{clearTimeout(e),clearInterval(t)}}),[p,c]),(0,t.useEffect)((()=>{const e=document.getElementById("neon");e&&e.classList.toggle("on",r),localStorage.setItem("neon",String(r))}),[r]),(0,t.useEffect)((()=>{const e=document.documentElement,t=document.body,r=localStorage.getItem("theme");r&&(i(r),e.classList.toggle("dark","dark"===r),e.classList.toggle("light","light"===r),t.classList.toggle("dark","dark"===r),t.classList.toggle("light","light"===r)),localStorage.setItem("theme",String(n))}),[n]),(0,t.useEffect)((()=>(window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b))),[]);const m=()=>{i((e=>{const t="light"===e?"dark":"light";return localStorage.setItem("theme",t),t}))},v=()=>{s((e=>(f((e=>e+1)),!e)))},b=e=>{e.currentTarget&&("T"!==e.key&&"t"!==e.key||m(),"L"!==e.key&&"l"!==e.key||v())},y="py-1 px-3 text-white focus:outline-none hover:bg-gray-700hover:text-white rounded cursor-pointer";return(0,of.jsxs)("header",{className:"w-[100%] p-5 bg-gray-500 dark:bg-gray-800",children:[(0,of.jsxs)("nav",{className:"flex items-center justify-between w-full text-xl font-bold lg:items-start",children:[(0,of.jsxs)("div",{className:"flex items-center justify-center",children:[(0,of.jsx)(uf,{className:"w-8 h-8 ml-5 mr-10 transition duration-300 transform rounded hover:scale-110",onClick:()=>e("/"),children:(0,of.jsx)(lf,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M261.56 101.28a8 8 0 00-11.06 0L66.4 277.15a8 8 0 00-2.47 5.79L63.9 448a32 32 0 0032 32H192a16 16 0 0016-16V328a8 8 0 018-8h80a8 8 0 018 8v136a16 16 0 0016 16h96.06a32 32 0 0032-32V282.94a8 8 0 00-2.47-5.79z'/><path d='M490.91 244.15l-74.8-71.56V64a16 16 0 00-16-16h-48a16 16 0 00-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0043 267.56L250.5 69.28a8 8 0 0111.06 0l207.52 198.28a16 16 0 0022.59-.44c6.14-6.36 5.63-16.86-.76-22.97z'/></svg>",color:"white"})}),(0,of.jsx)("title",{className:"text-black",children:"asd"}),(0,of.jsx)("div",{className:y,onClick:()=>e("/projects"),children:"Past Work"}),(0,of.jsx)("div",{className:y,onClick:()=>e("/skills"),children:"Skills"}),(0,of.jsx)("div",{className:y,onClick:()=>e("/cv"),children:"CV"}),(0,of.jsx)("div",{className:y,onClick:()=>e("/contact"),children:"Contact"})]}),(0,of.jsxs)("div",{className:"flex items-center justify-center space-x-5",children:[(0,of.jsx)(uf,{className:"w-8 h-8 transition duration-300 transform rounded hover:scale-110",onMouseOver:()=>h(!0),onMouseLeave:()=>h(!1),children:(0,of.jsx)("img",{alt:"asd",src:pf,color:"contrast"})}),"#/cv"===g&&(0,of.jsx)(uf,{className:"w-8 h-8 mx-5 transition duration-300 transform rounded hover:scale-110",onClick:()=>{let e="",t="";"en"===a?(e=tf,t="mkarenko_CV_EN.pdf"):(e=nf,t="mkarenko_CV_PL.pdf");const n=document.createElement("a");n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)},children:(0,of.jsx)(lf,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M376 160H272v153.37l52.69-52.68a16 16 0 0122.62 22.62l-80 80a16 16 0 01-22.62 0l-80-80a16 16 0 0122.62-22.62L240 313.37V160H136a56.06 56.06 0 00-56 56v208a56.06 56.06 0 0056 56h240a56.06 56.06 0 0056-56V216a56.06 56.06 0 00-56-56zM272 48a16 16 0 00-32 0v112h32z'/></svg>",color:"white"})}),(0,of.jsx)(uf,{className:"w-8 h-8 transition duration-300 transform rounded hover:scale-110",onClick:()=>{const e="en"===a?"pl":"en";o(e),localStorage.setItem("language",e)},children:(0,of.jsx)(lf,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M478.33 433.6l-90-218a22 22 0 00-40.67 0l-90 218a22 22 0 1040.67 16.79L316.66 406h102.67l18.33 44.39A22 22 0 00458 464a22 22 0 0020.32-30.4zM334.83 362L368 281.65 401.17 362zM267.84 342.92a22 22 0 00-4.89-30.7c-.2-.15-15-11.13-36.49-34.73 39.65-53.68 62.11-114.75 71.27-143.49H330a22 22 0 000-44H214V70a22 22 0 00-44 0v20H54a22 22 0 000 44h197.25c-9.52 26.95-27.05 69.5-53.79 108.36-31.41-41.68-43.08-68.65-43.17-68.87a22 22 0 00-40.58 17c.58 1.38 14.55 34.23 52.86 83.93.92 1.19 1.83 2.35 2.74 3.51-39.24 44.35-77.74 71.86-93.85 80.74a22 22 0 1021.07 38.63c2.16-1.18 48.6-26.89 101.63-85.59 22.52 24.08 38 35.44 38.93 36.1a22 22 0 0030.75-4.9z'/></svg>",color:"white"})}),(0,of.jsx)(uf,{type:"button",name:"code-button",className:"w-8 h-8 transition duration-300 transform rounded hover:scale-110",onClick:e=>l(!e),children:(0,of.jsx)(lf,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M160 389a20.91 20.91 0 01-13.82-5.2l-128-112a21 21 0 010-31.6l128-112a21 21 0 0127.66 31.61L63.89 256l109.94 96.19A21 21 0 01160 389zM352 389a21 21 0 01-13.84-36.81L448.11 256l-109.94-96.19a21 21 0 0127.66-31.61l128 112a21 21 0 010 31.6l-128 112A20.89 20.89 0 01352 389zM208 437a21 21 0 01-20.12-27l96-320a21 21 0 1140.23 12l-96 320A21 21 0 01208 437z'/></svg>",color:"white",classCss:"w-8"})}),(0,of.jsx)("input",{hidden:"light"===n,type:"checkbox",checked:r,className:"l hover:cursor-pointer",onChange:v}),(0,of.jsx)("input",{type:"checkbox",checked:"light"===n,className:"t hover:cursor-pointer",onChange:m})]})]}),d&&(0,of.jsx)("div",{className:"absolute z-50 p-2 font-semibold bg-gray-500 border text-offWhite right-8 top-16 rounded-2xl",children:"Change theme with T key, turn lights on/off with L key"}),c&&(0,of.jsx)("div",{className:"absolute -top-5 right-40 discoball-container",children:(0,of.jsx)(df,{onDiscoBallClick:()=>{u(!1),s(!1)}})})]})};const gf=[{id:1,name:"React",logo:n.p+"static/media/react.928f956d9c8ebcffb98a8e917154a81a.svg",website:"https://react.dev/",language:"JavaScript/TypeScript",description:"Most frequently, I work in React using TypeScript, with less frequent use of JavaScript. In total, I've been involved in over thirty projects in this framework, with a few of them in a lead role. I feel confident and comfortable in React. I have used technologies such as RESTful API, Supabase, and Firebase. For state management, I most often employ Recoil. Regarding styling, I use Tailwind CSS, which I find easy and enjoyable to use in my projects."},{id:2,name:"Flutter",logo:n.p+"static/media/flutter.83f07cb2f4c1498e672c5ea04d1dc7d1.svg",language:"Dart",website:"https://flutter.dev/",description:"I embarked on learning Dart and Flutter a year ago when a client approached us with an idea for an application, expressing a preference for it to be developed in Flutter. Right from the beginning, I found working with this framework immensely enjoyable. Flutter quickly became a technology I want to shape my future with. Additionally, for the application, I had to create a fork of a library that, unfortunately, is no longer supported by its creators."},{id:3,name:"React Native",logo:n.p+"static/media/react_native.928f956d9c8ebcffb98a8e917154a81a.svg",language:"JavaScript",website:"https://reactnative.dev/",description:"I ventured into React Native by taking on two applications, but regrettably, both projects were closed due to business reasons. Despite the challenges, this experience significantly contributed to my understanding of React Native and honed my skills in working with the framework. I'm determined to continue expanding my expertise in React Native and look forward to further opportunities for growth in this domain."},{id:4,name:"Ionic",logo:n.p+"static/media/ionic.ec4941ec53df5669412efb587405f5a5.svg",website:"https://ionic.io/",description:"Ionic, in my view, serves as a robust companion to React, especially considering React's relatively limited set of components compared to the extensive collection provided by Ionic.The implementation in projects is straightforward, and once integrated, it grants access toa wealth of additional content. This synergy between React and Ionic not only simplifiesdevelopment but also enhances the range of available features."},{id:5,name:"Tailwind CSS",logo:n.p+"static/media/tailwindcss.79614a5f61617ba49a0891494521226b.svg",website:"https://tailwindcss.com/",description:"Tailwind CSS, in short, is like a translator for CSS. While CSS is essential knowledge when building React applications, Tailwind CSS simplifies the process by providing a set of utility classes, acting as a convenient shorthand for styling, making the development of user interfaces more streamlined."},{id:6,name:"Supabase",logo:n.p+"static/media/supabase.a7c08aff547b12db0cce99366bda7d57.svg",website:"https://supabase.com/",description:"Supabase is a powerful backend-as-a-service platform that I've utilized in my projects. It provides scalable and flexible solutions for database management, authentication, andreal-time features, contributing to streamlined development and enhanced functionality."},{id:7,name:"Firebase",logo:n.p+"static/media/firebase.82a35fc0b90d124a8e7333989f767fd3.svg",website:"https://firebase.google.com/",description:"Firebase has been an integral part of my projects, offering a comprehensive suite of tools for backend services. I've leveraged its capabilities in areas such as real-time database, authentication, and cloud functions, contributing to efficient and feature-rich applications."},{id:8,name:"Recoil",logo:n.p+"static/media/recoil.6ccad09be17268d36a25202094284bca.svg",website:"https://recoiljs.org/",description:"Recoil serves as my preferred state management library in React applications. Its simplicity and flexibility make it an excellent choice for maintaining and managing state, enhancing the overall architecture and performance of the projects I work on."},{id:9,name:"Git",logo:n.p+"static/media/git.4ca5934803a48fb5016200fc37584de8.svg",website:"https://git-scm.com/",description:"Git is an essential version control tool in my development workflow. It facilitates collaboration, code versioning, and branching strategies, ensuring a structured and organized approach to managing code changes within projects."},{id:10,name:"GitHub",logo:n.p+"static/media/github.5453bd5795d05fbd44e031cb21db2d7c.svg",website:"https://github.com/",description:"GitHub is my go-to platform for version control and collaboration. I use it extensively for hosting repositories, managing projects, and contributing to open-source initiatives. GitHub's features enhance the collaborative and transparent nature of software development."},{id:11,name:"Asana",logo:n.p+"static/media/asana.0a8adb72d4f64fbebeb6a2177aa357d8.svg",website:"https://asana.com/",description:"Asana is a valuable project management tool that I've successfully integrated into my workflow. It enhances team collaboration, task tracking, and project organization, contributing to efficient and streamlined project development."},{id:12,name:"Bitbucket",logo:n.p+"static/media/bitbucket.d391ca23a0b7e45467c45487e8eb6449.svg",website:"https://bitbucket.org/",description:"Bitbucket is another version control platform that I've utilized in projects. With features like code repositories, continuous integration, and collaboration tools, Bitbucket complements my version control strategy, providing a versatile solution for project development."},{id:13,name:"Rest API",logo:n.p+"static/media/api.aceeff496910c356de58.png",website:"https://www.ibm.com/topics/rest-apis/",description:"A REST API (Representational State Transfer Application Programming Interface) allows applications to communicate over the internet by treating data as resources identified by URLs. It uses standard HTTP methods like GET, POST, PUT, and DELETE to interact with these resources. REST APIs are stateless and typically exchange data in JSON format, making them widely used in web and mobile applications."}],mf="flex-col w-full p-5 space-y-4 xl:w-1/2 rounded-xl text-white bg-slate-500 dark:bg-slate-900";const vf=n.p+"static/media/android.caa1967ac0bdd7cd41f4551ec789b710.svg";const bf=n.p+"static/media/ios.5635c45c68ce706bb98553686268d922.svg",yf=e=>{let{name:t,description:n,technologies:i,logo:r,icon:s,website:a,android:o,ios:l}=e;const c=(u=i)?gf.filter((e=>u.includes(e.id))):[];var u;return(0,of.jsxs)("div",{className:mf,children:[(0,of.jsx)("img",{alt:"logo",src:r,className:"w-full row-start-1 p-10 h-1/3"}),(0,of.jsx)("div",{className:"text-2xl font-bold",children:t}),(0,of.jsx)("div",{children:n}),(0,of.jsx)("div",{children:c.length>0&&(0,of.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3",children:c.map((e=>(0,of.jsxs)("div",{className:"flex items-center p-2 space-x-4 border rounded shadow",children:[(0,of.jsx)("img",{alt:e.name,src:e.logo,className:"w-10 h-10"}),(0,of.jsx)("strong",{children:e.name})]},e.id)))})}),(0,of.jsxs)("div",{className:"flex items-center justify-end space-x-5",children:[(0,of.jsx)("a",{href:a,children:(0,of.jsx)("img",{alt:"website",src:s,className:"w-10 rounded-full hover:cursor-pointer"})}),o&&(0,of.jsx)("a",{href:o,children:(0,of.jsx)("img",{alt:"android",src:vf,className:"w-10 h-10 hover:cursor-pointer"})}),l&&(0,of.jsx)("a",{href:l,children:(0,of.jsx)("img",{alt:"ios",src:bf,className:"w-10 h-10 hover:cursor-pointer"})})]})]})};yf.defaultProps={logo:void 0,android:void 0,ios:void 0};const wf=yf;const _f=[{id:1,name:"Hear Me",description:"The Hear Me app is designed for music artists and labels, providing a platform to connect, collaborate, and promote music. It offers tools for managing music releases, finding new talent, and enhancing networking opportunities within the music industry. The app aims to simplify the process of music promotion and discovery, making it easier for users to connect with the right people and resources to elevate their musical projects.",language:"TypeScript",framework:"React",technologies:[1,4,5,7,8,13],icon:"https://play-lh.googleusercontent.com/oXmZcNCqCZljbV3ulZxAvFU3OfurUoPKp30QseigTbxosnr8yjUHRiT0BdCXst3-zV14",logo:"https://hearme-app.com/static/media/logoHD.0bfe9b28469651c5cba6.png",website:"https://hearme-app.com/",android:"https://play.google.com/store/apps/details?id=at.klaudijarexhepi.hearme",ios:"https://apps.apple.com/at/app/hear-me-app/id6443555790"},{id:2,name:"WUB",description:"WUB is a digital platform designed to facilitate the management of services and operations. It offers a user-friendly interface where businesses can streamline their workflows, collaborate efficiently, and enhance overall productivity. With tools tailored for various industries, Wubmal focuses on improving operational efficiency and service delivery through digital solutions.",language:"TypeScript",framework:"React",technologies:[1,4,5,7,8,13],icon:"https://is1-ssl.mzstatic.com/image/thumb/Purple221/v4/c9/ca/8d/c9ca8da1-4132-3ef2-30cb-141f53c82c34/AppIcon-0-0-1x_U007emarketing-0-7-0-0-85-220.png/460x0w.webp",logo:"https://app.wubmal.com/static/media/logo.7311a9246aa0a316af5f.png",website:"https://app.wubmal.com/home",android:"https://play.google.com/store/apps/details?id=com.swenmedrow.wub",ios:"https://apps.apple.com/at/app/wub/id1628335886"},{id:3,name:"Celsion Plus",description:"The Celsion Plus app is designed to streamline project requests and facilitate communication with Celsion\u2019s sales experts. It offers users the ability to send project-related inquiries flexibly, ensuring they receive tailored support. The app aims to enhance user experience by making it easier to manage project requirements and connect with the company for assistance.",language:"dart",framework:"flutter",technologies:[2],icon:"https://play-lh.googleusercontent.com/7EEFK0SfjkqmK0q-JR6ZCTWcTdWMXFVB6Jaa4PkrCeKxWx8YGOldivoRC8PczqYIHM0=w480-h960-rw",logo:"https://celsion.de/en/wp-content/uploads/2021/03/Logo_Celsion-1.png",website:"https://celsion.de/en/celsion-plus-unsere-neue-app-fuer-ihr-individuelles-projekt/",android:"https://play.google.com/store/apps/details?id=de.celsion.celsion_plus",ios:"https://apps.apple.com/at/app/celsion-plus/id6478959901"},{id:4,name:"More Moda",description:"Moremoda is a fashion-focused platform that connects users with a diverse range of clothing and accessories. Their website showcases a variety of styles for different occasions, allowing users to browse collections easily. The app enhances the shopping experience by offering personalized recommendations, seamless navigation, and special promotions.",language:"TypeScript",framework:"React",technologies:[1,4,5,6,8],icon:"https://play-lh.googleusercontent.com/_tO2w6iudACXs3QEaAp32PMkCoiYNZTe1FeDNTB8FP7RV9UZMECOEfgIoBJesAy96pI",logo:"https://moremoda.at/wp-content/uploads/2023/03/a2.png",website:"https://app.moremoda.at/",android:"https://play.google.com/store/apps/details?id=at.saschasteiner.moremoda",ios:"https://apps.apple.com/at/app/more-moda/id6450482534"},{id:5,name:"Persoklick",description:"PersoKlick is an innovative app designed to seamlessly connect caregivers with those in need of care services. Users can easily create specific requests for care staff, while providers can quickly respond with their availability and qualifications. The app enhances communication, making it simple to match care facilities with the most suitable personnel. With a focus on data security, PersoKlick is accessible on both mobile devices and web browsers, ensuring a convenient experience for all users.",language:"TypeScript",framework:"React",technologies:[1,4,5,6,7,8],icon:"https://persoklick-test-env.web.app/assets/icon/apple-touch-icon.png",logo:n.p+"static/media/persoklick.e5c2bee5385a7b11ed5a9eb63e5eb87b.svg",website:"https://persoklick-test-env.web.app/"}],Sf=()=>(0,of.jsx)(of.Fragment,{children:_f.map((e=>(0,of.jsx)("div",{className:"flex flex-col items-center justify-between w-full h-full p-10",children:(0,of.jsx)(wf,{name:e.name,description:e.description,technologies:e.technologies,icon:e.icon,logo:e.logo,website:e.website,android:e.android||null,ios:e.ios||null})},e.id)))}),xf={_origin:"https://api.emailjs.com"},Af=(e,t,n)=>{if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class Ef{constructor(e){this.status=e.status,this.text=e.responseText}}const kf=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(((i,r)=>{const s=new XMLHttpRequest;s.addEventListener("load",(e=>{let{target:t}=e;const n=new Ef(t);200===n.status||"OK"===n.text?i(n):r(n)})),s.addEventListener("error",(e=>{let{target:t}=e;r(new Ef(t))})),s.open("POST",xf._origin+e,!0),Object.keys(n).forEach((e=>{s.setRequestHeader(e,n[e])})),s.send(t)}))},Cf=(e,t,n,i)=>{const r=i||xf._userID;Af(r,e,t);const s={lib_version:"3.2.0",user_id:r,service_id:e,template_id:t,template_params:n};return kf("/api/v1.0/email/send",JSON.stringify(s),{"Content-type":"application/json"})};var Tf=n(188),Rf=n.n(Tf),Mf=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function Pf(){return Pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pf.apply(this,arguments)}function Lf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function If(e,t){return If=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},If(e,t)}var Df=function(e){var n,i;function r(){var t;return(t=e.call(this)||this).handleExpired=t.handleExpired.bind(Lf(t)),t.handleErrored=t.handleErrored.bind(Lf(t)),t.handleChange=t.handleChange.bind(Lf(t)),t.handleRecaptchaRef=t.handleRecaptchaRef.bind(Lf(t)),t}i=e,(n=r).prototype=Object.create(i.prototype),n.prototype.constructor=n,If(n,i);var s=r.prototype;return s.getCaptchaFunction=function(e){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[e]:this.props.grecaptcha[e]:null},s.getValue=function(){var e=this.getCaptchaFunction("getResponse");return e&&void 0!==this._widgetId?e(this._widgetId):null},s.getWidgetId=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this._widgetId:null},s.execute=function(){var e=this.getCaptchaFunction("execute");if(e&&void 0!==this._widgetId)return e(this._widgetId);this._executeRequested=!0},s.executeAsync=function(){var e=this;return new Promise((function(t,n){e.executionResolve=t,e.executionReject=n,e.execute()}))},s.reset=function(){var e=this.getCaptchaFunction("reset");e&&void 0!==this._widgetId&&e(this._widgetId)},s.forceReset=function(){var e=this.getCaptchaFunction("reset");e&&e()},s.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},s.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},s.handleChange=function(e){this.props.onChange&&this.props.onChange(e),this.executionResolve&&(this.executionResolve(e),delete this.executionReject,delete this.executionResolve)},s.explicitRender=function(){var e=this.getCaptchaFunction("render");if(e&&void 0===this._widgetId){var t=document.createElement("div");this._widgetId=e(t,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(t)}this._executeRequested&&this.props.grecaptcha&&void 0!==this._widgetId&&(this._executeRequested=!1,this.execute())},s.componentDidMount=function(){this.explicitRender()},s.componentDidUpdate=function(){this.explicitRender()},s.handleRecaptchaRef=function(e){this.captcha=e},s.render=function(){var e=this.props,n=(e.sitekey,e.onChange,e.theme,e.type,e.tabindex,e.onExpired,e.onErrored,e.size,e.stoken,e.grecaptcha,e.badge,e.hl,e.isolated,function(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,Mf));return t.createElement("div",Pf({},n,{ref:this.handleRecaptchaRef}))},r}(t.Component);Df.displayName="ReCAPTCHA",Df.propTypes={sitekey:Rf().string.isRequired,onChange:Rf().func,grecaptcha:Rf().object,theme:Rf().oneOf(["dark","light"]),type:Rf().oneOf(["image","audio"]),tabindex:Rf().number,onExpired:Rf().func,onErrored:Rf().func,size:Rf().oneOf(["compact","normal","invisible"]),stoken:Rf().string,hl:Rf().string,badge:Rf().oneOf(["bottomright","bottomleft","inline"]),isolated:Rf().bool},Df.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var Nf=n(178),Ff=n.n(Nf);function Of(){return Of=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Of.apply(this,arguments)}var jf={},zf=0;var Bf="onloadcallback";function Uf(){return"undefined"!==typeof window&&window.recaptchaOptions||{}}const Vf=function(e,n){return n=n||{},function(i){var r=i.displayName||i.name||"Component",s=function(r){var s,a;function o(e,t){var n;return(n=r.call(this,e,t)||this).state={},n.__scriptURL="",n}a=r,(s=o).prototype=Object.create(a.prototype),s.prototype.constructor=s,s.__proto__=a;var l=o.prototype;return l.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+zf++),this.__scriptLoaderID},l.setupScriptURL=function(){return this.__scriptURL="function"===typeof e?e():e,this.__scriptURL},l.asyncScriptLoaderHandleLoad=function(e){var t=this;this.setState(e,(function(){return t.props.asyncScriptOnLoad&&t.props.asyncScriptOnLoad(t.state)}))},l.asyncScriptLoaderTriggerOnScriptLoaded=function(){var e=jf[this.__scriptURL];if(!e||!e.loaded)throw new Error("Script is not loaded.");for(var t in e.observers)e.observers[t](e);delete window[n.callbackName]},l.componentDidMount=function(){var e=this,t=this.setupScriptURL(),i=this.asyncScriptLoaderGetScriptLoaderID(),r=n,s=r.globalName,a=r.callbackName,o=r.scriptId;if(s&&"undefined"!==typeof window[s]&&(jf[t]={loaded:!0,observers:{}}),jf[t]){var l=jf[t];return l&&(l.loaded||l.errored)?void this.asyncScriptLoaderHandleLoad(l):void(l.observers[i]=function(t){return e.asyncScriptLoaderHandleLoad(t)})}var c={};c[i]=function(t){return e.asyncScriptLoaderHandleLoad(t)},jf[t]={loaded:!1,observers:c};var u=document.createElement("script");for(var d in u.src=t,u.async=!0,n.attributes)u.setAttribute(d,n.attributes[d]);o&&(u.id=o);var h=function(e){if(jf[t]){var n=jf[t].observers;for(var i in n)e(n[i])&&delete n[i]}};a&&"undefined"!==typeof window&&(window[a]=function(){return e.asyncScriptLoaderTriggerOnScriptLoaded()}),u.onload=function(){var e=jf[t];e&&(e.loaded=!0,h((function(t){return!a&&(t(e),!0)})))},u.onerror=function(){var e=jf[t];e&&(e.errored=!0,h((function(t){return t(e),!0})))},document.body.appendChild(u)},l.componentWillUnmount=function(){var e=this.__scriptURL;if(!0===n.removeOnUnmount)for(var t=document.getElementsByTagName("script"),i=0;i<t.length;i+=1)t[i].src.indexOf(e)>-1&&t[i].parentNode&&t[i].parentNode.removeChild(t[i]);var r=jf[e];r&&(delete r.observers[this.asyncScriptLoaderGetScriptLoaderID()],!0===n.removeOnUnmount&&delete jf[e])},l.render=function(){var e=n.globalName,r=this.props,s=(r.asyncScriptOnLoad,r.forwardedRef),a=function(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(r,["asyncScriptOnLoad","forwardedRef"]);return e&&"undefined"!==typeof window&&(a[e]="undefined"!==typeof window[e]?window[e]:void 0),a.ref=s,(0,t.createElement)(i,a)},o}(t.Component),a=(0,t.forwardRef)((function(e,n){return(0,t.createElement)(s,Of({},e,{forwardedRef:n}))}));return a.displayName="AsyncScriptLoader("+r+")",a.propTypes={asyncScriptOnLoad:Rf().func},Ff()(a,i)}}((function(){var e=Uf(),t=e.useRecaptchaNet?"recaptcha.net":"www.google.com";return e.enterprise?"https://"+t+"/recaptcha/enterprise.js?onload="+Bf+"&render=explicit":"https://"+t+"/recaptcha/api.js?onload="+Bf+"&render=explicit"}),{callbackName:Bf,globalName:"grecaptcha",attributes:Uf().nonce?{nonce:Uf().nonce}:{}})(Df),Hf=Vf,$f=e=>{let{isOpen:n,setIsOpen:i}=e;const[r,s]=(0,t.useState)(null);return(0,t.useEffect)((()=>{r&&setTimeout((()=>i(!1)),500)}),[r]),(0,of.jsxs)(of.Fragment,{children:[" ",n&&(0,of.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:(0,of.jsxs)("div",{className:"bg-white p-6 rounded shadow-lg w-96",children:[(0,of.jsx)("h2",{className:"text-black text-xl font-bold mb-4",children:"Please complete captcha to the send form"}),(0,of.jsx)(Hf,{className:"flex justify-center py-3",sitekey:"6LecdIAqAAAAAIwZ_dg3DQ5nGnPwx3xyN3YwgmnD",onChange:e=>s(e)}),(0,of.jsx)("div",{className:"w-full flex justify-end",children:(0,of.jsx)("button",{onClick:()=>i(!1),className:" bg-red-500 text-white px-4 py-2 rounded",children:"Close"})})]})})]})},Wf=e=>{let{width:t,label:n,labelPosition:i="over",...r}=e;return(0,of.jsxs)("div",{className:"w-full",style:{width:t},children:[(0,of.jsx)("label",{className:"font-semibold",children:n}),(0,of.jsx)("input",{...r,className:`w-full h-8 rounded text-center text-black ${r.className}`})]})},Gf=e=>{let{items:t,width:n,label:i,labelPosition:r="over",renderItem:s,...a}=e;return(0,of.jsxs)("div",{className:"w-full",style:{width:n},children:[(0,of.jsx)("label",{className:"font-semibold",children:i}),(0,of.jsx)("select",{...a,className:`w-full h-8 text-center text-black rounded ${a.className}`,children:t.map((e=>(0,of.jsx)("option",{value:e,children:s?s(e):e},e)))})]})},qf=e=>{let{width:t,label:n,labelPosition:i="over",...r}=e;return(0,of.jsxs)("div",{className:"w-full",style:{width:t},children:[(0,of.jsx)("label",{className:"font-semibold",children:n}),(0,of.jsx)("textarea",{...r,className:`w-full text-center align-middle rounded text-black ${r.className}`})]})};const Kf=n.p+"static/media/checkmark.a35b71352778efa2e39a86af94bc69f1.svg";const Xf=n.p+"static/media/spinner.49f5a74901b5763e14a79bf77d6b5849.svg",Yf=()=>{const[e,n]=(0,t.useState)({name:"",email:"",code:"+48",phoneNumber:void 0,country:"Poland",message:""}),[i,r]=(0,t.useState)(null),[s,a]=(0,t.useState)([]),[o,l]=(0,t.useState)(!1),c=""!==e.name&&""!==e.email;(0,t.useEffect)((()=>{(async()=>{try{const e=await fetch("https://restcountries.com/v3.1/independent?status=true&fields=name,idd,flag,altSpellings"),t=await e.json();let n=[...t];const i=t.findIndex((e=>"Poland"===e.name.common)),[r]=n.splice(i,1),s=["Vatican City","North Korea"];n=n.filter((e=>!s.includes(e.name.common))),n.unshift(r),n.sort(((e,t)=>e.name.common.localeCompare(t.name.common)));const o=[n.find((e=>"Poland"===e.name.common)),...n.filter((e=>"Poland"!==e.name.common))].map((e=>{var t;return{name:e.name.common,shortName:e.altSpellings[0],code:`${e.idd.root}${null===(t=e.idd.suffixes)||void 0===t?void 0:t[0]}`,flag:e.flag}}));a(o)}catch(e){console.error("Failed to fetch countries:",e)}})()}),[]),(0,t.useEffect)((()=>{c&&l(!0)}),[c]);const u=e=>{const{name:t,value:i}=e.target;n((e=>({...e,[t]:i})))};return(0,of.jsxs)("div",{className:"w-full h-full flex flex-col justify-center items-center gap-y-10",children:[(0,of.jsxs)("div",{className:"h-fit space-y-3 p-3 text-white bg-slate-500 dark:bg-slate-900",children:[(0,of.jsx)("div",{className:"font-semibold text-xl text-center",children:"You can call me on my mobile, send me mail or message me on LinkedIn. I also created this form. After filling and sending, I'll receive your contact info. If the form is sent successfully, you'll get a confirmation on the email below."}),(0,of.jsxs)("div",{className:"flex justify-evenly gap-4",children:[(0,of.jsx)("div",{children:(0,of.jsxs)("a",{href:"tel:+48692566688",className:"flex items-center gap-x-2 text-sm transition-transform duration-300 hover:scale-110",children:[(0,of.jsx)(lf,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M336 0H176a64 64 0 00-64 64v384a64 64 0 0064 64h160a64 64 0 0064-64V64a64 64 0 00-64-64zm32 448a32 32 0 01-32 32H176a32 32 0 01-32-32V64a32 32 0 0132-32h11.35a7.94 7.94 0 017.3 4.75A32 32 0 00224 56h64a32 32 0 0029.35-19.25 7.94 7.94 0 017.3-4.75H336a32 32 0 0132 32z'/><path d='M336 48a11.88 11.88 0 00-9.53 4.69A48 48 0 01288 72h-64a48 48 0 01-38.47-19.31A11.88 11.88 0 00176 48a16 16 0 00-16 16v384a16 16 0 0016 16h160a16 16 0 0016-16V64a16 16 0 00-16-16z'/><path d='M336 0H176a64 64 0 00-64 64v384a64 64 0 0064 64h160a64 64 0 0064-64V64a64 64 0 00-64-64zm32 448a32 32 0 01-32 32H176a32 32 0 01-32-32V64a32 32 0 0132-32h11.35a7.94 7.94 0 017.3 4.75A32 32 0 00224 56h64a32 32 0 0029.35-19.25 7.94 7.94 0 017.3-4.75H336a32 32 0 0132 32z'/></svg>",classCss:"w-6"}),"+48 692 566 688"]})}),(0,of.jsx)("div",{children:(0,of.jsxs)("a",{href:"mailto:m.karenko@outlook.com",className:"flex items-center gap-x-2 text-sm transition-transform duration-300 hover:scale-110",children:[(0,of.jsx)(lf,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M424 80H88a56.06 56.06 0 00-56 56v240a56.06 56.06 0 0056 56h336a56.06 56.06 0 0056-56V136a56.06 56.06 0 00-56-56zm-14.18 92.63l-144 112a16 16 0 01-19.64 0l-144-112a16 16 0 1119.64-25.26L256 251.73l134.18-104.36a16 16 0 0119.64 25.26z'/></svg>",classCss:"w-6"}),"m.karenko@outlook.com"]})}),(0,of.jsx)("div",{children:(0,of.jsxs)("a",{href:"https://www.linkedin.com/in/m-karenko/",className:"flex items-center gap-x-2 text-sm transition-transform duration-300 hover:scale-110",children:[(0,of.jsx)(lf,{icon:hf,classCss:"w-6"}),"Linkedin"]})})]})]}),(0,of.jsxs)("form",{className:"w-1/3 flex flex-col gap-y-3 py-3 px-5 text-white rounded-xl bg-slate-500 dark:bg-slate-900",children:[(0,of.jsx)("div",{className:"w-full flex justify-center",children:(0,of.jsx)(Wf,{type:"text",name:"name",maxLength:20,label:"Name/Company",placeholder:"name",width:"80%",value:e.name,onChange:u})}),(0,of.jsx)("div",{className:"w-full flex justify-center",children:(0,of.jsx)(Wf,{type:"text",name:"email",maxLength:32,label:"Email",placeholder:"example@email.com",width:"80%",value:e.email,onChange:u})}),(0,of.jsxs)("div",{className:"w-full flex justify-center items-center space-x-3",children:[(0,of.jsx)(Gf,{label:"Phone number",items:s,name:"code",renderItem:e=>(0,of.jsxs)(of.Fragment,{children:[e.shortName," ",e.flag," ",e.code]}),width:"30%",onChange:u}),(0,of.jsx)(Wf,{label:"*",type:"number",name:"phoneNumber",placeholder:"678 345 129",value:e.phoneNumber,width:"calc(50% - 12px)",onChange:e=>{e.target.value.length<=12&&u(e)}})]}),(0,of.jsx)("div",{className:"w-full flex justify-center",children:(0,of.jsx)(Gf,{label:"Country *",name:"country",value:e.country,items:s,width:"80%",renderItem:e=>(0,of.jsxs)(of.Fragment,{children:[e.flag," ",e.name]}),onChange:u})}),(0,of.jsx)("div",{className:"w-full flex justify-center",children:(0,of.jsx)(qf,{label:"Message *",name:"message",placeholder:"optional",max:120,width:"80%",style:{lineHeight:"32px"},value:e.message,onChange:u})}),(0,of.jsx)("div",{className:"w-full flex justify-center",children:(0,of.jsx)("div",{className:"text-xs text-end",children:"Inputs marked with * are optional, and aren't needed to complete form"})}),o&&(0,of.jsx)($f,{isOpen:o,setIsOpen:l}),(0,of.jsxs)("button",{type:"submit",disabled:!c,className:"flex w-auto px-5 py-2 mx-auto font-semibold text-black bg-blue-200 border rounded-2xl disabled:bg-gray-500 disabled:border-0 disabled:text-white disabled:cursor-not-allowed",onClick:async t=>{t.preventDefault(),r("sending");const n={from_name:e.name,name:e.name,mail:e.email,phone:e.code+" "+e.phoneNumber,country:e.email,message:e.message};try{Cf("service_h1w48k6","template_7zx81mj",n,"nFeVTy63w81XQerxI").then((e=>console.log("SUCCESS!",e.status,e.text)),(e=>console.error("FAILED...",e)))}catch(i){throw i.message}finally{setTimeout((()=>r("sent")),2e3)}},children:[!i&&"Send","sending"===i&&(0,of.jsxs)("div",{className:"flex justify-center items-center space-x-2",children:[(0,of.jsx)("img",{alt:"sending",src:Xf,className:"animate-spin w-8"}),(0,of.jsx)("div",{children:"Processing..."})]}),"sent"===i&&(0,of.jsxs)("div",{className:"flex justify-center items-center",children:[(0,of.jsx)("img",{alt:"sent",src:Kf,className:"w-8"}),(0,of.jsx)("div",{children:"Sent"})]})]})]})]})},Qf=e=>{let{contributionData:n}=e;const[i,r]=(0,t.useState)(null);let s="";const a=e=>{r(e)};return(0,of.jsx)("div",{className:"flex space-x-1",children:n&&[n.weeks.slice(0,28),n.weeks.slice(28)].map(((e,t)=>(0,of.jsx)("div",{className:"flex gap-1",children:e.map(((e,t)=>{const n=(r=e.firstDay,["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][new Date(r).getMonth()]);var r;const o=n!==s;return s=n,(0,of.jsxs)("div",{children:[(0,of.jsx)("div",{className:"absolute",children:o&&(0,of.jsx)(of.Fragment,{children:n})}),(0,of.jsx)("div",{className:"mt-6",children:e.contributionDays.map(((e,t)=>(0,of.jsx)("div",{className:"w-4 h-4 rounded-lg my-px",style:{backgroundColor:0===e.contributionCount?"#434552":e.color},onMouseOver:()=>a(e.date),onMouseOut:()=>a(""),children:i===e.date&&(0,of.jsxs)("div",{className:"absolute bg-slate-700 p-2 rounded-lg shadow text-secondary",children:[(0,of.jsxs)("p",{children:["Date: ",e.date]}),(0,of.jsxs)("p",{children:["Contributions: ",e.contributionCount]})]})},t)))})]},t)}))},t)))})},Jf=()=>{const e=(0,t.useRef)(null),[,n]=(0,t.useState)(!0),[i,r]=(0,t.useState)("mkarenko"),[s]=(0,t.useState)();(0,t.useEffect)((()=>{(async()=>{n(!0),n(!1)})()}),[i]);const a=()=>{e.current&&r(e.current.value)};return(0,of.jsxs)("div",{className:"w-full px-24 py-10 space-y-20 text-black dark:text-white",style:{height:"calc(100vh - 80px)"},children:[(0,of.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,of.jsxs)("div",{className:"flex flex-col w-3/5 gap-2",children:[(0,of.jsx)("div",{className:"text-7xl",children:"Hi, I'm Micha\u0142 Kare\u0144ko"}),(0,of.jsx)("div",{className:"flex justify-center text-xl",children:"(...but You can call me Mike)"}),(0,of.jsx)("div",{className:"text-3xl",children:"Frontend Developer"}),(0,of.jsx)("div",{children:"This site here is create with React.TS, while I'm normally creating web apps with use of Ionic, for my own page I wanted to crate page with as little libraries, as I can. List of libraries that I used for that website:"})]}),(0,of.jsx)("div",{className:"w-[400px] blurred"})]}),(0,of.jsxs)("div",{className:"flex flex-col w-full",children:[null!=i&&(0,of.jsxs)(of.Fragment,{children:[(0,of.jsxs)("div",{className:"flex-col mt-5 text-lg",children:["mkarenko"===i&&"","mkarenko"!==i&&(0,of.jsxs)("div",{className:"flex",children:["Contributions of user:\xa0",(0,of.jsx)("div",{className:"font-bold",children:null===s||void 0===s?void 0:s.name})]}),(0,of.jsxs)("div",{className:"flex",children:["Total contributions:\xa0",(0,of.jsx)("div",{className:"font-bold",children:null===s||void 0===s?void 0:s.contributionsCollection.contributionCalendar.totalContributions})]})]}),s&&(0,of.jsx)(Qf,{contributionData:s.contributionsCollection.contributionCalendar})]}),(0,of.jsx)("div",{className:"w-1/3 mt-5 mb-2 text-xl",children:"Search GitHub user to check his overall contributions:"}),(0,of.jsxs)("div",{className:"flex justify-start h-8 space-x-2",children:[(0,of.jsx)("input",{ref:e,className:"w-1/4 p-2 rounded-xl",onKeyDown:e=>{"Enter"===e.key&&a()}}),(0,of.jsx)("button",{onClick:a,children:(0,of.jsx)(lf,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z'/></svg>",color:"#e9dcc5",classCss:"w-8 h-8"})})]}),null===i&&(0,of.jsx)("div",{className:"text-xl text-red-300",children:"User not found"})]}),(0,of.jsxs)("div",{className:"absolute flex w-40 right-5 bottom-7 justify-evenly",children:[(0,of.jsx)(uf,{className:"w-8 h-8 transition duration-300 transform rounded hover:scale-110",onClick:()=>window.location.href="https://github.com/mkarenko/",children:(0,of.jsx)(lf,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 32C132.3 32 32 134.9 32 261.7c0 101.5 64.2 187.5 153.2 217.9a17.56 17.56 0 003.8.4c8.3 0 11.5-6.1 11.5-11.4 0-5.5-.2-19.9-.3-39.1a102.4 102.4 0 01-22.6 2.7c-43.1 0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1 1.4-14.1h.1c22.5 2 34.3 23.8 34.3 23.8 11.2 19.6 26.2 25.1 39.6 25.1a63 63 0 0025.6-6c2-14.8 7.8-24.9 14.2-30.7-49.7-5.8-102-25.5-102-113.5 0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8a18.64 18.64 0 015-.5c8.1 0 26.4 3.1 56.6 24.1a208.21 208.21 0 01112.2 0c30.2-21 48.5-24.1 56.6-24.1a18.64 18.64 0 015 .5c12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6 0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5 0 30.7-.3 55.5-.3 63 0 5.4 3.1 11.5 11.4 11.5a19.35 19.35 0 004-.4C415.9 449.2 480 363.1 480 261.7 480 134.9 379.7 32 256 32z'/></svg>"})}),(0,of.jsx)(uf,{className:"w-8 h-8 transition duration-300 transform rounded hover:scale-110",onClick:()=>window.location.href="https://www.linkedin.com/in/m-karenko/",children:(0,of.jsx)(lf,{icon:hf})})]})]})},Zf=()=>{const[e,n]=(0,t.useState)(5),i=te();return(0,t.useEffect)((()=>{const t=setTimeout((()=>{if(0===e)return i("/home");n((e=>e-1))}),1e3);return()=>clearTimeout(t)}),[e,n]),(0,of.jsx)("div",{className:"flex justify-center text-2xl text-red-300",children:"404 Not Found"})},eg=e=>{let{name:t,logo:n,language:i,description:r,url:s}=e;return(0,of.jsxs)("div",{className:`${mf}`,onClick:()=>window.location.href=s,children:[(0,of.jsx)("img",{alt:"logo",src:n,className:"flex w-1/2 p-10 mx-auto"}),(0,of.jsx)("div",{className:"text-2xl font-bold",children:t}),(0,of.jsx)("div",{className:"ml-2 text-sm",children:null!==i&&void 0!==i?i:""}),(0,of.jsx)("div",{children:r})]})},tg=()=>(0,of.jsx)(of.Fragment,{children:gf.map((e=>(0,of.jsx)("div",{className:"flex flex-col items-center justify-between w-full h-full p-10",children:(0,of.jsx)(eg,{name:e.name,logo:e.logo,url:e.website,description:e.description},e.id)},e.id)))});var ng=function(e,t,n){if(n||2===arguments.length)for(var i,r=0,s=t.length;r<s;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},ig=ng(ng(ng(ng(ng(ng(ng(ng(ng(ng(ng(ng(ng(ng(ng(ng(ng(ng([],["onCopy","onCut","onPaste"],!0),["onCompositionEnd","onCompositionStart","onCompositionUpdate"],!0),["onFocus","onBlur"],!0),["onInput","onInvalid","onReset","onSubmit"],!0),["onLoad","onError"],!0),["onKeyDown","onKeyPress","onKeyUp"],!0),["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],!0),["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],!0),["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],!0),["onSelect"],!0),["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],!0),["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],!0),["onScroll"],!0),["onWheel"],!0),["onAnimationStart","onAnimationEnd","onAnimationIteration"],!0),["onTransitionEnd"],!0),["onChange"],!0),["onToggle"],!0);function rg(e,t){var n={};return ig.forEach((function(i){var r=e[i];r&&(n[i]=t?function(e){return r(e,t(i))}:r)})),n}function sg(e){var t=!1;return{promise:new Promise((function(n,i){e.then((function(e){return!t&&n(e)})).catch((function(e){return!t&&i(e)}))})),cancel:function(){t=!0}}}function ag(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=ag(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}const og=function(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=ag(e))&&(i&&(i+=" "),i+=t);return i};var lg=!0,cg="Invariant failed";function ug(e,t){if(!e){if(lg)throw new Error(cg);var n="function"===typeof t?t():t,i=n?"".concat(cg,": ").concat(n):cg;throw new Error(i)}}var dg=n(991),hg=Object.prototype.hasOwnProperty;function pg(e,t,n){for(n of e.keys())if(fg(n,t))return n}function fg(e,t){var n,i,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((i=e.length)===t.length)for(;i--&&fg(e[i],t[i]););return-1===i}if(n===Set){if(e.size!==t.size)return!1;for(i of e){if((r=i)&&"object"===typeof r&&!(r=pg(t,r)))return!1;if(!t.has(r))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(i of e){if((r=i[0])&&"object"===typeof r&&!(r=pg(t,r)))return!1;if(!fg(i[1],t.get(r)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((i=e.byteLength)===t.byteLength)for(;i--&&e.getInt8(i)===t.getInt8(i););return-1===i}if(ArrayBuffer.isView(e)){if((i=e.byteLength)===t.byteLength)for(;i--&&e[i]===t[i];);return-1===i}if(!n||"object"===typeof e){for(n in i=0,e){if(hg.call(e,n)&&++i&&!hg.call(t,n))return!1;if(!(n in t)||!fg(e[n],t[n]))return!1}return Object.keys(t).length===i}}return e!==e&&t!==t}const gg=(0,t.createContext)(null);function mg(e){let{children:t,type:n}=e;return(0,of.jsx)("div",{className:`react-pdf__message react-pdf__message--${n}`,children:t})}class vg{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return ug(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(e){ug(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise((t=>{ug(this.pdfDocument,"PDF document not loaded."),ug(e,"Destination is not specified."),"string"===typeof e?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)})).then((e=>{ug(Array.isArray(e),`"${e}" is not a valid destination array.`);const t=e[0];new Promise((e=>{ug(this.pdfDocument,"PDF document not loaded."),t instanceof Object?this.pdfDocument.getPageIndex(t).then((t=>{e(t)})).catch((()=>{ug(!1,`"${t}" is not a valid page reference.`)})):"number"===typeof t?e(t):ug(!1,`"${t}" is not a valid destination reference.`)})).then((t=>{const n=t+1;ug(this.pdfViewer,"PDF viewer is not initialized."),ug(n>=1&&n<=this.pagesCount,`"${n}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:t,pageNumber:n})}))}))}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;ug(this.pdfViewer,"PDF viewer is not initialized."),ug(e>=1&&e<=this.pagesCount,`"${e}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||"noopener noreferrer nofollow",e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const bg={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},yg="undefined"!==typeof window,wg=yg&&"file:"===window.location.protocol;function _g(e){return function(e){return"undefined"!==typeof e}(e)&&null!==e}function Sg(e){return function(e){return"string"===typeof e}(e)&&/^data:/.test(e)}function xg(e){ug(Sg(e),"Invalid data URI.");const[t="",n=""]=e.split(",");return-1!==t.split(";").indexOf("base64")?atob(n):unescape(n)}function Ag(){return yg&&window.devicePixelRatio||1}const Eg="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function kg(){dg(!wg,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${Eg}`)}function Cg(e){(null===e||void 0===e?void 0:e.cancel)&&e.cancel()}function Tg(e,t){return Object.defineProperty(e,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}function Rg(e,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function Mg(){return(0,t.useReducer)(Rg,{value:void 0,error:void 0})}var Pg=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function a(e){try{l(i.next(e))}catch(t){s(t)}}function o(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((i=i.apply(e,t||[])).next())}))},Lg=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const{PDFDataRangeTransport:Ig}=e,Dg=(e,t)=>{switch(t){case bg.NEED_PASSWORD:e(prompt("Enter the password to open this PDF file."));break;case bg.INCORRECT_PASSWORD:e(prompt("Invalid password. Please try again."));break}};function Ng(e){return"object"===typeof e&&null!==e&&("data"in e||"range"in e||"url"in e)}const Fg=(0,t.forwardRef)((function(e,n){var{children:i,className:r,error:s="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:u,loading:d="Loading PDF\u2026",noData:h="No PDF file specified.",onItemClick:p,onLoadError:f,onLoadProgress:g,onLoadSuccess:m,onPassword:v=Dg,onSourceError:b,onSourceSuccess:y,options:w,renderMode:_,rotate:S}=e,x=Lg(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[A,E]=Mg(),{value:k,error:C}=A,[T,R]=Mg(),{value:M,error:P}=T,L=(0,t.useRef)(new vg),I=(0,t.useRef)([]),D=(0,t.useRef)(void 0),N=(0,t.useRef)(void 0);l&&l!==D.current&&Ng(l)&&(dg(!fg(l,D.current),'File prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.'),D.current=l),w&&w!==N.current&&(dg(!fg(w,N.current),'Options prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.'),N.current=w);const F=(0,t.useRef)({scrollPageIntoView:e=>{const{dest:t,pageNumber:n,pageIndex:i=n-1}=e;if(p)return void p({dest:t,pageIndex:i,pageNumber:n});const r=I.current[i];r?r.scrollIntoView():dg(!1,`An internal link leading to page ${n} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});(0,t.useImperativeHandle)(n,(()=>({linkService:L,pages:I,viewer:F})),[]),(0,t.useEffect)((function(){E({type:"RESET"})}),[l,E]);const O=(0,t.useCallback)((()=>Pg(this,void 0,void 0,(function*(){if(!l)return null;if("string"===typeof l){if(Sg(l)){return{data:xg(l)}}return kg(),{url:l}}if(l instanceof Ig)return{range:l};if(l instanceof ArrayBuffer)return{data:l};if(yg&&function(e){return ug(yg,"isBlob can only be used in a browser environment"),e instanceof Blob}(l)){const e=yield function(e){return new Promise(((t,n)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return n(new Error("Error while reading a file."));t(i.result)},i.onerror=e=>{if(!e.target)return n(new Error("Error while reading a file."));const{error:t}=e.target;if(!t)return n(new Error("Error while reading a file."));switch(t.code){case t.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case t.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case t.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},i.readAsArrayBuffer(e)}))}(l);return{data:e}}if(ug("object"===typeof l,"Invalid parameter in file, need either Uint8Array, string or a parameter object"),ug(Ng(l),"Invalid parameter object: need either .data, .range or .url"),"url"in l&&"string"===typeof l.url){if(Sg(l.url)){const{url:e}=l,t=Lg(l,["url"]),n=xg(e);return Object.assign({data:n},t)}kg()}return l}))),[l]);(0,t.useEffect)((()=>{const e=sg(O());return e.promise.then((e=>{E({type:"RESOLVE",value:e})})).catch((e=>{E({type:"REJECT",error:e})})),()=>{Cg(e)}}),[O,E]),(0,t.useEffect)((()=>{"undefined"!==typeof k&&(!1!==k?y&&y():C&&(dg(!1,C.toString()),b&&b(C)))}),[k]),(0,t.useEffect)((function(){R({type:"RESET"})}),[R,k]),(0,t.useEffect)((function(){if(!k)return;const e=w?Object.assign(Object.assign({},k),w):k,t=ef(e);g&&(t.onProgress=g),v&&(t.onPassword=v);const n=t,i=n.promise.then((e=>{R({type:"RESOLVE",value:e})})).catch((e=>{n.destroyed||R({type:"REJECT",error:e})}));return()=>{i.finally((()=>n.destroy()))}}),[w,R,k]),(0,t.useEffect)((()=>{"undefined"!==typeof M&&(!1!==M?M&&(m&&m(M),I.current=new Array(M.numPages),L.current.setDocument(M)):P&&(dg(!1,P.toString()),f&&f(P)))}),[M]),(0,t.useEffect)((function(){L.current.setViewer(F.current),L.current.setExternalLinkRel(a),L.current.setExternalLinkTarget(o)}),[a,o]);const j=(0,t.useCallback)(((e,t)=>{I.current[e]=t}),[]),z=(0,t.useCallback)((e=>{delete I.current[e]}),[]),B=(0,t.useMemo)((()=>({imageResourcesPath:u,linkService:L.current,onItemClick:p,pdf:M,registerPage:j,renderMode:_,rotate:S,unregisterPage:z})),[u,p,M,j,_,S,z]),U=(0,t.useMemo)((()=>rg(x,(()=>M))),[x,M]);return(0,of.jsx)("div",Object.assign({className:og("react-pdf__Document",r),ref:c,style:{"--scale-factor":"1"}},U,{children:l?void 0===M||null===M?(0,of.jsx)(mg,{type:"loading",children:"function"===typeof d?d():d}):!1===M?(0,of.jsx)(mg,{type:"error",children:"function"===typeof s?s():s}):(0,of.jsx)(gg.Provider,{value:B,children:i}):(0,of.jsx)(mg,{type:"no-data",children:"function"===typeof h?h():h})}))})),Og=Fg;function jg(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter(Boolean);return n.length<=1?n[0]||null:function(e){n.forEach((function(t){"function"===typeof t?t(e):t&&(t.current=e)}))}}const zg=(0,t.createContext)(null),Bg={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Ug=/^H(\d+)$/;function Vg(e){return"children"in e}function Hg(e){return!!Vg(e)&&(1===e.children.length&&0 in e.children&&"id"in e.children[0])}function $g(e){const t={};if(Vg(e)){const{role:n}=e,i=n.match(Ug);if(i)t.role="heading",t["aria-level"]=Number(i[1]);else if(function(e){return e in Bg}(n)){const e=Bg[n];e&&(t.role=e)}}return t}function Wg(e){const t={};if(Vg(e)){if(void 0!==e.alt&&(t["aria-label"]=e.alt),void 0!==e.lang&&(t.lang=e.lang),Hg(e)){const[n]=e.children;if(n){const e=Wg(n);return Object.assign(Object.assign({},t),e)}}}else"id"in e&&(t["aria-owns"]=e.id);return t}function Gg(e){return e?Object.assign(Object.assign({},$g(e)),Wg(e)):null}function qg(e){let{className:n,node:i}=e;const r=(0,t.useMemo)((()=>Gg(i)),[i]),s=(0,t.useMemo)((()=>Vg(i)?Hg(i)?null:i.children.map(((e,t)=>(0,of.jsx)(qg,{node:e},t))):null),[i]);return(0,of.jsx)("span",Object.assign({className:n},r,{children:s}))}function Kg(){return(0,t.useContext)(zg)}function Xg(){const e=Kg();ug(e,"Unable to find Page context.");const{onGetStructTreeError:n,onGetStructTreeSuccess:i}=e,[r,s]=Mg(),{value:a,error:o}=r,{customTextRenderer:l,page:c}=e;return(0,t.useEffect)((function(){s({type:"RESET"})}),[s,c]),(0,t.useEffect)((function(){if(l)return;if(!c)return;const e=sg(c.getStructTree()),t=e;return e.promise.then((e=>{s({type:"RESOLVE",value:e})})).catch((e=>{s({type:"REJECT",error:e})})),()=>Cg(t)}),[l,c,s]),(0,t.useEffect)((()=>{void 0!==a&&(!1!==a?a&&i&&i(a):o&&(dg(!1,o.toString()),n&&n(o)))}),[a]),a?(0,of.jsx)(qg,{className:"react-pdf__Page__structTree structTree",node:a}):null}const Yg=Yp;function Qg(e){const n=Kg();ug(n,"Unable to find Page context.");const i=Object.assign(Object.assign({},n),e),{_className:r,canvasBackground:s,devicePixelRatio:a=Ag(),onRenderError:o,onRenderSuccess:l,page:c,renderForms:u,renderTextLayer:d,rotate:h,scale:p}=i,{canvasRef:f}=e;ug(c,"Attempted to render page canvas, but no page was specified.");const g=(0,t.useRef)(null);function m(e){(function(e){return"RenderingCancelledException"===e.name})(e)||(dg(!1,e.toString()),o&&o(e))}const v=(0,t.useMemo)((()=>c.getViewport({scale:p*a,rotation:h})),[a,c,h,p]),b=(0,t.useMemo)((()=>c.getViewport({scale:p,rotation:h})),[c,h,p]);(0,t.useEffect)((function(){if(!c)return;c.cleanup();const{current:e}=g;if(!e)return;e.width=v.width,e.height=v.height,e.style.width=`${Math.floor(b.width)}px`,e.style.height=`${Math.floor(b.height)}px`,e.style.visibility="hidden";const t={annotationMode:u?Yg.ENABLE_FORMS:Yg.ENABLE,canvasContext:e.getContext("2d",{alpha:!1}),viewport:v};s&&(t.background=s);const n=c.render(t),i=n;return n.promise.then((()=>{e.style.visibility="",c&&l&&l(Tg(c,p))})).catch(m),()=>Cg(i)}),[s,c,u,v,b]);const y=(0,t.useCallback)((()=>{const{current:e}=g;e&&(e.width=0,e.height=0)}),[]);return(0,t.useEffect)((()=>y),[y]),(0,of.jsx)("canvas",{className:`${r}__canvas`,dir:"ltr",ref:jg(f,g),style:{display:"block",userSelect:"none"},children:d?(0,of.jsx)(Xg,{}):null})}function Jg(){const e=Kg();ug(e,"Unable to find Page context.");const{customTextRenderer:n,onGetTextError:i,onGetTextSuccess:r,onRenderTextLayerError:s,onRenderTextLayerSuccess:a,page:o,pageIndex:l,pageNumber:c,rotate:u,scale:d}=e;ug(o,"Attempted to load page text content, but no page was specified.");const[h,p]=Mg(),{value:f,error:g}=h,m=(0,t.useRef)(null),v=(0,t.useRef)(void 0);dg(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10),"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),(0,t.useEffect)((function(){p({type:"RESET"})}),[o,p]),(0,t.useEffect)((function(){if(!o)return;const e=sg(o.getTextContent()),t=e;return e.promise.then((e=>{p({type:"RESOLVE",value:e})})).catch((e=>{p({type:"REJECT",error:e})})),()=>Cg(t)}),[o,p]),(0,t.useEffect)((()=>{void 0!==f&&(!1!==f?f&&r&&r(f):g&&(dg(!1,g.toString()),i&&i(g)))}),[f]);const b=(0,t.useCallback)((()=>{a&&a()}),[a]),y=(0,t.useCallback)((e=>{dg(!1,e.toString()),s&&s(e)}),[s]);const w=(0,t.useMemo)((()=>o.getViewport({scale:d,rotation:u})),[o,u,d]);return(0,t.useLayoutEffect)((function(){if(!o||!f)return;const{current:e}=m;if(!e)return;e.innerHTML="";const t=o.streamTextContent({includeMarkedContent:!0}),i=new Zp({container:e,textContentSource:t,viewport:w}),r=i;return i.render().then((()=>{const t=document.createElement("div");t.className="endOfContent",e.append(t),v.current=t;const i=e.querySelectorAll('[role="presentation"]');if(n){let e=0;f.items.forEach(((t,r)=>{if(!function(e){return"str"in e}(t))return;const s=i[e];if(!s)return;const a=n(Object.assign({pageIndex:l,pageNumber:c,itemIndex:r},t));s.innerHTML=a,e+=t.str&&t.hasEOL?2:1}))}b()})).catch(y),()=>Cg(r)}),[n,y,b,o,l,c,f,w]),(0,of.jsx)("div",{className:og("react-pdf__Page__textContent","textLayer"),onMouseUp:function(){const e=v.current;e&&e.classList.remove("active")},onMouseDown:function(){const e=v.current;e&&e.classList.add("active")},ref:m})}function Zg(){return(0,t.useContext)(gg)}function em(){const e=Zg(),n=Kg();ug(n,"Unable to find Page context.");const i=Object.assign(Object.assign({},e),n),{imageResourcesPath:r,linkService:s,onGetAnnotationsError:a,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:c,page:u,pdf:d,renderForms:h,rotate:p,scale:f=1}=i;ug(d,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),ug(u,"Attempted to load page annotations, but no page was specified."),ug(s,"Attempted to load page annotations, but no linkService was specified.");const[g,m]=Mg(),{value:v,error:b}=g,y=(0,t.useRef)(null);dg(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10),"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),(0,t.useEffect)((function(){m({type:"RESET"})}),[m,u]),(0,t.useEffect)((function(){if(!u)return;const e=sg(u.getAnnotations()),t=e;return e.promise.then((e=>{m({type:"RESOLVE",value:e})})).catch((e=>{m({type:"REJECT",error:e})})),()=>{Cg(t)}}),[m,u]),(0,t.useEffect)((()=>{void 0!==v&&(!1!==v?v&&o&&o(v):b&&(dg(!1,b.toString()),a&&a(b)))}),[v]);const w=(0,t.useMemo)((()=>u.getViewport({scale:f,rotation:p})),[u,p,f]);return(0,t.useEffect)((function(){if(!d||!u||!s||!v)return;const{current:e}=y;if(!e)return;const t=w.clone({dontFlip:!0}),n={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:e,l10n:null,page:u,viewport:t},i={annotations:v,annotationStorage:d.annotationStorage,div:e,imageResourcesPath:r,linkService:s,page:u,renderForms:h,viewport:t};e.innerHTML="";try{new Xp(n).render(i),c&&c()}catch(a){!function(e){dg(!1,`${e}`),l&&l(e)}(a)}return()=>{}}),[v,r,s,u,d,h,w]),(0,of.jsx)("div",{className:og("react-pdf__Page__annotations","annotationLayer"),ref:y})}var tm=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const nm=1;function im(e){const n=Zg(),i=Object.assign(Object.assign({},n),e),{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:a,canvasRef:o,children:l,className:c,customRenderer:u,customTextRenderer:d,devicePixelRatio:h,error:p="Failed to load the page.",height:f,inputRef:g,loading:m="Loading page\u2026",noData:v="No page specified.",onGetAnnotationsError:b,onGetAnnotationsSuccess:y,onGetStructTreeError:w,onGetStructTreeSuccess:_,onGetTextError:S,onGetTextSuccess:x,onLoadError:A,onLoadSuccess:E,onRenderAnnotationLayerError:k,onRenderAnnotationLayerSuccess:C,onRenderError:T,onRenderSuccess:R,onRenderTextLayerError:M,onRenderTextLayerSuccess:P,pageIndex:L,pageNumber:I,pdf:D,registerPage:N,renderAnnotationLayer:F=!0,renderForms:O=!1,renderMode:j="canvas",renderTextLayer:z=!0,rotate:B,scale:U=nm,unregisterPage:V,width:H}=i,$=tm(i,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[W,G]=Mg(),{value:q,error:K}=W,X=(0,t.useRef)(null);ug(D,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const Y=_g(I)?I-1:null!==L&&void 0!==L?L:null,Q=null!==I&&void 0!==I?I:_g(L)?L+1:null,J=null!==B&&void 0!==B?B:q?q.rotate:null,Z=(0,t.useMemo)((()=>{if(!q)return null;let e=1;const t=null!==U&&void 0!==U?U:nm;if(H||f){const t=q.getViewport({scale:1,rotation:J});H?e=H/t.width:f&&(e=f/t.height)}return t*e}),[f,q,J,U,H]);(0,t.useEffect)((function(){return()=>{_g(Y)&&s&&V&&V(Y)}}),[s,D,Y,V]),(0,t.useEffect)((function(){G({type:"RESET"})}),[G,D,Y]),(0,t.useEffect)((function(){if(!D||!Q)return;const e=sg(D.getPage(Q)),t=e;return e.promise.then((e=>{G({type:"RESOLVE",value:e})})).catch((e=>{G({type:"REJECT",error:e})})),()=>Cg(t)}),[G,D,Q]),(0,t.useEffect)((()=>{void 0!==q&&(!1!==q?function(){if(E){if(!q||!Z)return;E(Tg(q,Z))}if(s&&N){if(!_g(Y)||!X.current)return;N(Y,X.current)}}():K&&(dg(!1,K.toString()),A&&A(K)))}),[q,Z]);const ee=(0,t.useMemo)((()=>q&&_g(Y)&&Q&&_g(J)&&_g(Z)?{_className:r,canvasBackground:a,customTextRenderer:d,devicePixelRatio:h,onGetAnnotationsError:b,onGetAnnotationsSuccess:y,onGetStructTreeError:w,onGetStructTreeSuccess:_,onGetTextError:S,onGetTextSuccess:x,onRenderAnnotationLayerError:k,onRenderAnnotationLayerSuccess:C,onRenderError:T,onRenderSuccess:R,onRenderTextLayerError:M,onRenderTextLayerSuccess:P,page:q,pageIndex:Y,pageNumber:Q,renderForms:O,renderTextLayer:z,rotate:J,scale:Z}:null),[r,a,d,h,b,y,w,_,S,x,k,C,T,R,M,P,q,Y,Q,O,z,J,Z]),te=(0,t.useMemo)((()=>rg($,(()=>q?Z?Tg(q,Z):void 0:q))),[$,q,Z]),ne=`${Y}@${Z}/${J}`;function ie(){switch(j){case"custom":return ug(u,'renderMode was set to "custom", but no customRenderer was passed.'),(0,of.jsx)(u,{},`${ne}_custom`);case"none":return null;default:return(0,of.jsx)(Qg,{canvasRef:o},`${ne}_canvas`)}}return(0,of.jsx)("div",Object.assign({className:og(r,c),"data-page-number":Q,ref:jg(g,X),style:{"--scale-factor":`${Z}`,backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},te,{children:Q?null===D||void 0===q||null===q?(0,of.jsx)(mg,{type:"loading",children:"function"===typeof m?m():m}):!1===D||!1===q?(0,of.jsx)(mg,{type:"error",children:"function"===typeof p?p():p}):(0,of.jsxs)(zg.Provider,{value:ee,children:[ie(),z?(0,of.jsx)(Jg,{},`${ne}_text`):null,F?(0,of.jsx)(em,{},`${ne}_annotations`):null,l]}):(0,of.jsx)(mg,{type:"no-data",children:"function"===typeof v?v():v})}))}const rm=()=>{const e=Ll(rf);return(0,of.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:"en"===e?(0,of.jsx)(Og,{file:tf,className:"w-1/2",children:(0,of.jsx)(im,{pageNumber:1})}):(0,of.jsx)(Og,{file:nf,className:"w-1/2",children:(0,of.jsx)(im,{pageNumber:1})})})},sm=()=>(0,of.jsxs)(of.Fragment,{children:[(0,of.jsx)(ff,{}),(0,of.jsxs)(me,{children:[(0,of.jsx)(fe,{path:"/",element:(0,of.jsx)(Jf,{})}),(0,of.jsx)(fe,{path:"/about",element:(0,of.jsx)(Yf,{})}),(0,of.jsx)(fe,{path:"/projects",element:(0,of.jsx)(Sf,{})}),(0,of.jsx)(fe,{path:"/skills",element:(0,of.jsx)(tg,{})}),(0,of.jsx)(fe,{path:"/contact",element:(0,of.jsx)(Yf,{})}),(0,of.jsx)(fe,{path:"/cv",element:(0,of.jsx)(rm,{})}),(0,of.jsx)(fe,{path:"*",element:(0,of.jsx)(Zf,{})})]})]}),am=()=>(0,of.jsx)(sm,{});r.createRoot(document.getElementById("root")).render((0,of.jsx)(ye,{basename:"/",children:(0,of.jsx)(t.StrictMode,{children:(0,of.jsx)(Ml,{children:(0,of.jsx)(am,{})})})})),Qp.workerSrc=new URL(n(583),n.b).toString(),s()})()})();
//# sourceMappingURL=main.ab01ae37.js.map